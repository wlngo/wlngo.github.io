<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>wlngo blog</title><link>https://wlngo.github.io/</link><description>Recent content on wlngo blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><copyright>wlngo</copyright><lastBuildDate>Wed, 18 Jun 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://wlngo.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>导航</title><link>https://wlngo.github.io/p/%E5%AF%BC%E8%88%AA/</link><pubDate>Tue, 11 Mar 2025 00:00:00 +0000</pubDate><guid>https://wlngo.github.io/p/%E5%AF%BC%E8%88%AA/</guid><description>&lt;h2 id="私有内网oss">&lt;a class="link" href="https://lb.wlngo.top:9050/" target="_blank" rel="noopener"
>私有内网Oss&lt;/a>
&lt;/h2>&lt;h2 id="alist">&lt;a class="link" href="https://lb.wlngo.top:5244/" target="_blank" rel="noopener"
>Alist&lt;/a>
&lt;/h2>&lt;h2 id="qb">&lt;a class="link" href="https://lb.wlngo.top:8060/" target="_blank" rel="noopener"
>qb&lt;/a>
&lt;/h2></description></item><item><title>code-server安装</title><link>https://wlngo.github.io/archives/code-server/</link><pubDate>Wed, 18 Jun 2025 00:00:00 +0000</pubDate><guid>https://wlngo.github.io/archives/code-server/</guid><description>&lt;h1 id="-code-server安装">☕ code-server安装
&lt;/h1></description></item><item><title>Java使用ffmpeg</title><link>https://wlngo.github.io/archives/java-ffmpeg/</link><pubDate>Wed, 18 Jun 2025 00:00:00 +0000</pubDate><guid>https://wlngo.github.io/archives/java-ffmpeg/</guid><description>&lt;h1 id="-java-使用-ffmpeg-实战手册">☕ Java 使用 FFmpeg 实战手册
&lt;/h1>&lt;p>如果你已经安装了 FFmpeg，可以直接通过 Java 的 &lt;code>ProcessBuilder&lt;/code> 或 &lt;code>Runtime.exec()&lt;/code> 来执行 FFmpeg 命令，实现音视频的转换、截图、压缩、录制等功能，无需引入任何第三方依赖。&lt;/p>
&lt;hr>
&lt;h2 id="-前提条件">✅ 前提条件
&lt;/h2>&lt;ul>
&lt;li>系统中已安装 FFmpeg 并配置在环境变量中（&lt;code>ffmpeg&lt;/code> 可在终端执行）&lt;/li>
&lt;li>Java 版本 8+&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="-1-java-调用-ffmpeg-转换音频格式如-pcm-24000--pcm-16000">🎵 1. Java 调用 FFmpeg 转换音频格式（如 pcm 24000 → pcm 16000）
&lt;/h2>&lt;pre>&lt;code> ProcessBuilder builder = new ProcessBuilder(
&amp;quot;ffmpeg&amp;quot;,
&amp;quot;-loglevel&amp;quot;, &amp;quot;error&amp;quot;, // 安静输出
&amp;quot;-f&amp;quot;, &amp;quot;f32le&amp;quot;,
&amp;quot;-ar&amp;quot;, &amp;quot;24000&amp;quot;,
&amp;quot;-ac&amp;quot;, &amp;quot;1&amp;quot;,
&amp;quot;-i&amp;quot;, &amp;quot;pipe:0&amp;quot;, // 从 stdin 读入
&amp;quot;-f&amp;quot;, &amp;quot;s16le&amp;quot;,
&amp;quot;-ar&amp;quot;, &amp;quot;16000&amp;quot;,
&amp;quot;-ac&amp;quot;, &amp;quot;1&amp;quot;,
&amp;quot;pipe:1&amp;quot; // 输出到 stdout
);
Process process = builder.start();
// 写入原始 PCM f32le 数据
try (OutputStream stdin = process.getOutputStream()) {
stdin.write(bytes);
stdin.flush();
}
// 读取输出的 PCM s16le 数据
ByteArrayOutputStream outputBuffer = new ByteArrayOutputStream();
try (InputStream stdout = process.getInputStream()) {
byte[] buffer = new byte[4096];
int len;
while ((len = stdout.read(buffer)) != -1) {
outputBuffer.write(buffer, 0, len);
}
}
// 等待 FFmpeg 执行完成
int exitCode = process.waitFor();
if (exitCode != 0) {
throw new RuntimeException(&amp;quot;FFmpeg process exited with code &amp;quot; + exitCode);
}
&lt;/code>&lt;/pre>
&lt;h2 id="-常用-ffmpeg-参数速查">📦 常用 FFmpeg 参数速查
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>参数&lt;/th>
&lt;th>含义&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>-i input&lt;/code>&lt;/td>
&lt;td>输入文件&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-f fmt&lt;/code>&lt;/td>
&lt;td>指定格式（如 &lt;code>f32le&lt;/code>, &lt;code>s16le&lt;/code>, &lt;code>mp4&lt;/code> 等）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-ar rate&lt;/code>&lt;/td>
&lt;td>音频采样率&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-ac channels&lt;/code>&lt;/td>
&lt;td>声道数（1 = mono, 2 = stereo）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-b:a&lt;/code>&lt;/td>
&lt;td>音频比特率（如 128k）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-vf&lt;/code>&lt;/td>
&lt;td>视频滤镜，如 &lt;code>fps=1&lt;/code> 截图&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-t seconds&lt;/code>&lt;/td>
&lt;td>限制录制/输出时长&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>pipe:0 / pipe:1&lt;/code>&lt;/td>
&lt;td>读取 stdin / 写入 stdout&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;h2 id="-建议工具与调试方式">🧪 建议工具与调试方式
&lt;/h2>&lt;ul>
&lt;li>&lt;code>ffmpeg -h&lt;/code> 查看帮助&lt;/li>
&lt;li>使用 &lt;code>builder.redirectErrorStream(true)&lt;/code> 合并错误输出便于调试&lt;/li>
&lt;li>在本地命令行先试通 FFmpeg 命令，再用 Java 调用&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="-结语">📘 结语
&lt;/h2>&lt;p>Java 通过 &lt;code>ProcessBuilder&lt;/code> 调用 FFmpeg 提供了轻量、灵活的音视频处理方案。适用于音频格式转换、实时推流、帧截取、录屏等多种场景，无需引入复杂依赖。如果需要更复杂的流式处理，可进一步使用 JavaCV 或 FFmpeg CLI 封装库。&lt;/p>
&lt;h2 id="-第二章使用-javacv-操作-ffmpeg适合复杂音视频任务-ffmpeg-转音频有杂音原因未知-目前运用最多的是视频转码">🎬 第二章：使用 JavaCV 操作 FFmpeg（适合复杂音视频任务 ffmpeg 转音频有杂音原因未知 目前运用最多的是视频转码）
&lt;/h2>&lt;p>&lt;a class="link" href="https://github.com/bytedeco/javacv" target="_blank" rel="noopener"
>JavaCV&lt;/a> 是对 FFmpeg、OpenCV 等原生库的 Java 封装，适合进行复杂的视频帧处理、实时音频流处理等任务。&lt;/p>
&lt;h3 id="-添加依赖maven">🧰 添加依赖（Maven）
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.bytedeco&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>javacv-platform&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>1.5.10&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span> &lt;span class="c">&amp;lt;!-- 可替换为最新版本 --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dependency&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="-示例将-pcm-音频流转为-mp3-文件">🎧 示例：将 PCM 音频流转为 MP3 文件
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.bytedeco.javacv.*&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">org.bytedeco.ffmpeg.global.avcodec&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">PcmToMp3&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Exception&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">FFmpegFrameGrabber&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">grabber&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">FFmpegFrameGrabber&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;input.pcm&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">FFmpegFrameRecorder&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">recorder&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">FFmpegFrameRecorder&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;output.mp3&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">grabber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setFormat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;f32le&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// 原始 PCM 格式&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">grabber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setSampleRate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">24000&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">grabber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setAudioChannels&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">grabber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setAudioBitrate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">128000&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">grabber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">recorder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setFormat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;mp3&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">recorder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setAudioCodec&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">avcodec&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">AV_CODEC_ID_MP3&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">recorder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setSampleRate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">24000&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">recorder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setAudioChannels&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">recorder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Frame&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">frame&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">while&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">frame&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">grabber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">grabFrame&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">recorder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">record&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">frame&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">recorder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">stop&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">grabber&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">stop&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="-使用建议">📌 使用建议
&lt;/h2>&lt;ul>
&lt;li>JavaCV 非常适合需要对帧进行逐帧处理的场景&lt;/li>
&lt;li>不适用于简单的音频格式转换（用命令行更轻量）&lt;/li>
&lt;li>可配合 Java NIO 管道、Netty 实现音视频实时处理&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="-更多资源">📚 更多资源
&lt;/h2>&lt;ul>
&lt;li>JavaCV 文档：https://bytedeco.org/javacv/&lt;/li>
&lt;li>示例项目：https://github.com/bytedeco/javacv-examples&lt;/li>
&lt;li>JavaCV 支持的 FFmpeg API 封装参考：&lt;code>org.bytedeco.ffmpeg.*&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr></description></item><item><title>websocket之SockJS</title><link>https://wlngo.github.io/archives/websocket-SockJs/</link><pubDate>Wed, 18 Jun 2025 00:00:00 +0000</pubDate><guid>https://wlngo.github.io/archives/websocket-SockJs/</guid><description>&lt;h1 id="-sockjs-使用手册">📡 SockJS 使用手册
&lt;/h1>&lt;p>SockJS 是一个浏览器和服务器都支持的 JavaScript 库，用于在 WebSocket 不可用时提供类似 WebSocket 的双向通信能力。它自动回退到兼容传输方式（如 AJAX 长轮询、iframe 等），适用于构建兼容性强的实时应用系统。&lt;/p>
&lt;hr>
&lt;h2 id="-核心特点">🧩 核心特点
&lt;/h2>&lt;ul>
&lt;li>&lt;strong>自动回退&lt;/strong>：在浏览器或网络不支持 WebSocket 时自动退回其他通信方式&lt;/li>
&lt;li>&lt;strong>浏览器兼容性强&lt;/strong>：支持 IE 8 及以上浏览器&lt;/li>
&lt;li>&lt;strong>标准化接口&lt;/strong>：与原生 WebSocket 类似的 API，如 &lt;code>onopen&lt;/code>、&lt;code>onmessage&lt;/code>、&lt;code>onclose&lt;/code>&lt;/li>
&lt;li>&lt;strong>服务器框架集成良好&lt;/strong>：与 Spring Boot 等现代后端框架良好集成&lt;/li>
&lt;li>&lt;strong>跨域支持友好&lt;/strong>：可配置 CORS，支持跨源通信&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="-使用示例">🧪 使用示例
&lt;/h2>&lt;h3 id="客户端javascript">客户端（JavaScript）
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">script&lt;/span> &lt;span class="n">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="n">script&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">script&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">const&lt;/span> &lt;span class="n">sock&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">new&lt;/span> &lt;span class="n">SockJS&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;http://localhost:8080/ws&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">onopen&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">console&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;连接已打开&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello Server&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">onmessage&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">console&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;收到消息:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">onclose&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">console&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;连接已关闭&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">script&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="服务端spring-boot-示例">服务端（Spring Boot 示例）
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@Configuration&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@EnableWebSocket&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nd">@RequiredArgsConstructor&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">WebSocketConfig&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">implements&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">WebSocketConfigurer&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HttpAuthHandler&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">httpAuthHandler&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">WsJwtInterceptor&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">wsJwt&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nd">@Override&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">registerWebSocketHandlers&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">WebSocketHandlerRegistry&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">registry&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">registry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">addHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">httpAuthHandler&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;/ws&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">addInterceptors&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">wsJwt&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setAllowedOrigins&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;*&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="na">withSockJS&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="-sockjs-支持的多种传输方式">🚚 SockJS 支持的多种传输方式
&lt;/h2>&lt;p>SockJS 会在以下传输方式中自动选择一种最适合的方式：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>顺序&lt;/th>
&lt;th>传输方式&lt;/th>
&lt;th>描述&lt;/th>
&lt;th>是否支持双向&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>WebSocket&lt;/td>
&lt;td>首选方式，基于 TCP 的真正全双工通信&lt;/td>
&lt;td>✅&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2&lt;/td>
&lt;td>XHR Streaming&lt;/td>
&lt;td>长连接持续推送数据&lt;/td>
&lt;td>✅&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3&lt;/td>
&lt;td>XHR Polling&lt;/td>
&lt;td>短轮询模拟实时通信&lt;/td>
&lt;td>✅&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4&lt;/td>
&lt;td>EventSource&lt;/td>
&lt;td>HTML5 单向推送，兼容性差&lt;/td>
&lt;td>❌&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5&lt;/td>
&lt;td>iframe Streaming&lt;/td>
&lt;td>利用隐藏 iframe 推送 script 内容&lt;/td>
&lt;td>✅&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>6&lt;/td>
&lt;td>iframe Polling&lt;/td>
&lt;td>最低效的回退方式&lt;/td>
&lt;td>✅&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>选择优先级顺序：&lt;/strong> &lt;code>WebSocket &amp;gt; XHR-streaming &amp;gt; XHR-polling &amp;gt; EventSource &amp;gt; iframe-streaming &amp;gt; iframe-polling&lt;/code>&lt;/p>
&lt;hr>
&lt;h2 id="-sockjs-vs-原生-websocket">🧠 SockJS vs 原生 WebSocket
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>特性&lt;/th>
&lt;th>SockJS&lt;/th>
&lt;th>WebSocket 原生&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>支持旧浏览器&lt;/td>
&lt;td>✅ 是&lt;/td>
&lt;td>❌ 否&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>自动回退机制&lt;/td>
&lt;td>✅ 支持&lt;/td>
&lt;td>❌ 无&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>与 STOMP 协议集成&lt;/td>
&lt;td>✅ 良好&lt;/td>
&lt;td>❌ 手动实现&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>性能（支持 WS 时）&lt;/td>
&lt;td>🚀 快（几乎等同原生）&lt;/td>
&lt;td>🚀 非常快&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>跨域与 HTTP 协调&lt;/td>
&lt;td>✅ 更易管理&lt;/td>
&lt;td>✅ 支持&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;h2 id="-使用场景">✅ 使用场景
&lt;/h2>&lt;ul>
&lt;li>移动设备或旧浏览器环境&lt;/li>
&lt;li>企业内网中使用 WebSocket 被屏蔽&lt;/li>
&lt;li>构建如聊天室、实时通知、在线监控等系统&lt;/li>
&lt;li>与 Spring Boot + STOMP 构建推送系统&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="-curl-请求-sockjs">🔍 Curl 请求 SockJS
&lt;/h2>&lt;p>虽然 SockJS 是为浏览器设计的，但你可以用 &lt;code>curl&lt;/code> 模拟部分通信步骤（如 xhr_send、xhr 接收等）&lt;/p>
&lt;h3 id="获取服务信息">获取服务信息
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl http://localhost:8080/ws/info
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="发送消息post">发送消息（POST）
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl -X POST -H &lt;span class="s2">&amp;#34;Content-Type: text/plain&amp;#34;&lt;/span> --data &lt;span class="s1">&amp;#39;&amp;#34;Hello from curl!&amp;#34;&amp;#39;&lt;/span> http://localhost:8080/ws/123/abc123/xhr_send
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="拉取消息get">拉取消息（GET）
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl http://localhost:8080/ws/123/abc123/xhr
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>⚠ 注意：SockJS 的连接 ID 和 session 是动态生成的，使用 curl 完整模拟需要提前抓包或实现 session 管理。建议使用 &lt;code>websocat&lt;/code> 工具或浏览器调试。&lt;/p>&lt;/blockquote>
&lt;hr>
&lt;h2 id="-推荐工具">🔧 推荐工具
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/sockjs/sockjs-client" target="_blank" rel="noopener"
>sockjs-client (GitHub)&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/vi/websocat" target="_blank" rel="noopener"
>&lt;code>websocat&lt;/code>&lt;/a>：命令行 WebSocket 工具&lt;/li>
&lt;li>Fiddler / Wireshark：抓包工具&lt;/li>
&lt;li>Postman 插件：测试 WebSocket API&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="-结语">📘 结语
&lt;/h2>&lt;p>SockJS 提供了良好的兼容性、容错能力和浏览器支持，是构建生产级实时通信系统时值得考虑的解决方案，特别适用于需要兼容旧环境或复杂网络限制的场景。
降级后不支持 二进制消息仅支持文本消息。&lt;/p></description></item><item><title>ios wss 断开问题</title><link>https://wlngo.github.io/archives/ios-wss-question/</link><pubDate>Wed, 26 Feb 2025 10:46:28 +0000</pubDate><guid>https://wlngo.github.io/archives/ios-wss-question/</guid><description>&lt;p>当然可以！以下是整理成Markdown格式的总结文档，详细说明如何处理ISO 15 WSS断开问题，并关闭&lt;code>permessage-deflate&lt;/code>扩展。&lt;/p>
&lt;hr>
&lt;h1 id="处理ios-wss断开问题并关闭-permessage-deflate">处理IOS WSS断开问题并关闭 &lt;code>permessage-deflate&lt;/code>
&lt;/h1>&lt;h2 id="背景">背景
&lt;/h2>&lt;p>在IOS使用WebSocket（WSS）进行通信时，有时会出现连接断开的问题。可能需要关闭&lt;code>permessage-deflate&lt;/code>扩展以避免兼容性问题。本文档将详细介绍如何在Nginx和Spring Boot应用中关闭&lt;code>permessage-deflate&lt;/code>扩展，以解决WSS断开问题。&lt;/p>
&lt;h2 id="解决方案">解决方案
&lt;/h2>&lt;h3 id="1-关闭-permessage-deflate-扩展">1. 关闭 &lt;code>permessage-deflate&lt;/code> 扩展
&lt;/h3>&lt;p>&lt;code>permessage-deflate&lt;/code> 是一种WebSocket压缩扩展，用于减少传输的数据量。但在某些情况下，它可能导致兼容性问题，特别是在特定的标准（如ISO 15）中。因此，我们需要关闭此扩展。&lt;/p>
&lt;h4 id="11-在-nginx-中关闭-permessage-deflate">1.1 在 Nginx 中关闭 &lt;code>permessage-deflate&lt;/code>
&lt;/h4>&lt;p>在Nginx配置文件中，可以通过设置&lt;code>proxy_set_header&lt;/code>来控制WebSocket扩展。具体步骤如下：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>编辑Nginx配置文件&lt;/strong>：
通常位于 &lt;code>/etc/nginx/nginx.conf&lt;/code> 或 &lt;code>/etc/nginx/conf.d/default.conf&lt;/code>。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>添加或修改以下配置&lt;/strong>：
在 &lt;code>location&lt;/code> 块中添加或修改 &lt;code>proxy_set_header&lt;/code> 指令，以禁用 &lt;code>permessage-deflate&lt;/code>。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="k">server&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">443&lt;/span> &lt;span class="s">ssl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">server_name&lt;/span> &lt;span class="s">example.com&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_certificate&lt;/span> &lt;span class="s">/path/to/certificate.pem&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_certificate_key&lt;/span> &lt;span class="s">/path/to/privatekey.pem&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">location&lt;/span> &lt;span class="s">/ws&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_pass&lt;/span> &lt;span class="s">http://backend_server&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_http_version&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="s">.1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">Upgrade&lt;/span> &lt;span class="nv">$http_upgrade&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">Connection&lt;/span> &lt;span class="s">&amp;#34;upgrade&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">Host&lt;/span> &lt;span class="nv">$host&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">X-Real-IP&lt;/span> &lt;span class="nv">$remote_addr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">X-Forwarded-For&lt;/span> &lt;span class="nv">$proxy_add_x_forwarded_for&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">X-Forwarded-Proto&lt;/span> &lt;span class="nv">$scheme&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">#重点
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kn">proxy_set_header&lt;/span> &lt;span class="s">Sec-WebSocket-Extensions&lt;/span> &lt;span class="s">&amp;#39;client_max_window_bits=0&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>注意：&lt;/p>
&lt;ul>
&lt;li>&lt;code>Sec-WebSocket-Extensions 'client_max_window_bits=0'&lt;/code> 表示禁用 &lt;code>permessage-deflate&lt;/code>。&lt;/li>
&lt;li>如果需要完全禁用所有扩展，可以设置为空字符串：&lt;code>Sec-WebSocket-Extensions ''&lt;/code>。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>重新加载Nginx配置&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">sudo nginx -s reload
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h4 id="12-在-spring-boot-中关闭-permessage-deflate">1.2 在 Spring Boot 中关闭 &lt;code>permessage-deflate&lt;/code>
&lt;/h4>&lt;p>在Spring Boot应用中，可以通过tomcat系统属性来禁用内置的WebSocket扩展。&lt;/p>
&lt;ol>
&lt;li>
&lt;p>令行参数设置，可以在启动Spring Boot应用时添加以下参数：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">java -Dorg.apache.tomcat.websocket.DISABLE_BUILTIN_EXTENSIONS&lt;span class="o">=&lt;/span>&lt;span class="nb">true&lt;/span> -jar your-application.jar
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>openwrt ipv6</title><link>https://wlngo.github.io/archives/openwrtipv6/</link><pubDate>Wed, 05 Jun 2024 10:06:14 +0000</pubDate><guid>https://wlngo.github.io/archives/openwrtipv6/</guid><description>&lt;ol>
&lt;li>取消ipv6&lt;/li>
&lt;li>改为禁用&lt;/li>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/video/BV1mT4y1b73p/?vd_source=ff149f95e46985639e96a57c5498bccd" target="_blank" rel="noopener"
>改ipv6视频&lt;/a>&lt;/li>
&lt;/ol></description></item><item><title>chatgpt-next-web 安装</title><link>https://wlngo.github.io/archives/chatgpt-next-web%E5%AE%89%E8%A3%85/</link><pubDate>Fri, 17 May 2024 17:53:15 +0000</pubDate><guid>https://wlngo.github.io/archives/chatgpt-next-web%E5%AE%89%E8%A3%85/</guid><description>&lt;p>&lt;a class="link" href="https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web" target="_blank" rel="noopener"
>githu地址&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run -d --name chatgpt-next-web -p 3000:3000 --restart=always \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e OPENAI_API_KEY=&amp;#34;sk-&amp;#34; \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e BASE_URL=&amp;#34;https://openkey.cloud&amp;#34; \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e CODE=2411228533 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yidadaa/chatgpt-next-web
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>mybatis-plus 集成idworker</title><link>https://wlngo.github.io/archives/mybatis-plus-ji-cheng-idworker/</link><pubDate>Thu, 14 Mar 2024 18:05:22 +0000</pubDate><guid>https://wlngo.github.io/archives/mybatis-plus-ji-cheng-idworker/</guid><description>&lt;h3 id="mybatis-plus-v340">mybatis-plus v3.4.0
&lt;/h3>&lt;p>fix: @TableName.autoResultMap=true 情况下, 内置的 selectBody 将不会进行 as ,使用了的需要注意!!!
feat: 新增 mybatis-plus-boot-starter-test 模块
fix: MetaObjectHandler 重载错误(解决办法是参数位置对调),填充值在泛型上支持字段类型的子类
feat: mybatis up to 3.5.5, mybatis-spring up to 2.0.5
feat: jsqlparser up to 3.2
feat: 新增 MybatisParameterHandler, 废弃 MybatisDefaultParameterHandler
feat: 分页插件加入 GBase,ClickHouse,oscar,OceanBase 数据库连接自动识别的支持
feat: Wrapper 新增api not(boolean condition, Consumer consumer)
feat: 新增 MybatisPlusInterceptor 解决 多租户和分页 插件一级和二级缓存不正确问题
feat: 新分页插件优化 size&amp;lt;0 时继续拼接 orderBy
feat: 新增 IdentifierGenerator 一个实现类 &lt;strong>ImadcnIdentifierGenerator&lt;/strong>
fix: chainWrapper#func 强转异常
fix(mybatis-plus-generator.main): 重构生成器数据库类型转换器，修复部分支条，提交选择器测试
fix: 修复复杂情况中动态表名替换产生的问题：正则由空白检测转为单词边界检测
refactor: 重构动态表名解析器，去除正则替换程序，改为按表名位置进行替换
refactor: 将表名解析重构为访问者模式，现在不会对原有 SQL 做改动&lt;/p>
&lt;p>ImadcnIdentifierGenerator 用于id生成&lt;/p>
&lt;h2 id="地址">地址
&lt;/h2>&lt;p>&lt;a class="link" href="https://github.com/imadcn/idworker" target="_blank" rel="noopener"
>idwork&lt;/a>
&lt;a class="link" href="https://github.com/baomidou/mybatis-plus" target="_blank" rel="noopener"
>mybatis-plus&lt;/a>&lt;/p>
&lt;h2 id="1引入maven依赖">1.引入maven依赖
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;lt;dependency&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;groupId&amp;gt;com.baomidou&amp;lt;/groupId&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;artifactId&amp;gt;mybatis-plus-boot-starter&amp;lt;/artifactId&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;version&amp;gt;3.5.2&amp;lt;/version&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/dependency&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;dependency&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;groupId&amp;gt;com.imadcn.framework&amp;lt;/groupId&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;artifactId&amp;gt;idworker&amp;lt;/artifactId&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;version&amp;gt;1.5.0&amp;lt;/version&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/dependency&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="2添加zookeeper配置">2.添加zookeeper配置
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mybatis-plus.zookeeper.serverLists=127.0.0.1:2181
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="3指定mybatis-plus的id生成器">3.指定mybatis-plus的id生成器
&lt;/h2>&lt;p>@Configuration
public class IdAutoConfig {
@Value(&amp;quot;${mybatis-plus.zookeeper.serverLists}&amp;quot;)
private String zkServerLists;
@Bean
public IdentifierGenerator idGenerator() {
return new ImadcnIdentifierGenerator(zkServerLists);
}
}&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>acme.sh 证书申请</title><link>https://wlngo.github.io/archives/acmesh%E8%AF%81%E4%B9%A6%E7%94%B3%E8%AF%B7/</link><pubDate>Tue, 12 Mar 2024 14:28:33 +0000</pubDate><guid>https://wlngo.github.io/archives/acmesh%E8%AF%81%E4%B9%A6%E7%94%B3%E8%AF%B7/</guid><description>&lt;p>安装&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">curl https://get.acme.sh | sh -s email=my@example.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>卸载&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">acme.sh --uninstall
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>设置提供商&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">acme.sh --set-default-ca --server letsencrypt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">acme.sh --set-default-ca --server zerossl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>DNSPod.cn 域名 API 选项要求您首先登录您的帐户以获取 DNSPod API 密钥和 ID。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="k">export&lt;/span> &lt;span class="n">DP_Id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;lt;id&amp;gt;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">export&lt;/span> &lt;span class="n">DP_Key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;lt;key&amp;gt;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>申请&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">./acme.sh --insecure --dnssleep 600 --issue --dns dns_dp -d wlngo.top -d *.wlngo.top
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>删除&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">acme.sh --remove -d wlngo.top
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>部署&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="o">./&lt;/span>&lt;span class="n">acme&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sh&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">install&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cert&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="n">wlngo&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">top&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">--&lt;/span>&lt;span class="n">key&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">file&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">nginx&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ssl&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">wlngo&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">top&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">key&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">--&lt;/span>&lt;span class="n">fullchain&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">file&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">nginx&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ssl&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">wlngo&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">top_bundle&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">crt&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">--&lt;/span>&lt;span class="n">reloadcmd&lt;/span> &lt;span class="s2">&amp;#34;sh /root/.acme.sh/reload.sh&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>reload.sh 脚本&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/usr/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl force-reload nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cp /etc/nginx/ssl/wlngo.top.key /opt/gitlab/config/ssl/wlngo.top.key
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cp /etc/nginx/ssl/wlngo.top_bundle.crt /opt/gitlab/config/ssl/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker &lt;span class="nb">exec&lt;/span> -it gitlab /bin/bash gitlab-ctl reconfigure
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>自动更新&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">acme.sh --upgrade --auto-upgrade
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>自动更新 关闭&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">acme.sh --upgrade --auto-upgrade 0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>gitlab cicd 模板</title><link>https://wlngo.github.io/archives/gitlabcicd-mo-ban/</link><pubDate>Thu, 07 Mar 2024 22:57:26 +0000</pubDate><guid>https://wlngo.github.io/archives/gitlabcicd-mo-ban/</guid><description>&lt;p>&lt;a class="link" href="https://docs.gitlab.cn/jh/ci/examples/" target="_blank" rel="noopener"
>https://docs.gitlab.cn/jh/ci/examples/&lt;/a>&lt;/p></description></item><item><title>杂项</title><link>https://wlngo.github.io/archives/%E6%9D%82%E9%A1%B9/</link><pubDate>Sat, 20 Jan 2024 23:37:14 +0000</pubDate><guid>https://wlngo.github.io/archives/%E6%9D%82%E9%A1%B9/</guid><description>&lt;p>同步文件&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> rsync -avux -e &amp;#39;ssh -p 22&amp;#39; root@192.168.123.181:/opt/* ./
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>设置主机名字&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">hostnamectl set-hostname name
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>查看更改是否生效。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">hostnamectl status
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>centos 修改静态ip&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">cd /etc/sysconfig/network-scripts &amp;amp;&amp;amp; vim ifcfg-ens19
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>rockylinux 同步时间&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> chronyc -a makestep
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>debian系列 同步时间&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">systemctl restart systemd-timesyncd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>W269N-WFGWX-YVC9B-4J6C9-T83GX
#Windows 10/ Windows 11 KMS 安装激活密钥
#Windows 10/11 Pro：W269N-WFGWX-YVC9B-4J6C9-T83GX
#Windows 10/11 Enterprise：NPPR9-FWDCX-D2C8J-H872K-2YT43
#Windows 10/11 Pro for Workstations：NRG8B-VKK3Q-CXVCJ-9G2XF-6Q84J&lt;/p></description></item><item><title>迅雷web</title><link>https://wlngo.github.io/archives/xun-lei-web/</link><pubDate>Thu, 09 Nov 2023 08:56:08 +0000</pubDate><guid>https://wlngo.github.io/archives/xun-lei-web/</guid><description>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">xunlei&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">2345&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">2345&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">xunlei&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">xunlei&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">qbittorrent&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">downloads&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">xunlei&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">downloads&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">privileged&lt;/span> &lt;span class="n">cnk3x&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">xunlei&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">latest&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>nacos</title><link>https://wlngo.github.io/archives/nacos/</link><pubDate>Mon, 23 Oct 2023 17:43:31 +0000</pubDate><guid>https://wlngo.github.io/archives/nacos/</guid><description>&lt;p>docker 部署集群&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run --name nacos --restart always \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e TZ=Asia/Shanghai \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e JVM_XMS=512m \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e JVM_XMX=512m \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e JVM_XMN=256m \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e JVM_XMS=64m \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e JVM_MMS=160m \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e NACOS_SERVER_IP=192.168.123.242 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e NACOS_SERVERS=&amp;#34;192.168.123.221:8848 192.168.123.176:8848 192.168.123.242:8848&amp;#34; \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e SPRING_DATASOURCE_PLATFORM=mysql \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e MYSQL_SERVICE_HOST=10.0.0.3 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e MYSQL_SERVICE_PORT=4000 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e MYSQL_SERVICE_DB_NAME=nacos \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e MYSQL_SERVICE_USER=&amp;#34;root&amp;#34; \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e MYSQL_SERVICE_PASSWORD=&amp;#34;密码&amp;#34; \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e NACOS_AUTH_IDENTITY_KEY=&amp;#34;nacos&amp;#34; \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e NACOS_AUTH_IDENTITY_VALUE=&amp;#34;密码&amp;#34; \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e NACOS_AUTH_ENABLE=&amp;#34;true&amp;#34; \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e NACOS_AUTH_TOKEN=&amp;#34;CbUgzg/ZXr9j3nDJ/IZvznPk5A5PtkdgHM3m7odHII4=&amp;#34; \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-p 8848:8848 -p 9848:9848 -p 9849:9849 -p7848:7848 -d \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nacos/nacos-server:v2.3.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>nacos-syc&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run --name nacos-sync --restart always -d \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e TZ=Asia/Shanghai \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-p 8083:8083 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">weiliangning.work:18040/docker/nacos-syc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>apisix 安装</title><link>https://wlngo.github.io/archives/apisix%E5%AE%89%E8%A3%85/</link><pubDate>Mon, 25 Sep 2023 17:06:16 +0000</pubDate><guid>https://wlngo.github.io/archives/apisix%E5%AE%89%E8%A3%85/</guid><description>&lt;p>etcd 安装&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run -d --restart always \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--name etcd -p 2379:2379 -p 2380:2380 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e ALLOW_NONE_AUTHENTICATION=yes \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e ETCD_ADVERTISE_CLIENT_URLS=http://192.168.123.185:2379 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e TZ=Asia/Shanghai \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/etcd/data:/bitnami/etcd/data \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> bitnami/etcd:3.5
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>apisix 安装&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> docker run -d --name apisix --restart always \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -e TZ=Asia/Shanghai \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -p 9080:9080 -p 9443:9443 -p 9180:9180 -p 9091:9091 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -v /opt/apisix/conf/config.yaml:/usr/local/apisix/conf/config.yaml \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> apache/apisix:3.2.2-debian
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>dashboard 安装&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run -d --name apisix-dashboard --restart always \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e TZ=Asia/Shanghai \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-p 9000:9000 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/apisix-dashboard/config/conf.yaml:/usr/local/apisix-dashboard/conf/conf.yaml \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/apisix-dashboard/logs:/usr/local/apisix-dashboard/logs/ \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apache/apisix-dashboard
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>docker 安装sftp</title><link>https://wlngo.github.io/archives/docker%E5%AE%89%E8%A3%85sftp/</link><pubDate>Fri, 01 Sep 2023 14:59:32 +0000</pubDate><guid>https://wlngo.github.io/archives/docker%E5%AE%89%E8%A3%85sftp/</guid><description>&lt;p>命令&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">LANG&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">en_US&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">UTF&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">8&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">LANGUAGE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">en_US&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">en&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">LC_ALL&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">en_US&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">UTF&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">8&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">TZ&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">Asia&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Shanghai&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">sftp&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">qbittorrent&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">downloads&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">home&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">foo&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">upload&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">44&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">22&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="n">atmoz&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">sftp&lt;/span> &lt;span class="n">foo&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="k">pass&lt;/span>&lt;span class="p">:::&lt;/span>&lt;span class="n">upload&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>wireguard</title><link>https://wlngo.github.io/archives/wireguard/</link><pubDate>Tue, 29 Aug 2023 10:24:21 +0000</pubDate><guid>https://wlngo.github.io/archives/wireguard/</guid><description>&lt;p>wireguard部署&lt;/p>
&lt;blockquote>
&lt;p>-p 51820:51820/udp 暴露端口&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run -d \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --name=wireguard \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --cap-add=NET_ADMIN \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -e PUID=1000 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -e PGID=1000 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -e TZ=Asia/Shanghai \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -e SERVERURL=www.wlngo.top \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -e SERVERPORT=51820 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -e PEERDNS=192.168.123.1 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -e INTERNAL_SUBNET=10.13.13.0 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -e ALLOWEDIPS=0.0.0.0/0 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -e PERSISTENTKEEPALIVE_PEERS=&amp;#34;all&amp;#34; \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -e LOG_CONFS=true \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -v /mnt/nvme0n1-4/opt/wireguard/config:/config \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --sysctl=&amp;#34;net.ipv4.conf.all.src_valid_mark=1&amp;#34; \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --restart always \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> lscr.io/linuxserver/wireguard:v1.0.20210914-ls31
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>wireguard-ui 初始化使用 0.5.2版本 0.6.2 无法初始化&lt;/p>
&lt;blockquote>
&lt;p>&amp;ndash;network=wireguard&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run -d --net=host -e &amp;#39;BIND_ADDRESS&amp;#39;=&amp;#39;192.168.123.1:5000&amp;#39; --restart=always --name wireguard-ui \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e WGUI_MANAGE_RESTART=true -e WGUI_MANAGE_START=true --cap-add=NET_ADMIN \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /mnt/nvme0n1-4/opt/wireguard-ui/db:/app/db -v /mnt/nvme0n1-4/opt/wireguard/config/wg_confs:/etc/wireguard \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ngoduykhanh/wireguard-ui:0.6.2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>inotifywait 监控文件变化脚本&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="nv">dir&lt;/span>&lt;span class="o">=&lt;/span>/opt/wireguard/config/wg_confs/wg0.conf &lt;span class="c1">#指定需要监视的文件夹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">log_file&lt;/span>&lt;span class="o">=&lt;/span>/opt/wireguard/logs/changes.log &lt;span class="c1">#指定输出信息的文件，方便后面查看&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">inotifywait -r &lt;span class="nv">$dir&lt;/span> -o &lt;span class="nv">$log_file&lt;/span> -e modify --timefmt &lt;span class="s1">&amp;#39;%y-%m-%d %H:%M&amp;#39;&lt;/span> --format &lt;span class="s1">&amp;#39;%T %w%f %e&amp;#39;&lt;/span> &lt;span class="c1">#这里只监视文件的close动作&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> docker restart wireguard &lt;span class="c1">#执行同步文件的脚本&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>nfs 安装</title><link>https://wlngo.github.io/archives/nfs%E5%AE%89%E8%A3%85/</link><pubDate>Wed, 23 Aug 2023 22:40:03 +0000</pubDate><guid>https://wlngo.github.io/archives/nfs%E5%AE%89%E8%A3%85/</guid><description>&lt;p>#安装NFS服务器端&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo apt-get install nfs-kernel-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>NFS服务器端配置 (/etc/exports)&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/opt/nfs 192.168.123.0/24(rw,sync,no_subtree_check,insecure,no_root_squash)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/opt/nfs 10.0.0.0/24(rw,sync,no_subtree_check,insecure,no_root_squash)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>解释&lt;/p>
&lt;ol>
&lt;li>rw 读写访问&lt;/li>
&lt;li>sync 所有数据在请求时写入共享&lt;/li>
&lt;li>No_root_squash 客户机用root访问该共享文件夹时，不映射root用户&lt;/li>
&lt;li>insecure NFS通过1024以上的端口发送 (如果客户端必须要 mount -o noresvport 访问，那么就需要 nfs 服务器配置允许非特权端口访问。需要修改 /etc/exports，设置 insecure 选项。)&lt;/li>
&lt;li>no_subtree_check 不检查父目录权限&lt;/li>
&lt;/ol>
&lt;p>#安装NFS客户端&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo apt-get install nfs-common
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>NFS客户端开机自启 配置目录(/etc/fstab)&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">#nfs
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">10.0.0.2:/opt/nfs /opt/webserver nfs vers=4,minorversion=0,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,_netdev,noresvport 0 0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>参数解释&lt;/p>
&lt;ol>
&lt;li>vers=4 文件系统版本4&lt;/li>
&lt;li>minorversion=0 生成注册句柄 minorVersion 是供应商为其产品定义的版本识别码 通常搭配vers=4使用&lt;/li>
&lt;li>rsize 每个READ命令字向服务器读取文件的最大字节数。实际数据小于或等于此值。resize必须是1024倍数的正整数，小于1024时自动设为4096，大于1048576时自动设为1048576。默认时，服务器和客户端进行协商后设置&lt;/li>
&lt;li>wsize 每个WRITE命令字向服务器写入文件的最大字节数。实际数据小于或等于此值。resize必须是1024倍数的正整数，小于1024时自动设为4096，大于1048576时自动设为1048576。默认时，服务器和客户端进行协商后设置。&lt;/li>
&lt;li>hard 使用硬挂载的方式挂载系统，该值是默认值，重复请求直到NFS服务器回应&lt;/li>
&lt;li>timeo=600 — 将NFS 客户端在重试NFS 请求之前用于等待响应的超时值设置为600 分秒（60 秒）。 如果您必须更改超时参数( timeo )，我们建议您使用至少为 150 的值，这相当于15 秒&lt;/li>
&lt;li>retrans=2 — 将NFS 客户端在尝试进一步恢复操作之前重试请求的次数设置为2。 noresvport — 告诉NFS 客户端在重新建立网络连接时使用新的传输控制协议(TCP) 源端口。&lt;/li>
&lt;li>_netdev它用于指示系统在网络挂载文件系统时等待网络连接建立之后再进行挂载操作&lt;/li>
&lt;li>noresvport — 告诉NFS 客户端在重新建立网络连接时使用新的传输控制协议(TCP) 源端口。 这样做有助于确保EFS 文件系统在网络恢复事件后具有不间断的可用性。 _netdev — 如果存在 /etc/fstab ，则防止客户端在启用网络之前尝试装载EFS 文件系统&lt;br>
(如果客户端必须要 mount -o noresvport 访问，那么就需要 nfs 服务器配置允许非特权端口访问。需要修改 /etc/exports，设置 insecure 选项。）&lt;/li>
&lt;/ol>
&lt;p>&lt;a class="link" href="https://help.aliyun.com/zh/nas/enable-an-automatic-mount-of-an-nfs-file-system-at-server-startup" target="_blank" rel="noopener"
>阿里云nfs挂载参考&lt;/a>&lt;/p></description></item><item><title>k8s 安装</title><link>https://wlngo.github.io/archives/k8s-an-zhuang/</link><pubDate>Fri, 18 Aug 2023 17:31:15 +0000</pubDate><guid>https://wlngo.github.io/archives/k8s-an-zhuang/</guid><description>&lt;h5 id="keepalived配置">keepalived配置
&lt;/h5>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">cat &amp;gt; /etc/keepalived/keepalived.conf &amp;lt;&amp;lt; EOF
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">! Configuration File for keepalived
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">global_defs {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> router_id LVS_DEVEL
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> enable_script_security
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> script_user root
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vrrp_script check_haproxy {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> script &amp;#34;killall -0 haproxy&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> interval 3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> weight -2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> fall 10
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> rise 2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vrrp_instance VI_1 {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> state BACKUP
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> interface ens18 # 虚拟网卡桥接的真实网卡
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> virtual_router_id 80
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # 优先级配置，每台服务器最好都不一样，如100，90，80等，优先级越高越先使用
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> priority 80
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> advert_int 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> authentication {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> auth_type PASS
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> auth_pass 111
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> virtual_ipaddress {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 192.168.123.200 # 对外提供的虚拟IP
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> track_script {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> check_haproxy
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">EOF
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="监控keepalived">监控keepalived
&lt;/h5>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/sh
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">errorExit&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;*** &lt;/span>&lt;span class="nv">$*&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> 1&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="m">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">exit&lt;/span> &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl --silent --max-time &lt;span class="m">2&lt;/span> --insecure http://localhost:6443/ -o /dev/null &lt;span class="o">||&lt;/span> errorExit &lt;span class="s2">&amp;#34;Error GET http://localhost:6443/&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> ip addr &lt;span class="p">|&lt;/span> grep -q 192.168.123.200&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> curl --silent --max-time &lt;span class="m">2&lt;/span> --insecure http://192.168.123.200:6443/ -o /dev/null &lt;span class="o">||&lt;/span> errorExit &lt;span class="s2">&amp;#34;Error GET http://192.168.123.200:6443/&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="haproxy配置">haproxy配置
&lt;/h5>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#---------------------------------------------------------------------&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># kubernetes apiserver frontend which proxys to the backends&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#---------------------------------------------------------------------&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">frontend&lt;/span> &lt;span class="n">kubernetes&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">apiserver&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mode&lt;/span> &lt;span class="n">tcp&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">bind&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">6444&lt;/span> &lt;span class="c1"># 对外提供服务的端口，必须和kubernetes一致&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">option&lt;/span> &lt;span class="n">tcplog&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">default_backend&lt;/span> &lt;span class="n">kubernetes&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">apiserver&lt;/span> &lt;span class="c1">#后端服务的名称&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#---------------------------------------------------------------------&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># round robin balancing between the various backends&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#---------------------------------------------------------------------&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">backend&lt;/span> &lt;span class="n">kubernetes&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">apiserver&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mode&lt;/span> &lt;span class="n">tcp&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">balance&lt;/span> &lt;span class="n">roundrobin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">server&lt;/span> &lt;span class="n">node&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">master&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="mf">192.168&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">123.246&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">6443&lt;/span> &lt;span class="n">check&lt;/span> &lt;span class="c1"># 后端服务器hostname和IP&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">server&lt;/span> &lt;span class="n">node&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">master&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span> &lt;span class="mf">192.168&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">123.213&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">6443&lt;/span> &lt;span class="n">check&lt;/span> &lt;span class="c1"># 后端服务器hostname和IP&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">server&lt;/span> &lt;span class="n">node&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">master&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span> &lt;span class="mf">192.168&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">123.154&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">6443&lt;/span> &lt;span class="n">check&lt;/span> &lt;span class="c1"># 后端服务器hostname和IP&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="https://developer.volcengine.com/articles/7052310062315864101" target="_blank" rel="noopener"
>https://developer.volcengine.com/articles/7052310062315864101&lt;/a>
/etc/crictl.yaml
&lt;a class="link" href="https://zhuanlan.zhihu.com/p/585865389" target="_blank" rel="noopener"
>https://zhuanlan.zhihu.com/p/585865389&lt;/a>
/etc/containerd/config.toml&lt;/p>
&lt;h5 id="命令">命令
&lt;/h5>&lt;p>污点和容忍&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">kubectl get no -o yaml | grep taint -A 5
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">kubectl taint nodes node-master-1 node-role.kubernetes.io/control-plane:NoSchedule
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>批量删除容器&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> crictl ps -a | awk &amp;#39;{print $1}&amp;#39; | xargs crictl rm
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>查看coredns&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> kubectl get pods --namespace=kube-system -l k8s-app=kube-dns
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>trojan 安装</title><link>https://wlngo.github.io/archives/trojan-an-zhuang/</link><pubDate>Tue, 25 Jul 2023 21:07:49 +0000</pubDate><guid>https://wlngo.github.io/archives/trojan-an-zhuang/</guid><description>&lt;p>安装脚本&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo bash -c &amp;#34;$(curl -fsSL https://raw.githubusercontent.com/trojan-gfw/trojan-quickstart/master/trojan-quickstart.sh)&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>tidb docker 部署</title><link>https://wlngo.github.io/archives/tidbdocker-bu-shu/</link><pubDate>Mon, 24 Jul 2023 00:14:34 +0000</pubDate><guid>https://wlngo.github.io/archives/tidbdocker-bu-shu/</guid><description>&lt;h1 id="tidb">tidb
&lt;/h1>&lt;p>分布式数据库 参考[官网文档 https://docs.pingcap.com/zh/tidb/stable/quick-start-with-tidb/]&lt;/p>
&lt;h2 id="部署">部署
&lt;/h2>&lt;h3 id="部署pd1">部署pd1
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">pd1&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span> &lt;span class="n">always&lt;/span>\
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">TZ&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">Asia&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Shanghai&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node_exporter&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node_exporter&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pd1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">network&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">elknetwork&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pingcap&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pd&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">v7&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">1.0&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;pd1&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">dir&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/data/pd1&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">urls&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;http://0.0.0.0:2379&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">advertise&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">urls&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;http://pd1:2379&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">peer&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">urls&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;http://0.0.0.0:2380&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">advertise&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">peer&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">urls&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;http://pd1:2380&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">initial&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;pd1=http://pd1:2380,pd2=http://pd2:2380,pd3=http://pd3:2380&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="部署pd2">部署pd2
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">pd2&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">2379&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">2379&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span> &lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">TZ&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">Asia&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Shanghai&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node_exporter&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node_exporter&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pd2&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">network&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">elknetwork&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pingcap&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pd&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">v7&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">1.0&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;pd2&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">dir&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/data/pd2&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">urls&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;http://0.0.0.0:2379&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">advertise&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">urls&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;http://pd2:2379&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">peer&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">urls&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;http://0.0.0.0:2380&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">advertise&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">peer&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">urls&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;http://pd2:2380&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">initial&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;pd1=http://pd1:2380,pd2=http://pd2:2380,pd3=http://pd3:2380&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="部署pd3">部署pd3
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">pd3&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span> &lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">TZ&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">Asia&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Shanghai&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node_exporter&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node_exporter&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pd3&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">network&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">elknetwork&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pingcap&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pd&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">v7&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">1.0&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;pd3&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">dir&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/data/pd3&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">urls&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;http://0.0.0.0:2379&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">advertise&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">urls&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;http://pd3:2379&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">peer&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">urls&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;http://0.0.0.0:2380&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">advertise&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">peer&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">urls&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;http://pd3:2380&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">initial&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;pd1=http://pd1:2380,pd2=http://pd2:2380,pd3=http://pd3:2380&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="部署tikv1">部署tikv1
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">tikv1&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span> &lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">ulimit&lt;/span> &lt;span class="n">nofile&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1000000&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">1000000&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">TZ&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">Asia&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Shanghai&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node_exporter&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node_exporter&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tikv1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">network&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">elknetwork&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pingcap&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tikv&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">v7&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">1.0&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">addr&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;0.0.0.0:20160&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">advertise&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">addr&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;tikv1:20160&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">dir&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/data/tikv1&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">pd&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;pd1:2379,pd2:2379,pd3:2379&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">advertise&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">addr&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;tikv1:20180&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">addr&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;0.0.0.0:20180&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="部署tikv2">部署tikv2
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">tikv2&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span> &lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">ulimit&lt;/span> &lt;span class="n">nofile&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1000000&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">1000000&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">TZ&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">Asia&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Shanghai&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node_exporter&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node_exporter&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tikv2&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">network&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">elknetwork&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pingcap&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tikv&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">v7&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">1.0&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">addr&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;0.0.0.0:20160&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">advertise&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">addr&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;tikv2:20160&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">dir&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/data/tikv2&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">pd&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;pd1:2379,pd2:2379,pd3:2379&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">advertise&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">addr&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;tikv2:20180&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">status&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">addr&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;0.0.0.0:20180&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="部署tikv3">部署tikv3
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-docker" data-lang="docker">&lt;span class="line">&lt;span class="cl"> --restart always &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --ulimit &lt;span class="nv">nofile&lt;/span>&lt;span class="o">=&lt;/span>1000000:1000000 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">TZ&lt;/span>&lt;span class="o">=&lt;/span>Asia/Shanghai &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v /opt/tidb/node_exporter:/opt/tidb/node_exporter &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v /etc/timezone:/etc/timezone:ro &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v /etc/localtime:/etc/localtime:ro &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v /opt/tidb/tikv3/data:/data &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --network&lt;span class="o">=&lt;/span>elknetwork &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> pingcap/tikv:v7.1.0 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --addr&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;0.0.0.0:20160&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --advertise-addr&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;tikv3:20160&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --data-dir&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/data/tikv3&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --pd&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;pd1:2379,pd2:2379,pd3:2379&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --advertise-status-addr&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;tikv3:20180&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --status-addr&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;0.0.0.0:20180&amp;#34;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="部署tidb">部署tidb
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">tidb&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span> &lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">4000&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">4000&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">10080&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">10080&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">TZ&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">Asia&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Shanghai&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node_exporter&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node_exporter&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">network&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">elknetwork&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pingcap&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">v7&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">1.0&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">store&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">tikv&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;pd1:2379,pd2:2379,pd3:2379&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="部署tiflash">部署tiflash
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run --name tiflash \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -e TZ=Asia/Shanghai \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -v /etc/timezone:/etc/timezone:ro \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -v /etc/localtime:/etc/localtime:ro \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -v /opt/tidb/tiflash/data:/data \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -v /opt/tidb/tiflash/conf/tiflash.toml:/opt/tidb/tiflash/conf/tiflash.toml \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --restart always -d \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --network=elknetwork \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> pingcap/tiflash:v7.1.0 --config=/opt/tidb/tiflash/conf/tiflash.toml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="部署ng-monitoring">部署ng-monitoring
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">ng&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">monitoring&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">TZ&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">Asia&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Shanghai&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ng&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">monitoring&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ng&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">monitoring&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">conf&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">toml&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ng&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">monitoring&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">conf&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">toml&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span> &lt;span class="n">always&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">network&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">elknetwork&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pingcap&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ng&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">monitoring&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">v7&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">1.0&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ng&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">monitoring&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">conf&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">toml&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">docker&lt;/span> &lt;span class="n">exec&lt;/span> &lt;span class="n">tidb&lt;/span> &lt;span class="n">sh&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node_exporter&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">docker&lt;/span> &lt;span class="n">exec&lt;/span> &lt;span class="n">pd1&lt;/span> &lt;span class="n">sh&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node_exporter&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">docker&lt;/span> &lt;span class="n">exec&lt;/span> &lt;span class="n">pd2&lt;/span> &lt;span class="n">sh&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node_exporter&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">docker&lt;/span> &lt;span class="n">exec&lt;/span> &lt;span class="n">pd3&lt;/span> &lt;span class="n">sh&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node_exporter&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">docker&lt;/span> &lt;span class="n">exec&lt;/span> &lt;span class="n">tikv1&lt;/span> &lt;span class="n">sh&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node_exporter&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">docker&lt;/span> &lt;span class="n">exec&lt;/span> &lt;span class="n">tikv2&lt;/span> &lt;span class="n">sh&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node_exporter&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">docker&lt;/span> &lt;span class="n">exec&lt;/span> &lt;span class="n">tikv3&lt;/span> &lt;span class="n">sh&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node_exporter&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sh&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="内存优化">内存优化
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker update --memory 6g --memory-swap -1 tiflash tidb tikv1 tikv2 tikv3 pd1 pd2 pd3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker update --memory 1g --memory-swap -1 ng-monitoring
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>SELECT @@tidb_server_memory_limit 默认=80%
SET GLOBAL tidb_server_memory_limit = &amp;ldquo;4GB&amp;rdquo;;
SELECT @@tidb_server_memory_limit_gc_trigger 默认=0.7
select sysdate() 查询日期
ALTER USER &amp;lsquo;root&amp;rsquo;@&amp;rsquo;%&amp;rsquo; IDENTIFIED BY &amp;lsquo;mypass&amp;rsquo;; 修改root密码&lt;/p>
&lt;h2 id="haproxy-代理tidb">HAProxy 代理tidb
&lt;/h2>&lt;p>安装&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo apt install haproxy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>/etc/haproxy/haproxy.cfg 配置&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-mysql" data-lang="mysql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">global&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 全局配置。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">127&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">local2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 定义全局的 syslog 服务器，最多可以定义两个。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">chroot&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lib&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">haproxy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 更改当前目录并为启动进程设置超级用户权限，从而提高安全性。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pidfile&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">haproxy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pid&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 将 HAProxy 进程的 PID 写入 pidfile。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">maxconn&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">4000&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 每个 HAProxy 进程所接受的最大并发连接数。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">user&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">haproxy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 同 UID 参数。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">group&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">haproxy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 同 GID 参数，建议使用专用用户组。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">nbproc&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">40&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 在后台运行时创建的进程数。在启动多个进程转发请求时，确保该值足够大，保证 HAProxy 不会成为瓶颈。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">daemon&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 让 HAProxy 以守护进程的方式工作于后台，等同于命令行参数“-D”的功能。当然，也可以在命令行中用“-db”参数将其禁用。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">stats&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">socket&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lib&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">haproxy&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">stats&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 统计信息保存位置。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">defaults&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 默认配置。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">global&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 日志继承全局配置段的设置。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">retries&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 向上游服务器尝试连接的最大次数，超过此值便认为后端服务器不可用。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">timeout&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">connect&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># HAProxy 与后端服务器连接超时时间。如果在同一个局域网内，可设置成较短的时间。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">timeout&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">30000&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 客户端与 HAProxy 连接后，数据传输完毕，即非活动连接的超时时间。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">timeout&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">server&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">30000&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 服务器端非活动连接的超时时间。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">listen&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">admin_stats&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># frontend 和 backend 的组合体，此监控组的名称可按需进行自定义。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">bind&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">8080&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 监听端口。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mode&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">http&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 监控运行的模式，此处为 `http` 模式。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">option&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">httplog&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 开始启用记录 HTTP 请求的日志功能。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">maxconn&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 最大并发连接数。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">stats&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">refresh&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">30&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 每隔 30 秒自动刷新监控页面。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">stats&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">uri&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">haproxy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 监控页面的 URL。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">stats&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">realm&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HAProxy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 监控页面的提示信息。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">stats&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">auth&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">admin&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">pingcap123&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 监控页面的用户和密码，可设置多个用户名。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">stats&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">hide&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">version&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 隐藏监控页面上的 HAProxy 版本信息。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">stats&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">admin&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="no">TRUE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 手工启用或禁用后端服务器（HAProxy 1.4.9 及之后版本开始支持）。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">listen&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 配置 database 负载均衡。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">bind&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">3390&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 浮动 IP 和 监听端口。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mode&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">tcp&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># HAProxy 要使用第 4 层的传输层。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">balance&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">leastconn&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 连接数最少的服务器优先接收连接。`leastconn` 建议用于长会话服务，例如 LDAP、SQL、TSE 等，而不是短会话协议，如 HTTP。该算法是动态的，对于启动慢的服务器，服务器权重会在运行中作调整。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">server&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">18&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">229&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">4000&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">check&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">inter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">2000&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">rise&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">fall&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1"># 检测 4000 端口，检测频率为每 2000 毫秒一次。如果 2 次检测为成功，则认为服务器可用；如果 3 次检测为失败，则认为服务器不可用。
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">server&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">39&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">208&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">4000&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">check&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">inter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">2000&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">rise&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">fall&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">server&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">tidb&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">64&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">166&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">4000&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">check&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">inter&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">2000&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">rise&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">fall&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>docker redis 集群安装3主3从</title><link>https://wlngo.github.io/archives/dockerredis%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%853%E4%B8%BB3%E4%BB%8E/</link><pubDate>Tue, 11 Jul 2023 09:25:06 +0000</pubDate><guid>https://wlngo.github.io/archives/dockerredis%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%853%E4%B8%BB3%E4%BB%8E/</guid><description>&lt;p>1主&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">master&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">network&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">elknetwork&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">6429&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">6429&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">16429&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">16429&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">master&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">master&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">conf&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">local&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">master&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lib&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">redis&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">server&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">local&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conf&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>2主&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">master&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">network&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">elknetwork&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">6449&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">6449&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">16449&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">16449&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">master&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">master&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">conf&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">local&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">master&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lib&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">redis&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">server&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">local&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conf&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>3主&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">master&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">network&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">elknetwork&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">6469&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">6469&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">16469&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">16469&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">master&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">master&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">conf&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">local&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">master&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lib&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">redis&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">server&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">local&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conf&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>从1&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">slave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">network&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">elknetwork&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">6439&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">6439&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">16439&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">16439&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">slave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">slave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">conf&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">local&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">slave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lib&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">redis&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">server&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">local&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conf&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>从2&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">slave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">network&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">elknetwork&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">6459&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">6459&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">16459&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">16459&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">slave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">slave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">conf&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">local&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">slave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lib&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">redis&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">server&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">local&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conf&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>从3&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">slave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">network&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">elknetwork&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">6479&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">6479&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">16479&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">16479&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">slave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">slave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">conf&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">local&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">slave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lib&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">redis&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">server&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">local&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conf&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>默认参数&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">6379&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">6379&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">16379&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">16379&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">TZ&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">Asia&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Shanghai&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">conf&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">local&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cluster&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lib&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">redis&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">7.0&lt;/span> &lt;span class="n">redis&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">server&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">local&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">redis&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conf&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>配置文件&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">#docker 启动不开启守护进程 物理机开启
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">daemonize no
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#开启集群模式
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cluster-enabled yes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cluster-announce-ip 192.168.123.210
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cluster-announce-port 6379
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#集群通讯端口
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cluster-announce-bus-port 16379
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>规划和集群&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">cluster nodes 查看集群信息
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cluster replicate 映射主节点
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">主
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">192.168.123.117 6379
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">192.168.123.196 6379
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">192.168.123.139 6379
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">从
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">192.168.123.221 6379
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">192.168.123.176 6379
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">192.168.123.242 6379
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">建立联系
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">redis-cli -h 192.168.123.117 -p 6379 -a 密码 cluster replicate 主节点
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cluster meet 192.168.123.196 6379
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cluster meet 192.168.123.139 6379
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cluster meet 192.168.123.221 6379
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cluster meet 192.168.123.176 6379
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cluster meet 192.168.123.242 6379
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">映射主节点
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">redis-cli -h 192.168.123.221 -p 6379 -a 密码 cluster replicate 主节点
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">redis-cli -h 192.168.123.176 -p 6379 -a 密码 cluster replicate 主节点
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">redis-cli -h 192.168.123.242 -p 6379 -a 密码 cluster replicate 主节点
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">主节点分配哈希槽
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">redis-cli -h 192.168.123.117 -p 6379 -a 密码 cluster addslots {0..5461}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">redis-cli -h 192.168.123.196 -p 6379 -a 密码 cluster addslots {5462..10922}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">redis-cli -h 192.168.123.139 -p 6379 -a 密码 cluster addslots {10923..16383}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Envoy Proxy 用于代理redis 集群
envoy.yaml&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">static_resources&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">listeners&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">redis_listener&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">address&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">socket_address&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">address&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">0.0&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">0.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">port_value&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">6480&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filter_chains&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="n">filters&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">envoy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">filters&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">network&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">redis_proxy&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">typed_config&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;@type&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">type&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">googleapis&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">com&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">envoy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">extensions&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">filters&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">network&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">redis_proxy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">v3&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">RedisProxy&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">stat_prefix&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">egress_redis&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">settings&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">op_timeout&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="n">s&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">prefix_routes&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">catch_all_route&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cluster&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">redis_cluster&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">downstream_auth_passwords&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="n">inline_string&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;密码&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">clusters&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">redis_cluster&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cluster_type&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">envoy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">clusters&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">redis&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">typed_config&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;@type&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">type&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">googleapis&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">com&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">google&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">protobuf&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Struct&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">value&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cluster_refresh_rate&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="n">s&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cluster_refresh_timeout&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="n">s&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">connect_timeout&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="n">s&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">dns_lookup_family&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">V4_ONLY&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lb_policy&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">CLUSTER_PROVIDED&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">load_assignment&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cluster_name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">redis_cluster&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">endpoints&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lb_endpoints&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="n">endpoint&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">address&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">socket_address&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">address&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">192.168&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">123.210&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">port_value&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">6429&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="n">endpoint&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">address&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">socket_address&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">address&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">192.168&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">123.210&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">port_value&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">6439&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="n">endpoint&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">address&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">socket_address&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">address&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">192.168&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">123.210&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">port_value&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">6449&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="n">endpoint&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">address&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">socket_address&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">address&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">192.168&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">123.210&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">port_value&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">6459&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="n">endpoint&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">address&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">socket_address&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">address&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">192.168&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">123.210&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">port_value&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">6469&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span> &lt;span class="n">endpoint&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">address&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">socket_address&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">address&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">192.168&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">123.210&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">port_value&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">6479&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">typed_extension_protocol_options&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">envoy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">filters&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">network&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">redis_proxy&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;@type&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">type&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">googleapis&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">com&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">google&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">protobuf&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Struct&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">value&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">auth_password&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">inline_string&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;密码&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">admin&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">access_log_path&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;/opt/envoy/log/access.log&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">address&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">socket_address&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">address&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">0.0&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">0.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">port_value&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">6490&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run -d --name envoy --network=elknetwork --restart=always \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-p 6480:6480 -p 6490:6490 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/envoy/conf/envoy.yaml:/etc/envoy/envoy.yaml \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/envoy/log:/opt/envoy/log \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /etc/localtime:/etc/localtime \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">envoyproxy/envoy:v1.26-latest -c /etc/envoy/envoy.yaml --service-cluster proxy --log-level info
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>docker run -d &amp;ndash;name twemproxy &amp;ndash;network=elknetwork &amp;ndash;restart=always &lt;br>
-p 6480:6480 &lt;br>
-v /etc/nutcracker.conf:/opt/twemproxy/conf/nutcracker.conf &lt;br>
malexer/twemproxy&lt;/p></description></item><item><title>logback doc</title><link>https://wlngo.github.io/archives/logbackdoc/</link><pubDate>Tue, 20 Jun 2023 09:17:49 +0000</pubDate><guid>https://wlngo.github.io/archives/logbackdoc/</guid><description>&lt;p>&lt;a class="link" href="https://logback.qos.ch/manual/appenders.html" target="_blank" rel="noopener"
>https://logback.qos.ch/manual/appenders.html&lt;/a>&lt;/p></description></item><item><title>filebrowser</title><link>https://wlngo.github.io/archives/filebrowser/</link><pubDate>Sun, 30 Apr 2023 19:34:22 +0000</pubDate><guid>https://wlngo.github.io/archives/filebrowser/</guid><description>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">filebrowser&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">qbittorrent&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">downloads&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">srv&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">filebrowser&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">filebrowser&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">db&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">database&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">filebrowser&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">db&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">filebrowser&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">settings&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">json&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">settings&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">json&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">8070&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">80&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filebrowser&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">filebrowser&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">s6&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>qbittorrent 安装</title><link>https://wlngo.github.io/archives/qbittorrent-an-zhuang/</link><pubDate>Sun, 30 Apr 2023 18:57:39 +0000</pubDate><guid>https://wlngo.github.io/archives/qbittorrent-an-zhuang/</guid><description>&lt;p>docker run -d &amp;ndash;name=qbittorrent -e PUID=1000 -e PGID=1000 &lt;br>
-e TZ=Asia/Shangha -e WEBUI_PORT=8060 -p 8060:8060 -p 16881:16881 &lt;br>
-v /opt/qbittorrent/config:/config -v /opt/qbittorrent/downloads:/downloads &amp;ndash;restart always &lt;br>
linuxserver/qbittorrent&lt;/p></description></item><item><title>Aria2</title><link>https://wlngo.github.io/archives/aria2/</link><pubDate>Fri, 28 Apr 2023 17:24:56 +0000</pubDate><guid>https://wlngo.github.io/archives/aria2/</guid><description>&lt;p>&lt;a class="link" href="https://hub.docker.com/r/p3terx/aria2-pro" target="_blank" rel="noopener"
>docker hub镜像&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker pull p3terx/aria2-pro
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>启动命令&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">aria2&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">pro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span> &lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">opt&lt;/span> &lt;span class="nb">max&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="n">m&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">PUID&lt;/span>&lt;span class="o">=$&lt;/span>&lt;span class="n">UID&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">PGID&lt;/span>&lt;span class="o">=$&lt;/span>&lt;span class="n">GID&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">UMASK_SET&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">022&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">RPC_SECRET&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">2411228533&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">RPC_PORT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">6800&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">LISTEN_PORT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">6888&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">network&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">elknetwork&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">aria2&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">server&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">aria2&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">config&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">aria2&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">server&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">aria2&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">downloads&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">downloads&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">p3terx&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">aria2&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">pro&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>oauth2.0</title><link>https://wlngo.github.io/archives/oauth20/</link><pubDate>Mon, 24 Apr 2023 17:56:24 +0000</pubDate><guid>https://wlngo.github.io/archives/oauth20/</guid><description>&lt;p>spring.security.oauth2.client.registration.gitee.redirect-uri:
&lt;a class="link" href="https://docs.spring.io/spring-security/site/docs/5.2.12.RELEASE/reference/html/oauth2.html#oauth2login-sample-redirect-uri" target="_blank" rel="noopener"
>文档&lt;/a>
旧的模板值&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;#39;{baseUrl}/{action}/oauth2/code/{registrationId}&amp;#39;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>新的模板值&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;#39;{baseUrl}/login/oauth2/code/{registrationId}&amp;#39;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="oauth20-资料文档">Oauth2.0 资料文档
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://www.jetbrains.com/help/youtrack/devportal/OAuth-authorization-in-hub.html" target="_blank" rel="noopener"
>https://www.jetbrains.com/help/youtrack/devportal/OAuth-authorization-in-hub.html&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://juejin.cn/post/7151692788071923742#heading-0" target="_blank" rel="noopener"
>https://juejin.cn/post/7151692788071923742#heading-0&lt;/a>&lt;/li>
&lt;li>客户端模式 scope 多个需要 单个空格 间隔开&lt;/li>
&lt;li>&lt;a class="link" href="https://developer.okta.com/docs/api/openapi/okta-oauth/guides/client-auth/#token-claims-for-client-authentication-with-client-secret-or-private-key-jwt" target="_blank" rel="noopener"
>https://developer.okta.com/docs/api/openapi/okta-oauth/guides/client-auth/#token-claims-for-client-authentication-with-client-secret-or-private-key-jwt&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://cloudentity.com/developers/basics/oauth-client-authentication/client-secret-authentication/#authentication-using-client_secret_basic-method" target="_blank" rel="noopener"
>https://cloudentity.com/developers/basics/oauth-client-authentication/client-secret-authentication/#authentication-using-client_secret_basic-method&lt;/a>&lt;/li>
&lt;li>注册(RegisteredClientRepository) token(OAuth2AuthorizationService)&lt;/li>
&lt;li>&lt;a class="link" href="https://docs.spring.io/spring-security/reference/servlet/oauth2/index.html" target="_blank" rel="noopener"
>https://docs.spring.io/spring-security/reference/servlet/oauth2/index.html&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://spring.io/projects/spring-authorization-server" target="_blank" rel="noopener"
>https://spring.io/projects/spring-authorization-server&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="spring-security-权限决策-accessdecisionmanager">Spring Security 权限决策 （AccessDecisionManager）
&lt;/h2>&lt;ul>
&lt;li>一票通过(AffirmativeBased)&lt;/li>
&lt;li>一票否决(UnanimousBased)&lt;/li>
&lt;li>少数服从多数(ConsensusBased)&lt;/li>
&lt;/ul>
&lt;h2 id="spring-security-json-登录spring-boot-3-">Spring Security json 登录（spring boot 3 +）
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://www.duidaima.com/Group/Topic/JAVA/10494%28Spring" target="_blank" rel="noopener"
>https://www.duidaima.com/Group/Topic/JAVA/10494(Spring&lt;/a> Security )&lt;/li>
&lt;/ul>
&lt;h2 id="jwks">jwks
&lt;/h2>&lt;p>&lt;a class="link" href="https://fullstackladder.dev/blog/2023/01/28/openid-validate-token-with-rs256-and-jwks/" target="_blank" rel="noopener"
>https://fullstackladder.dev/blog/2023/01/28/openid-validate-token-with-rs256-and-jwks/&lt;/a>&lt;/p></description></item><item><title>grafana</title><link>https://wlngo.github.io/archives/grafana/</link><pubDate>Sun, 16 Apr 2023 21:40:08 +0000</pubDate><guid>https://wlngo.github.io/archives/grafana/</guid><description>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">grafana&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">3000&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">3000&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">TZ&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">Asia&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Shanghai&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">grafana&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lib&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">grafana&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">grafana&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">grafana&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>安装 sonarqube</title><link>https://wlngo.github.io/archives/%E5%AE%89%E8%A3%85sonarqube/</link><pubDate>Sun, 16 Apr 2023 18:07:17 +0000</pubDate><guid>https://wlngo.github.io/archives/%E5%AE%89%E8%A3%85sonarqube/</guid><description>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run -d --name sonarqube \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -p 9000:9000 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -e SONAR_JDBC_URL=jdbc:postgresql://www.weiliangning.work:5432/ \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -e SONAR_JDBC_USERNAME=postgres \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -e SONAR_JDBC_PASSWORD=... \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -v /opt/sonarqube/data:/opt/sonarqube/data \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -v /opt/sonarqube/extensions:/opt/sonarqube/extensions \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -v /opt/sonarqube/logs:/opt/sonarqube/logs \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sonarqube:lts
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>docker 安装mongo</title><link>https://wlngo.github.io/archives/docker%E5%AE%89%E8%A3%85mongo/</link><pubDate>Sun, 16 Apr 2023 17:14:58 +0000</pubDate><guid>https://wlngo.github.io/archives/docker%E5%AE%89%E8%A3%85mongo/</guid><description>&lt;p>&lt;a class="link" href="https://hub.docker.com/_/mongo" target="_blank" rel="noopener"
>https://hub.docker.com/_/mongo&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">mongo&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">27017&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">27017&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">TZ&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">Asia&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Shanghai&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">mongo&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">db&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">MONGO_INITDB_ROOT_USERNAME&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">root&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">MONGO_INITDB_ROOT_PASSWORD&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">secret&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">mongo&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">6.0&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">rc&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>zookeeper docker</title><link>https://wlngo.github.io/archives/zookeeperdocker/</link><pubDate>Fri, 14 Apr 2023 21:11:53 +0000</pubDate><guid>https://wlngo.github.io/archives/zookeeperdocker/</guid><description>&lt;h2 id="集群需要修改-data-下-myid-分别为1-2-3--此处是伪集群模式">集群需要修改 data 下 myid 分别为1 2 3 (此处是伪集群模式)
&lt;/h2>&lt;h2 id="zookeeper-a">zookeeper-a
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run --name zookeeper-a --restart always -d \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/zookeeper/zookeeper-a/conf/zoo.cfg:/conf/zoo.cfg \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/zookeeper/zookeeper-a/datalog/:/datalog \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/zookeeper/zookeeper-a/data/:/data \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /etc/timezone:/etc/timezone:ro \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /etc/localtime:/etc/localtime:ro \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--network=host \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zookeeper
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="zookeeper-b">zookeeper-b
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run --name zookeeper-b --restart always -d \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/zookeeper/zookeeper-b/conf/zoo.cfg:/conf/zoo.cfg \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/zookeeper/zookeeper-b/datalog/:/datalog \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/zookeeper/zookeeper-b/data/:/data \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /etc/timezone:/etc/timezone:ro \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /etc/localtime:/etc/localtime:ro \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--network=host \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zookeeper
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="zookeeper-c">zookeeper-c
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run --name zookeeper-c --restart always -d \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/zookeeper/zookeeper-c/conf/zoo.cfg:/conf/zoo.cfg \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/zookeeper/zookeeper-c/datalog/:/datalog \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/zookeeper/zookeeper-c/data/:/data \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /etc/timezone:/etc/timezone:ro \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /etc/localtime:/etc/localtime:ro \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--network=host \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zookeeper
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="zookeeper集群">zookeeper集群
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run --name zookeeper --restart always -d \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e TZ=Asia/Shanghai \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/zookeeper/conf/zoo.cfg:/conf/zoo.cfg \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/zookeeper/datalog/:/datalog \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/zookeeper/data/:/data \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--network=host \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zookeeper:3.9.1-jre-17
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>showdoc docker 安装</title><link>https://wlngo.github.io/archives/showdocdocker-an-zhuang/</link><pubDate>Fri, 14 Apr 2023 16:06:25 +0000</pubDate><guid>https://wlngo.github.io/archives/showdocdocker-an-zhuang/</guid><description>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">showdoc&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">root&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">privileged&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="bp">true&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span> &lt;span class="n">always&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">4999&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">80&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">showdoc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">www&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">html&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">star7th&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">showdoc&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>maven 快照更新策略默认每天一次</title><link>https://wlngo.github.io/archives/maven-kuai-zhao-geng-xin-ce-lve-mo-ren-mei-tian-yi-ci/</link><pubDate>Wed, 05 Apr 2023 21:23:58 +0000</pubDate><guid>https://wlngo.github.io/archives/maven-kuai-zhao-geng-xin-ce-lve-mo-ren-mei-tian-yi-ci/</guid><description>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;lt;snapshots&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;enabled&amp;gt;true&amp;lt;/enabled&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;!-- 更新策略默认每天一次--&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;updatePolicy&amp;gt;always&amp;lt;/updatePolicy&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/snapshots&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>gitlab runner</title><link>https://wlngo.github.io/archives/gitlabrunner/</link><pubDate>Wed, 29 Mar 2023 15:30:49 +0000</pubDate><guid>https://wlngo.github.io/archives/gitlabrunner/</guid><description>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">gitlab&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">runner&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span> &lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">gitlab&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">runner&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">gitlab&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">runner&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">docker&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sock&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">docker&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sock&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">gitlab&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">gitlab&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">runner&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">latest&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker exec -it gitlab-runner /bin/bash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>docker 安装postgresql</title><link>https://wlngo.github.io/archives/docker-an-zhuang-postgresql/</link><pubDate>Tue, 28 Mar 2023 20:21:30 +0000</pubDate><guid>https://wlngo.github.io/archives/docker-an-zhuang-postgresql/</guid><description>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl"> &lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">postgres&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">network&lt;/span> &lt;span class="n">elknetwork&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">5432&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">5432&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">POSTGRES_PASSWORD_FILE&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">password&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">lib&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">postgresql&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">weiliangning&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">work&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">18040&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">docker&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">15.2&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>jenkins 删除历史构建</title><link>https://wlngo.github.io/archives/jenkins-shan-chu-li-shi-gou-jian/</link><pubDate>Mon, 27 Mar 2023 22:18:02 +0000</pubDate><guid>https://wlngo.github.io/archives/jenkins-shan-chu-li-shi-gou-jian/</guid><description>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">def jobName = &amp;#34;tes&amp;#34; //删除的项目名称
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">def maxNumber = 200 // 保留的最小编号，意味着小于该编号的构建都将被删除
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Jenkins.instance.getItemByFullName(jobName).builds.findAll {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">it.number &amp;lt;= maxNumber
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}.each {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">it.delete()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>xrdp 教程</title><link>https://wlngo.github.io/archives/xrdp-jiao-cheng/</link><pubDate>Fri, 24 Mar 2023 01:16:37 +0000</pubDate><guid>https://wlngo.github.io/archives/xrdp-jiao-cheng/</guid><description>&lt;p>&lt;a class="link" href="https://cloud.tencent.com/developer/article/2129798" target="_blank" rel="noopener"
>https://cloud.tencent.com/developer/article/2129798&lt;/a>
修改端口必须重启&lt;/p></description></item><item><title>使用TLS保护Docker远程端口</title><link>https://wlngo.github.io/archives/shi-yong-tls-bao-hu-docker-yuan-cheng-duan-kou/</link><pubDate>Thu, 23 Mar 2023 23:37:30 +0000</pubDate><guid>https://wlngo.github.io/archives/shi-yong-tls-bao-hu-docker-yuan-cheng-duan-kou/</guid><description>&lt;p>&lt;a class="link" href="https://www.cnblogs.com/niaucz/p/14817775.html" target="_blank" rel="noopener"
>https://www.cnblogs.com/niaucz/p/14817775.html&lt;/a>&lt;/p></description></item><item><title>nginx 简单设置账号密码</title><link>https://wlngo.github.io/archives/nginx-jian-dan-she-zhi-zhang-hao-mi-ma/</link><pubDate>Fri, 17 Mar 2023 17:17:38 +0000</pubDate><guid>https://wlngo.github.io/archives/nginx-jian-dan-she-zhi-zhang-hao-mi-ma/</guid><description>&lt;p>nginx 设置&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">auth_basic &amp;#34;请输入用户名和密码&amp;#34;;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">auth_basic_user_file /etc/nginx/auth/htpasswd;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>sudo sh -c &amp;ldquo;echo -n &amp;lsquo;账号:&amp;rsquo; &amp;raquo; htpasswd&amp;rdquo;
sudo sh -c &amp;ldquo;openssl passwd -apr1 &amp;raquo; htpasswd&amp;rdquo;
请输入密码&lt;/p></description></item><item><title>arthas java 线上监控诊断</title><link>https://wlngo.github.io/archives/arthasjava-xian-shang-jian-kong-zhen-duan/</link><pubDate>Fri, 17 Mar 2023 14:40:29 +0000</pubDate><guid>https://wlngo.github.io/archives/arthasjava-xian-shang-jian-kong-zhen-duan/</guid><description>&lt;h3 id="运行自建镜像">运行自建镜像
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> docker run -d --name arthas-tunnel-server --restart always -p 8580:8080 -p 7777:7777 weiliangning.work:18040/docker/arthas-tunnel-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="java-agent参数">java agent参数
&lt;/h3>&lt;p>-javaagent:/opt/arthas/arthas-agent.jar
-Darthas.tunnelServer=ws://www.weiliangning.work:7777/ws
-Darthas.appName=appname&lt;/p>
&lt;h3 id="docker-容器参数">docker 容器参数
&lt;/h3>&lt;p>&amp;ndash;cap-add=SYS_ADMIN 必须给容器根路径权限 否则无法生产cpu 火焰图
profiler start&lt;/p>
&lt;h3 id="arthas-获取spring-bean">arthas 获取spring bean
&lt;/h3>&lt;p>思路参考 &lt;a class="link" href="https://github.com/alibaba/arthas/issues/482" target="_blank" rel="noopener"
>https://github.com/alibaba/arthas/issues/482&lt;/a>&lt;/p>
&lt;p>方法一 有dubbo&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ognl &amp;#39;#context=@com.alibaba.dubbo.config.spring.extension.SpringExtensionFactory@contexts.iterator.next, #context.getBean(&amp;#34;bean名字&amp;#34;)&amp;#39;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>方法二 有hutool&lt;/p>
&lt;p>查看工具类的 classload&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">sc&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="n">cn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">hutool&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">extra&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">spring&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">SpringUtil&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>使用ognl 执行静态方法&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">ognl&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="mi">685&lt;/span>&lt;span class="n">f4c2e&lt;/span> &lt;span class="s1">&amp;#39;@cn.hutool.extra.spring.SpringUtil@getBean(&amp;#34;bean名字&amp;#34;)&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Spring boot 的logback.xml</title><link>https://wlngo.github.io/archives/springboot-de-logbackxml/</link><pubDate>Wed, 15 Mar 2023 15:46:24 +0000</pubDate><guid>https://wlngo.github.io/archives/springboot-de-logbackxml/</guid><description>&lt;p>官方配置日志格式&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;lt;property name=&amp;#34;CONSOLE_LOG_PATTERN&amp;#34; value=&amp;#34;${CONSOLE_LOG_PATTERN:-%clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot/src/main/resources/org/springframework/boot/logging/logback/defaults.xml" target="_blank" rel="noopener"
>https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot/src/main/resources/org/springframework/boot/logging/logback/defaults.xml&lt;/a>&lt;/p>
&lt;p>正常模板 适用于spring boot 2&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;span class="lnt">83
&lt;/span>&lt;span class="lnt">84
&lt;/span>&lt;span class="lnt">85
&lt;/span>&lt;span class="lnt">86
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;!-- 日志级别从低到高分为TRACE &amp;lt; DEBUG &amp;lt; INFO &amp;lt; WARN &amp;lt; ERROR &amp;lt; FATAL，如果设置为WARN，则低于WARN的信息都不会输出 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;!-- scan:当此属性设置为true时，配置文件如果发生改变，将会被重新加载，默认值为true --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;!-- scanPeriod:设置监测配置文件是否有修改的时间间隔，如果没有给出时间单位，默认单位是毫秒。当scan为true时，此属性生效。默认的时间间隔为1分钟。 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;!-- debug:当此属性设置为true时，将打印出logback内部日志信息，实时查看logback运行状态。默认值为false。 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;configuration debug=&amp;#34;false&amp;#34; scan=&amp;#34;true&amp;#34; scanPeriod=&amp;#34;1000 seconds&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;contextName&amp;gt;logback&amp;lt;/contextName&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- name的值是变量的名称，value的值时变量定义的值。通过定义的值会被插入到logger上下文中。定义变量后，可以使“${}”来使用变量。 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;property name=&amp;#34;log.path&amp;#34; value=&amp;#34;./logs&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;springProperty scope=&amp;#34;context&amp;#34; name=&amp;#34;spring.application.name&amp;#34; source=&amp;#34;spring.application.name&amp;#34; defaultValue=&amp;#34;app&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 彩色日志 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 彩色日志依赖的渲染类 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;conversionRule conversionWord=&amp;#34;clr&amp;#34; converterClass=&amp;#34;org.springframework.boot.logging.logback.ColorConverter&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;conversionRule conversionWord=&amp;#34;wex&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> converterClass=&amp;#34;org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;conversionRule conversionWord=&amp;#34;wEx&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> converterClass=&amp;#34;org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;property name=&amp;#34;CONSOLE_LOG_PATTERN&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> value=&amp;#34;${CONSOLE_LOG_PATTERN:-%clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} %clr([%X{tid}]){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;property name=&amp;#34;CONSOLE_LOG_CHARSET&amp;#34; value=&amp;#34;${CONSOLE_LOG_CHARSET:-${file.encoding:-UTF-8}}&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;property name=&amp;#34;CONSOLE_LOG_THRESHOLD&amp;#34; value=&amp;#34;${CONSOLE_LOG_THRESHOLD:-TRACE}&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;property name=&amp;#34;FILE_LOG_PATTERN&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> value=&amp;#34;${FILE_LOG_PATTERN:-%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}} [%X{tid}] ${LOG_LEVEL_PATTERN:-%5p} ${PID:- } --- [%t] %-40.40logger{39} : %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;property name=&amp;#34;FILE_LOG_CHARSET&amp;#34; value=&amp;#34;${FILE_LOG_CHARSET:-${file.encoding:-UTF-8}}&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;property name=&amp;#34;FILE_LOG_THRESHOLD&amp;#34; value=&amp;#34;${FILE_LOG_THRESHOLD:-TRACE}&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender name=&amp;#34;CONSOLE&amp;#34; class=&amp;#34;ch.qos.logback.core.ConsoleAppender&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;filter class=&amp;#34;ch.qos.logback.classic.filter.ThresholdFilter&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;level&amp;gt;trace&amp;lt;/level&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/filter&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;encoder class=&amp;#34;ch.qos.logback.classic.encoder.PatternLayoutEncoder&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;charset&amp;gt;${CONSOLE_LOG_CHARSET}&amp;lt;/charset&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;Pattern&amp;gt;${CONSOLE_LOG_PATTERN}&amp;lt;/Pattern&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/encoder&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/appender&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender name=&amp;#34;LOG_FILE&amp;#34; class=&amp;#34;ch.qos.logback.core.rolling.RollingFileAppender&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 正在记录的日志文件的路径及文件名 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;file&amp;gt;${log.path}/${spring.application.name}.log&amp;lt;/file&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!--日志文件输出格式--&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;encoder class=&amp;#34;ch.qos.logback.core.encoder.LayoutWrappingEncoder&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;charset&amp;gt;${FILE_LOG_CHARSET}&amp;lt;/charset&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/encoder&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;layout class=&amp;#34;ch.qos.logback.classic.PatternLayout&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;pattern&amp;gt;${FILE_LOG_PATTERN}&amp;lt;/pattern&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/layout&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;rollingPolicy class=&amp;#34;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 每天日志归档路径以及格式 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;fileNamePattern&amp;gt;${log.path}/${spring.application.name}-%d{yyyy-MM-dd}.%i.log.zip&amp;lt;/fileNamePattern&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;timeBasedFileNamingAndTriggeringPolicy class=&amp;#34;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;maxFileSize&amp;gt;100MB&amp;lt;/maxFileSize&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/timeBasedFileNamingAndTriggeringPolicy&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!--日志文件保留天数--&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;maxHistory&amp;gt;365&amp;lt;/maxHistory&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/rollingPolicy&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;filter class=&amp;#34;ch.qos.logback.classic.filter.ThresholdFilter&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;level&amp;gt;trace&amp;lt;/level&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/filter&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/appender&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 不丢失日志.默认的,如果队列的80%已满,则会丢弃TRACT、DEBUG、INFO级别的日志 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 更改默认的队列的深度,该值会影响性能.默认值为256 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 添加附加的appender,最多只能添加一个 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender name=&amp;#34;LOG_ASYNC&amp;#34; class=&amp;#34;ch.qos.logback.classic.AsyncAppender&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;discardingThreshold&amp;gt;0&amp;lt;/discardingThreshold&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;queueSize&amp;gt;256&amp;lt;/queueSize&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;includeCallerData&amp;gt;true&amp;lt;/includeCallerData&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender-ref ref=&amp;#34;LOG_FILE&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/appender&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- additivity是否传递--&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- mybatis自动生成文件日志 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;logger name=&amp;#34;com.baomidou.mybatisplus.generator&amp;#34; level=&amp;#34;debug&amp;#34; additivity=&amp;#34;true&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/logger&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;logger name=&amp;#34;top.wei.yhproprietaryinteresth5pre&amp;#34; level=&amp;#34;info&amp;#34; additivity=&amp;#34;false&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 指定输出的appender --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender-ref ref=&amp;#34;CONSOLE&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender-ref ref=&amp;#34;LOG_ASYNC&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/logger&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;root level=&amp;#34;info&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender-ref ref=&amp;#34;CONSOLE&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender-ref ref=&amp;#34;LOG_ASYNC&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/root&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/configuration&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>skywalking模板 适用于spring boot 2&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">?&lt;/span>&lt;span class="n">xml&lt;/span> &lt;span class="n">version&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;1.0&amp;#34;&lt;/span> &lt;span class="n">encoding&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;UTF-8&amp;#34;&lt;/span>&lt;span class="err">?&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">日志级别从低到高分为&lt;/span>&lt;span class="n">TRACE&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">DEBUG&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">INFO&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">WARN&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">ERROR&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">FATAL&lt;/span>&lt;span class="err">，如果设置为&lt;/span>&lt;span class="n">WARN&lt;/span>&lt;span class="err">，则低于&lt;/span>&lt;span class="n">WARN的信息都不会输出&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="n">scan&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="err">当此属性设置为&lt;/span>&lt;span class="n">true时&lt;/span>&lt;span class="err">，配置文件如果发生改变，将会被重新加载，默认值为&lt;/span>&lt;span class="bp">true&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="n">scanPeriod&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="err">设置监测配置文件是否有修改的时间间隔，如果没有给出时间单位，默认单位是毫秒。当&lt;/span>&lt;span class="n">scan为true时&lt;/span>&lt;span class="err">，此属性生效。默认的时间间隔为&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="err">分钟。&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="err">当此属性设置为&lt;/span>&lt;span class="n">true时&lt;/span>&lt;span class="err">，将打印出&lt;/span>&lt;span class="n">logback内部日志信息&lt;/span>&lt;span class="err">，实时查看&lt;/span>&lt;span class="n">logback运行状态&lt;/span>&lt;span class="err">。默认值为&lt;/span>&lt;span class="bp">false&lt;/span>&lt;span class="err">。&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">configuration&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;false&amp;#34;&lt;/span> &lt;span class="n">scan&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span> &lt;span class="n">scanPeriod&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;1000 seconds&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">contextName&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">logback&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">contextName&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="n">name的值是变量的名称&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="n">value的值时变量定义的值&lt;/span>&lt;span class="err">。通过定义的值会被插入到&lt;/span>&lt;span class="n">logger上下文中&lt;/span>&lt;span class="err">。定义变量后，可以使“&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="p">{}&lt;/span>&lt;span class="err">”来使用变量。&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">property&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;log.path&amp;#34;&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;./logs&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">springProperty&lt;/span> &lt;span class="n">scope&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;context&amp;#34;&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;spring.application.name&amp;#34;&lt;/span> &lt;span class="n">source&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;spring.application.name&amp;#34;&lt;/span> &lt;span class="n">defaultValue&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;app&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">彩色日志&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">彩色日志依赖的渲染类&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">conversionRule&lt;/span> &lt;span class="n">conversionWord&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;clr&amp;#34;&lt;/span> &lt;span class="n">converterClass&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;org.springframework.boot.logging.logback.ColorConverter&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">conversionRule&lt;/span> &lt;span class="n">conversionWord&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;wex&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">converterClass&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">conversionRule&lt;/span> &lt;span class="n">conversionWord&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;wEx&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">converterClass&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">property&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;CONSOLE_LOG_PATTERN&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;${CONSOLE_LOG_PATTERN:-&lt;/span>&lt;span class="si">%c&lt;/span>&lt;span class="s2">lr(&lt;/span>&lt;span class="si">%d&lt;/span>&lt;span class="s2">{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} &lt;/span>&lt;span class="si">%c&lt;/span>&lt;span class="s2">lr([&lt;/span>&lt;span class="si">%X&lt;/span>&lt;span class="s2">{tid}]){faint} &lt;/span>&lt;span class="si">%c&lt;/span>&lt;span class="s2">lr(${LOG_LEVEL_PATTERN:-%5p}) &lt;/span>&lt;span class="si">%c&lt;/span>&lt;span class="s2">lr(${PID:- }){magenta} &lt;/span>&lt;span class="si">%c&lt;/span>&lt;span class="s2">lr(---){faint} &lt;/span>&lt;span class="si">%c&lt;/span>&lt;span class="s2">lr([%15.15t]){faint} &lt;/span>&lt;span class="si">%c&lt;/span>&lt;span class="s2">lr(&lt;/span>&lt;span class="si">%-40.40lo&lt;/span>&lt;span class="s2">gger{39}){cyan} &lt;/span>&lt;span class="si">%c&lt;/span>&lt;span class="s2">lr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">property&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;CONSOLE_LOG_CHARSET&amp;#34;&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;${CONSOLE_LOG_CHARSET:-${file.encoding:-UTF-8}}&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">property&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;CONSOLE_LOG_THRESHOLD&amp;#34;&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;${CONSOLE_LOG_THRESHOLD:-TRACE}&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">property&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;FILE_LOG_PATTERN&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;${FILE_LOG_PATTERN:-&lt;/span>&lt;span class="si">%d&lt;/span>&lt;span class="s2">{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}} [&lt;/span>&lt;span class="si">%X&lt;/span>&lt;span class="s2">{tid}] ${LOG_LEVEL_PATTERN:-%5p} ${PID:- } --- [%t] &lt;/span>&lt;span class="si">%-40.40lo&lt;/span>&lt;span class="s2">gger{39} : %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">property&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;FILE_LOG_CHARSET&amp;#34;&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;${FILE_LOG_CHARSET:-${file.encoding:-UTF-8}}&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">property&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;FILE_LOG_THRESHOLD&amp;#34;&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;${FILE_LOG_THRESHOLD:-TRACE}&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;CONSOLE&amp;#34;&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.core.ConsoleAppender&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">filter&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.classic.filter.ThresholdFilter&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">trace&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">filter&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">encoder&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.core.encoder.LayoutWrappingEncoder&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">charset&lt;/span>&lt;span class="o">&amp;gt;$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">CONSOLE_LOG_CHARSET&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">charset&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">encoder&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="n">mdc接入skywalking&lt;/span>&lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">layout&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;org.apache.skywalking.apm.toolkit.log.logback.v1.x.mdc.TraceIdMDCPatternLogbackLayout&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Pattern&lt;/span>&lt;span class="o">&amp;gt;$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">CONSOLE_LOG_PATTERN&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">Pattern&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">layout&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;LOG_FILE&amp;#34;&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.core.rolling.RollingFileAppender&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">正在记录的日志文件的路径及文件名&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="o">&amp;gt;$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">/$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">spring&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">application&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span>&lt;span class="err">日志文件输出格式&lt;/span>&lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">encoder&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.core.encoder.LayoutWrappingEncoder&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">charset&lt;/span>&lt;span class="o">&amp;gt;$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">FILE_LOG_CHARSET&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">charset&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">encoder&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">layout&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;org.apache.skywalking.apm.toolkit.log.logback.v1.x.mdc.TraceIdMDCPatternLogbackLayout&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">pattern&lt;/span>&lt;span class="o">&amp;gt;$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">FILE_LOG_PATTERN&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">pattern&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">layout&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">日志记录器的滚动策略，按日期，按大小记录&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">rollingPolicy&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">每天日志归档路径以及格式&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">fileNamePattern&lt;/span>&lt;span class="o">&amp;gt;$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">/$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">spring&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">application&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">-%&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">yyyy&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">MM&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">dd&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">.%&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zip&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">fileNamePattern&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">timeBasedFileNamingAndTriggeringPolicy&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">maxFileSize&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="n">MB&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">maxFileSize&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">timeBasedFileNamingAndTriggeringPolicy&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span>&lt;span class="err">日志文件保留天数&lt;/span>&lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">maxHistory&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="mi">365&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">maxHistory&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">rollingPolicy&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">此日志文件只记录&lt;/span>&lt;span class="n">info级别的&lt;/span> &lt;span class="err">此配置不适用&lt;/span>&lt;span class="n">skywalking&lt;/span> &lt;span class="err">因为&lt;/span>&lt;span class="n">onMatch&lt;/span> &lt;span class="n">onMismatch&lt;/span> &lt;span class="err">两个字段&lt;/span>&lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">filter&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.classic.filter.LevelFilter&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">onMatch&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">ACCEPT&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">onMatch&lt;/span>&lt;span class="o">&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">onMismatch&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">DENY&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">onMismatch&lt;/span>&lt;span class="o">&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">filter&lt;/span>&lt;span class="o">&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">filter&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.classic.filter.ThresholdFilter&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">trace&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">filter&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">不丢失日志&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="err">默认的&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="err">如果队列的&lt;/span>&lt;span class="mi">80&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="err">已满&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="err">则会丢弃&lt;/span>&lt;span class="n">TRACT&lt;/span>&lt;span class="err">、&lt;/span>&lt;span class="n">DEBUG&lt;/span>&lt;span class="err">、&lt;/span>&lt;span class="n">INFO级别的日志&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">更改默认的队列的深度&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="err">该值会影响性能&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="err">默认值为&lt;/span>&lt;span class="mi">256&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">添加附加的&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="err">最多只能添加一个&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;LOG_ASYNC&amp;#34;&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.classic.AsyncAppender&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">discardingThreshold&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">discardingThreshold&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">queueSize&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="mi">256&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">queueSize&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">includeCallerData&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="bp">true&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">includeCallerData&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ref&lt;/span> &lt;span class="n">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;LOG_FILE&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="n">skyWalking日志采集&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;APM_LOG&amp;#34;&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;org.apache.skywalking.apm.toolkit.log.logback.v1.x.log.GRPCLogClientAppender&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">encoder&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.core.encoder.LayoutWrappingEncoder&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">charset&lt;/span>&lt;span class="o">&amp;gt;$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">FILE_LOG_CHARSET&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">charset&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">encoder&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="n">mdc接入skywalking&lt;/span>&lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">layout&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;org.apache.skywalking.apm.toolkit.log.logback.v1.x.mdc.TraceIdMDCPatternLogbackLayout&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Pattern&lt;/span>&lt;span class="o">&amp;gt;$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">FILE_LOG_PATTERN&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">Pattern&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">layout&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">此日志文件只记录&lt;/span>&lt;span class="n">info级别的&lt;/span> &lt;span class="err">此配置不适用&lt;/span>&lt;span class="n">skywalking&lt;/span> &lt;span class="err">因为&lt;/span>&lt;span class="n">onMatch&lt;/span> &lt;span class="n">onMismatch&lt;/span> &lt;span class="err">两个字段&lt;/span>&lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">filter&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.classic.filter.LevelFilter&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">onMatch&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">ACCEPT&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">onMatch&lt;/span>&lt;span class="o">&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">onMismatch&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">DENY&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">onMismatch&lt;/span>&lt;span class="o">&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">filter&lt;/span>&lt;span class="o">&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">filter&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.classic.filter.ThresholdFilter&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">trace&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">filter&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="n">additivity是否传递&lt;/span>&lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="n">mybatis自动生成文件日志&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">logger&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;com.baomidou.mybatisplus.generator&amp;#34;&lt;/span> &lt;span class="n">level&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;debug&amp;#34;&lt;/span> &lt;span class="n">additivity&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">logger&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">logger&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;top.wei&amp;#34;&lt;/span> &lt;span class="n">level&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;info&amp;#34;&lt;/span> &lt;span class="n">additivity&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;false&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">指定输出的&lt;/span>&lt;span class="n">appender&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ref&lt;/span> &lt;span class="n">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;CONSOLE&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ref&lt;/span> &lt;span class="n">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;LOG_ASYNC&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ref&lt;/span> &lt;span class="n">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;APM_LOG&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">logger&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">root&lt;/span> &lt;span class="n">level&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;info&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ref&lt;/span> &lt;span class="n">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;CONSOLE&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ref&lt;/span> &lt;span class="n">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;LOG_ASYNC&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ref&lt;/span> &lt;span class="n">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;APM_LOG&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">root&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">configuration&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>正常模板 适用于spring boot 3&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;span class="lnt">83
&lt;/span>&lt;span class="lnt">84
&lt;/span>&lt;span class="lnt">85
&lt;/span>&lt;span class="lnt">86
&lt;/span>&lt;span class="lnt">87
&lt;/span>&lt;span class="lnt">88
&lt;/span>&lt;span class="lnt">89
&lt;/span>&lt;span class="lnt">90
&lt;/span>&lt;span class="lnt">91
&lt;/span>&lt;span class="lnt">92
&lt;/span>&lt;span class="lnt">93
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;!-- 日志级别从低到高分为TRACE &amp;lt; DEBUG &amp;lt; INFO &amp;lt; WARN &amp;lt; ERROR &amp;lt; FATAL，如果设置为WARN，则低于WARN的信息都不会输出 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;!-- scan:当此属性设置为true时，配置文件如果发生改变，将会被重新加载，默认值为true --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;!-- scanPeriod:设置监测配置文件是否有修改的时间间隔，如果没有给出时间单位，默认单位是毫秒。当scan为true时，此属性生效。默认的时间间隔为1分钟。 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;!-- debug:当此属性设置为true时，将打印出logback内部日志信息，实时查看logback运行状态。默认值为false。 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;configuration debug=&amp;#34;false&amp;#34; scan=&amp;#34;true&amp;#34; scanPeriod=&amp;#34;1000 seconds&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;contextName&amp;gt;logback&amp;lt;/contextName&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- name的值是变量的名称，value的值时变量定义的值。通过定义的值会被插入到logger上下文中。定义变量后，可以使“${}”来使用变量。 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;property name=&amp;#34;log.path&amp;#34; value=&amp;#34;./logs&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;springProperty scope=&amp;#34;context&amp;#34; name=&amp;#34;spring.application.name&amp;#34; source=&amp;#34;spring.application.name&amp;#34; defaultValue=&amp;#34;app&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 彩色日志 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 彩色日志依赖的渲染类 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;conversionRule conversionWord=&amp;#34;clr&amp;#34; converterClass=&amp;#34;org.springframework.boot.logging.logback.ColorConverter&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;conversionRule conversionWord=&amp;#34;wex&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> converterClass=&amp;#34;org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;conversionRule conversionWord=&amp;#34;wEx&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> converterClass=&amp;#34;org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;property name=&amp;#34;CONSOLE_LOG_PATTERN&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> value=&amp;#34;${CONSOLE_LOG_PATTERN:-%clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} %clr([%X{tid}]){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;property name=&amp;#34;CONSOLE_LOG_CHARSET&amp;#34; value=&amp;#34;${CONSOLE_LOG_CHARSET:-${file.encoding:-UTF-8}}&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;property name=&amp;#34;CONSOLE_LOG_THRESHOLD&amp;#34; value=&amp;#34;${CONSOLE_LOG_THRESHOLD:-TRACE}&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;property name=&amp;#34;FILE_LOG_PATTERN&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> value=&amp;#34;${FILE_LOG_PATTERN:-%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}} [%X{tid}] ${LOG_LEVEL_PATTERN:-%5p} ${PID:- } --- [%t] %-40.40logger{39} : %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;property name=&amp;#34;FILE_LOG_CHARSET&amp;#34; value=&amp;#34;${FILE_LOG_CHARSET:-${file.encoding:-UTF-8}}&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;property name=&amp;#34;FILE_LOG_THRESHOLD&amp;#34; value=&amp;#34;${FILE_LOG_THRESHOLD:-TRACE}&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender name=&amp;#34;CONSOLE&amp;#34; class=&amp;#34;ch.qos.logback.core.ConsoleAppender&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;filter class=&amp;#34;ch.qos.logback.classic.filter.ThresholdFilter&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;level&amp;gt;trace&amp;lt;/level&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/filter&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;encoder class=&amp;#34;ch.qos.logback.classic.encoder.PatternLayoutEncoder&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;charset&amp;gt;${CONSOLE_LOG_CHARSET}&amp;lt;/charset&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;Pattern&amp;gt;${CONSOLE_LOG_PATTERN}&amp;lt;/Pattern&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/encoder&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/appender&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender name=&amp;#34;LOG_FILE&amp;#34; class=&amp;#34;ch.qos.logback.core.rolling.RollingFileAppender&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 正在记录的日志文件的路径及文件名 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;file&amp;gt;${log.path}/${spring.application.name}.log&amp;lt;/file&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!--日志文件输出格式--&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;encoder class=&amp;#34;ch.qos.logback.core.encoder.LayoutWrappingEncoder&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;charset&amp;gt;${FILE_LOG_CHARSET}&amp;lt;/charset&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/encoder&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;encoder class=&amp;#34;ch.qos.logback.classic.encoder.PatternLayoutEncoder&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;pattern&amp;gt;${FILE_LOG_PATTERN}&amp;lt;/pattern&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/encoder&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;rollingPolicy class=&amp;#34;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;fileNamePattern&amp;gt;${log.path}/${spring.application.name}-%d{yyyy-MM-dd}.%i.zip&amp;lt;/fileNamePattern&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;maxFileSize&amp;gt;100mb&amp;lt;/maxFileSize&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 默认情况下，maxHistory设置为零，即默认情况下不删除存档--&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;maxHistory&amp;gt;0&amp;lt;/maxHistory&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/rollingPolicy&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;filter class=&amp;#34;ch.qos.logback.classic.filter.ThresholdFilter&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;level&amp;gt;trace&amp;lt;/level&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/filter&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/appender&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 不丢失日志.默认的,如果队列的80%已满,则会丢弃TRACT、DEBUG、INFO级别的日志 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 更改默认的队列的深度,该值会影响性能.默认值为256 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 添加附加的appender,最多只能添加一个 --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender name=&amp;#34;LOG_ASYNC&amp;#34; class=&amp;#34;ch.qos.logback.classic.AsyncAppender&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;discardingThreshold&amp;gt;0&amp;lt;/discardingThreshold&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;queueSize&amp;gt;256&amp;lt;/queueSize&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;includeCallerData&amp;gt;true&amp;lt;/includeCallerData&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender-ref ref=&amp;#34;LOG_FILE&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/appender&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- additivity是否传递--&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;logger name=&amp;#34;top.wei.oauth2server&amp;#34; level=&amp;#34;info&amp;#34; additivity=&amp;#34;false&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 指定输出的appender --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender-ref ref=&amp;#34;CONSOLE&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender-ref ref=&amp;#34;LOG_ASYNC&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/logger&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;logger name=&amp;#34;org.springframework.security&amp;#34; level=&amp;#34;trace&amp;#34; additivity=&amp;#34;false&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 指定输出的appender --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender-ref ref=&amp;#34;CONSOLE&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender-ref ref=&amp;#34;LOG_ASYNC&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/logger&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- sql日志--&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;logger name=&amp;#34;top.wei.oauth2server.mapper&amp;#34; level=&amp;#34;debug&amp;#34; additivity=&amp;#34;false&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;!-- 指定输出的appender --&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender-ref ref=&amp;#34;CONSOLE&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender-ref ref=&amp;#34;LOG_ASYNC&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/logger&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;root level=&amp;#34;info&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender-ref ref=&amp;#34;CONSOLE&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;appender-ref ref=&amp;#34;LOG_ASYNC&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/root&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/configuration&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>skywalking模板 适用于spring boot 3&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">?&lt;/span>&lt;span class="n">xml&lt;/span> &lt;span class="n">version&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;1.0&amp;#34;&lt;/span> &lt;span class="n">encoding&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;UTF-8&amp;#34;&lt;/span>&lt;span class="err">?&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">日志级别从低到高分为&lt;/span>&lt;span class="n">TRACE&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">DEBUG&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">INFO&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">WARN&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">ERROR&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">FATAL&lt;/span>&lt;span class="err">，如果设置为&lt;/span>&lt;span class="n">WARN&lt;/span>&lt;span class="err">，则低于&lt;/span>&lt;span class="n">WARN的信息都不会输出&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="n">scan&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="err">当此属性设置为&lt;/span>&lt;span class="n">true时&lt;/span>&lt;span class="err">，配置文件如果发生改变，将会被重新加载，默认值为&lt;/span>&lt;span class="bp">true&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="n">scanPeriod&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="err">设置监测配置文件是否有修改的时间间隔，如果没有给出时间单位，默认单位是毫秒。当&lt;/span>&lt;span class="n">scan为true时&lt;/span>&lt;span class="err">，此属性生效。默认的时间间隔为&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="err">分钟。&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="err">当此属性设置为&lt;/span>&lt;span class="n">true时&lt;/span>&lt;span class="err">，将打印出&lt;/span>&lt;span class="n">logback内部日志信息&lt;/span>&lt;span class="err">，实时查看&lt;/span>&lt;span class="n">logback运行状态&lt;/span>&lt;span class="err">。默认值为&lt;/span>&lt;span class="bp">false&lt;/span>&lt;span class="err">。&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">configuration&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;false&amp;#34;&lt;/span> &lt;span class="n">scan&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span> &lt;span class="n">scanPeriod&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;1000 seconds&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">contextName&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">logback&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">contextName&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="n">name的值是变量的名称&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="n">value的值时变量定义的值&lt;/span>&lt;span class="err">。通过定义的值会被插入到&lt;/span>&lt;span class="n">logger上下文中&lt;/span>&lt;span class="err">。定义变量后，可以使“&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="p">{}&lt;/span>&lt;span class="err">”来使用变量。&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">property&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;log.path&amp;#34;&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;./logs&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">springProperty&lt;/span> &lt;span class="n">scope&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;context&amp;#34;&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;spring.application.name&amp;#34;&lt;/span> &lt;span class="n">source&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;spring.application.name&amp;#34;&lt;/span> &lt;span class="n">defaultValue&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;app&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">彩色日志&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">彩色日志依赖的渲染类&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">conversionRule&lt;/span> &lt;span class="n">conversionWord&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;clr&amp;#34;&lt;/span> &lt;span class="n">converterClass&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;org.springframework.boot.logging.logback.ColorConverter&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">conversionRule&lt;/span> &lt;span class="n">conversionWord&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;wex&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">converterClass&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">conversionRule&lt;/span> &lt;span class="n">conversionWord&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;wEx&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">converterClass&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">property&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;CONSOLE_LOG_PATTERN&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;${CONSOLE_LOG_PATTERN:-&lt;/span>&lt;span class="si">%c&lt;/span>&lt;span class="s2">lr(&lt;/span>&lt;span class="si">%d&lt;/span>&lt;span class="s2">{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} &lt;/span>&lt;span class="si">%c&lt;/span>&lt;span class="s2">lr([&lt;/span>&lt;span class="si">%X&lt;/span>&lt;span class="s2">{tid}]){faint} &lt;/span>&lt;span class="si">%c&lt;/span>&lt;span class="s2">lr(${LOG_LEVEL_PATTERN:-%5p}) &lt;/span>&lt;span class="si">%c&lt;/span>&lt;span class="s2">lr(${PID:- }){magenta} &lt;/span>&lt;span class="si">%c&lt;/span>&lt;span class="s2">lr(---){faint} &lt;/span>&lt;span class="si">%c&lt;/span>&lt;span class="s2">lr([%15.15t]){faint} &lt;/span>&lt;span class="si">%c&lt;/span>&lt;span class="s2">lr(&lt;/span>&lt;span class="si">%-40.40lo&lt;/span>&lt;span class="s2">gger{39}){cyan} &lt;/span>&lt;span class="si">%c&lt;/span>&lt;span class="s2">lr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">property&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;CONSOLE_LOG_CHARSET&amp;#34;&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;${CONSOLE_LOG_CHARSET:-${file.encoding:-UTF-8}}&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">property&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;CONSOLE_LOG_THRESHOLD&amp;#34;&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;${CONSOLE_LOG_THRESHOLD:-TRACE}&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">property&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;FILE_LOG_PATTERN&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;${FILE_LOG_PATTERN:-&lt;/span>&lt;span class="si">%d&lt;/span>&lt;span class="s2">{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}} [&lt;/span>&lt;span class="si">%X&lt;/span>&lt;span class="s2">{tid}] ${LOG_LEVEL_PATTERN:-%5p} ${PID:- } --- [%t] &lt;/span>&lt;span class="si">%-40.40lo&lt;/span>&lt;span class="s2">gger{39} : %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">property&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;FILE_LOG_CHARSET&amp;#34;&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;${FILE_LOG_CHARSET:-${file.encoding:-UTF-8}}&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">property&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;FILE_LOG_THRESHOLD&amp;#34;&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;${FILE_LOG_THRESHOLD:-TRACE}&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;CONSOLE&amp;#34;&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.core.ConsoleAppender&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">filter&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.classic.filter.ThresholdFilter&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">trace&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">filter&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">encoder&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.core.encoder.LayoutWrappingEncoder&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">charset&lt;/span>&lt;span class="o">&amp;gt;$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">CONSOLE_LOG_CHARSET&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">charset&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">layout&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;org.apache.skywalking.apm.toolkit.log.logback.v1.x.mdc.TraceIdMDCPatternLogbackLayout&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Pattern&lt;/span>&lt;span class="o">&amp;gt;$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">CONSOLE_LOG_PATTERN&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">Pattern&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">layout&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">encoder&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;LOG_FILE&amp;#34;&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.core.rolling.RollingFileAppender&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">正在记录的日志文件的路径及文件名&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="o">&amp;gt;$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">/$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">spring&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">application&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span>&lt;span class="err">日志文件输出格式&lt;/span>&lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">encoder&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.core.encoder.LayoutWrappingEncoder&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">charset&lt;/span>&lt;span class="o">&amp;gt;$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">FILE_LOG_CHARSET&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">charset&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">layout&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;org.apache.skywalking.apm.toolkit.log.logback.v1.x.mdc.TraceIdMDCPatternLogbackLayout&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">pattern&lt;/span>&lt;span class="o">&amp;gt;$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">FILE_LOG_PATTERN&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">pattern&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">layout&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">encoder&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">日志记录器的滚动策略，按日期，按大小记录&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">rollingPolicy&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">fileNamePattern&lt;/span>&lt;span class="o">&amp;gt;$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">/$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">spring&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">application&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">-%&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">yyyy&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">MM&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">dd&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">.%&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zip&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">fileNamePattern&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">maxFileSize&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="n">mb&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">maxFileSize&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">默认情况下，&lt;/span>&lt;span class="n">maxHistory设置为零&lt;/span>&lt;span class="err">，即默认情况下不删除存档&lt;/span>&lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">maxHistory&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">maxHistory&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">rollingPolicy&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">filter&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.classic.filter.ThresholdFilter&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">trace&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">filter&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">不丢失日志&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="err">默认的&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="err">如果队列的&lt;/span>&lt;span class="mi">80&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="err">已满&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="err">则会丢弃&lt;/span>&lt;span class="n">TRACT&lt;/span>&lt;span class="err">、&lt;/span>&lt;span class="n">DEBUG&lt;/span>&lt;span class="err">、&lt;/span>&lt;span class="n">INFO级别的日志&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">更改默认的队列的深度&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="err">该值会影响性能&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="err">默认值为&lt;/span>&lt;span class="mi">256&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">添加附加的&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="err">最多只能添加一个&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;LOG_ASYNC&amp;#34;&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.classic.AsyncAppender&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">discardingThreshold&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">discardingThreshold&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">queueSize&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="mi">256&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">queueSize&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">includeCallerData&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="bp">true&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">includeCallerData&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ref&lt;/span> &lt;span class="n">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;LOG_FILE&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="n">skyWalking日志采集&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;APM_LOG&amp;#34;&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;org.apache.skywalking.apm.toolkit.log.logback.v1.x.log.GRPCLogClientAppender&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">encoder&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.core.encoder.LayoutWrappingEncoder&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">charset&lt;/span>&lt;span class="o">&amp;gt;$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">FILE_LOG_CHARSET&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">charset&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">layout&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;org.apache.skywalking.apm.toolkit.log.logback.v1.x.mdc.TraceIdMDCPatternLogbackLayout&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Pattern&lt;/span>&lt;span class="o">&amp;gt;$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">FILE_LOG_PATTERN&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">Pattern&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">layout&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">encoder&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="n">mdc接入skywalking&lt;/span>&lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">此日志文件只记录&lt;/span>&lt;span class="n">info级别的&lt;/span> &lt;span class="err">此配置不适用&lt;/span>&lt;span class="n">skywalking&lt;/span> &lt;span class="err">因为&lt;/span>&lt;span class="n">onMatch&lt;/span> &lt;span class="n">onMismatch&lt;/span> &lt;span class="err">两个字段&lt;/span>&lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">filter&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.classic.filter.LevelFilter&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">onMatch&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">ACCEPT&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">onMatch&lt;/span>&lt;span class="o">&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">onMismatch&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">DENY&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">onMismatch&lt;/span>&lt;span class="o">&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">filter&lt;/span>&lt;span class="o">&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">filter&lt;/span> &lt;span class="k">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;ch.qos.logback.classic.filter.ThresholdFilter&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">trace&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">level&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">filter&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="n">additivity是否传递&lt;/span>&lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">logger&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;top.wei&amp;#34;&lt;/span> &lt;span class="n">level&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;info&amp;#34;&lt;/span> &lt;span class="n">additivity&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;false&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="err">指定输出的&lt;/span>&lt;span class="n">appender&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ref&lt;/span> &lt;span class="n">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;CONSOLE&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ref&lt;/span> &lt;span class="n">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;LOG_ASYNC&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ref&lt;/span> &lt;span class="n">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;APM_LOG&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">logger&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">lt&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="o">!&amp;amp;&lt;/span>&lt;span class="n">ndash&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">sql日志&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">ndash&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">gt&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">logger&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;top.wei.oauth2server.mapper&amp;#34;&lt;/span> &lt;span class="n">level&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;debug&amp;#34;&lt;/span> &lt;span class="n">additivity&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;false&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">lt&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="o">!&amp;amp;&lt;/span>&lt;span class="n">ndash&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="err">指定输出的&lt;/span>&lt;span class="n">appender&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">ndash&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">gt&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ref&lt;/span> &lt;span class="n">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;CONSOLE&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ref&lt;/span> &lt;span class="n">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;LOG_ASYNC&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ref&lt;/span> &lt;span class="n">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;APM_LOG&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;!--&lt;/span> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">logger&lt;/span>&lt;span class="o">&amp;gt;--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">root&lt;/span> &lt;span class="n">level&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;info&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ref&lt;/span> &lt;span class="n">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;CONSOLE&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ref&lt;/span> &lt;span class="n">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;LOG_ASYNC&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">appender&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ref&lt;/span> &lt;span class="n">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;APM_LOG&amp;#34;&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">root&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">configuration&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>SkyWalking 9 安装</title><link>https://wlngo.github.io/archives/skywalking9%E5%AE%89%E8%A3%85/</link><pubDate>Tue, 14 Mar 2023 10:37:04 +0000</pubDate><guid>https://wlngo.github.io/archives/skywalking9%E5%AE%89%E8%A3%85/</guid><description>&lt;h2 id="oap">oap
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run --name oap --restart always -d \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e SW_STORAGE=elasticsearch \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e SW_STORAGE_ES_CLUSTER_NODES=10.0.0.2:9200 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e SW_ES_USER=elastic -e SW_ES_PASSWORD=密码 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e SW_CORE_GRPC_SSL_ENABLED=true \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e SW_CORE_GRPC_SSL_KEY_PATH=/skywalking/config/tls/server.pem \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e SW_CORE_GRPC_SSL_CERT_CHAIN_PATH=/skywalking/config/tls/server.crt \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e SW_CORE_GRPC_SSL_TRUSTED_CA_PATH=/skywalking/config/tls/ca.crt \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e JAVA_OPTS=&amp;#34;-Xms2048m -Xmx2048m&amp;#34; \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/oap/tls/:/skywalking/config/tls/ \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-p 11800:11800 -p 12800:12800 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e TZ=Asia/Shanghai \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /etc/timezone:/etc/timezone:ro \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /etc/localtime:/etc/localtime:ro \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apache/skywalking-oap-server:9.7.0-java17
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>agent.instance_uuid&lt;/p>
&lt;h2 id="ui">ui
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run --name oap-ui --restart always -d \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-p 8380:8080 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e SW_OAP_ADDRESS=http://10.0.0.2:12800 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e TZ=Asia/Shanghai \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /etc/timezone:/etc/timezone:ro \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /etc/localtime:/etc/localtime:ro \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apache/skywalking-ui:9.7.0-java17
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>jfrog的oss和JRC安装</title><link>https://wlngo.github.io/archives/jfrog-de-oss-he-jrc-an-zhuang/</link><pubDate>Tue, 14 Mar 2023 10:01:17 +0000</pubDate><guid>https://wlngo.github.io/archives/jfrog-de-oss-he-jrc-an-zhuang/</guid><description>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">mkdir&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">jcr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">mkdir&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">oss&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">mkdir&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">oss&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cd&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">oss&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">touch&lt;/span> &lt;span class="o">./&lt;/span>&lt;span class="n">system&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">yaml&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">chown&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">R&lt;/span> &lt;span class="mi">1030&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">1030&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">oss&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">mkdir&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">jcr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cd&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">jcr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">touch&lt;/span> &lt;span class="o">./&lt;/span>&lt;span class="n">system&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">yaml&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">chown&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">R&lt;/span> &lt;span class="mi">1030&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">1030&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">jcr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">oss&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">oss&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">jfrog&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">8010&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">8081&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">8020&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">8082&lt;/span> &lt;span class="n">releases&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">docker&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">jfrog&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">jfrog&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">oss&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">7.49&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">jcr&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">jcr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">jfrog&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">8030&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">8081&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">8040&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">8082&lt;/span> &lt;span class="n">releases&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">docker&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">jfrog&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">jfrog&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">jcr&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">7.49&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>redis value 写入文件</title><link>https://wlngo.github.io/archives/redisvalue-xie-ru-wen-jian/</link><pubDate>Tue, 28 Feb 2023 10:58:23 +0000</pubDate><guid>https://wlngo.github.io/archives/redisvalue-xie-ru-wen-jian/</guid><description>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">redis-cli -c -p 6379 -a 密码-x set mini-file-http-serve-noMatchRegex &amp;lt; noMatchRegex.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>zookeeper 权限配置</title><link>https://wlngo.github.io/archives/zookeeper-quan-xian-pei-zhi/</link><pubDate>Mon, 27 Feb 2023 11:24:41 +0000</pubDate><guid>https://wlngo.github.io/archives/zookeeper-quan-xian-pei-zhi/</guid><description>&lt;p>查看当前身份认证&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">getAcl /
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Digest 是最常用的权限控制模式，也更符合我们对于权限控制的认识，其类似于 username:password 形式的权限标识来进行权限配置，便于区分不同应用来进行权限控制。&lt;/p>
&lt;p>当我们通过 username:password 形式配置了权限标识。这里的密码是密文，ZooKeeper 会对其先后进行两次编码处理，分别是SHA-1算法加密和BASE64编码，在 SHELL 中可以通过以下命令计算：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">echo -n&amp;lt;user&amp;gt;:&amp;lt;password&amp;gt; | openssl dgst -binary -sha1 | openssl base64
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>例子：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">setAcl /test/digest-node-1 digest:user-1:1g4T1B5w+se9ntA6Ckp90uPaJ30=:crdwa
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>docker 限制内存</title><link>https://wlngo.github.io/archives/docker-xian-zhi-nei-cun/</link><pubDate>Mon, 27 Feb 2023 09:37:02 +0000</pubDate><guid>https://wlngo.github.io/archives/docker-xian-zhi-nei-cun/</guid><description>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> docker update --memory 1g --memory-swap -1 jenkins
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>清理系统缓存</title><link>https://wlngo.github.io/archives/qing-li-xi-tong-huan-cun/</link><pubDate>Sat, 18 Feb 2023 18:53:02 +0000</pubDate><guid>https://wlngo.github.io/archives/qing-li-xi-tong-huan-cun/</guid><description>&lt;p>保存数据&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sync
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>cache释放：
To free pagecache:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">echo 1 &amp;gt; /proc/sys/vm/drop_caches
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>docker 安装miniO</title><link>https://wlngo.github.io/archives/docker%E5%AE%89%E8%A3%85minio/</link><pubDate>Thu, 16 Feb 2023 17:01:22 +0000</pubDate><guid>https://wlngo.github.io/archives/docker%E5%AE%89%E8%A3%85minio/</guid><description>&lt;h2 id="启动">启动
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">9000&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">9000&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">9050&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">9050&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">minio&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="s2">&amp;#34;MINIO_SERVER_URL=https://wlngo.top:9000&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="s2">&amp;#34;MINIO_ROOT_USER=账号&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="s2">&amp;#34;MINIO_ROOT_PASSWORD=密码&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="s2">&amp;#34;MINIO_BROWSER_REDIRECT_URL=https://wlngo.top:9050&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="s2">&amp;#34;MINIO_DOMAIN&amp;#34;&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">wlngo&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">top&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">minio&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">minio&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">root&lt;/span>&lt;span class="o">/.&lt;/span>&lt;span class="n">minio&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">TZ&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">Asia&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Shanghai&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">quay&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">minio&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">minio&lt;/span> &lt;span class="n">server&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">console&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">address&lt;/span> &lt;span class="s2">&amp;#34;:9050&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run -d -p 9000:9000 -p 9050:9050 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--name minio --restart=always \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e &amp;#34;MINIO_ROOT_USER=账号&amp;#34; \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e &amp;#34;MINIO_ROOT_PASSWORD=密码!&amp;#34; \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e &amp;#34;MINIO_DOMAIN&amp;#34;=wlngo.top \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/minio/data:/data \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/minio/config:/root/.minio \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e TZ=Asia/Shanghai \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> quay.io/minio/minio server \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/data --console-address &amp;#34;:9050&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>nginx&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;span class="lnt">83
&lt;/span>&lt;span class="lnt">84
&lt;/span>&lt;span class="lnt">85
&lt;/span>&lt;span class="lnt">86
&lt;/span>&lt;span class="lnt">87
&lt;/span>&lt;span class="lnt">88
&lt;/span>&lt;span class="lnt">89
&lt;/span>&lt;span class="lnt">90
&lt;/span>&lt;span class="lnt">91
&lt;/span>&lt;span class="lnt">92
&lt;/span>&lt;span class="lnt">93
&lt;/span>&lt;span class="lnt">94
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zed" data-lang="zed">&lt;span class="line">&lt;span class="cl">&lt;span class="n">upstream&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">minio_s3&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">least_conn&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">server&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">192&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">168&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">123&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">124&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="err">9000&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">upstream&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">minio_console&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">least_conn&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">server&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">192&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">168&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">123&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">124&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="err">9050&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">server&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">listen&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">9000&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ssl&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">listen&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="err">9000&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ssl&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="err">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Allow&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">special&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">characters&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">in&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">headers&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ignore_invalid_headers&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">off&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="err">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Allow&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">any&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">be&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">uploaded&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="err">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Set&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">such&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">1000&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">restrict&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">specific&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">client_max_body_size&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="err">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Disable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">buffering&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_buffering&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">off&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_request_buffering&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">off&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="err">#请填写证书文件的相对路径或绝对路径&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ssl_certificate&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nn">etc/nginx/ssl/&lt;/span>&lt;span class="n">wlngo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nn">top_nginx/&lt;/span>&lt;span class="n">wlngo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">top_bundle&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">crt&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="err">#请填写私钥文件的相对路径或绝对路径&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ssl_certificate_key&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nn">etc/nginx/ssl/&lt;/span>&lt;span class="n">wlngo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nn">top_nginx/&lt;/span>&lt;span class="n">wlngo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">top&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">key&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ssl_session_timeout&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">5&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="err">#请按照以下协议配置&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ssl_protocols&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">TLSv1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">TLSv1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">3&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="err">#请按照以下套件配置，配置加密套件，写法遵循&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">openssl&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">标准。&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ssl_ciphers&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ECDHE&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">RSA&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">AES128&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">GCM&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">SHA256&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="n">HIGH&lt;/span>&lt;span class="o">:!&lt;/span>&lt;span class="n">aNULL&lt;/span>&lt;span class="o">:!&lt;/span>&lt;span class="n">MD5&lt;/span>&lt;span class="o">:!&lt;/span>&lt;span class="n">RC4&lt;/span>&lt;span class="o">:!&lt;/span>&lt;span class="n">DHE&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ssl_prefer_server_ciphers&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">on&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">location&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_set_header&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Host&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">$&lt;/span>&lt;span class="n">http_host&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_set_header&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Real&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">IP&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">$&lt;/span>&lt;span class="n">remote_addr&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_set_header&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Forwarded&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">For&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">$&lt;/span>&lt;span class="n">proxy_add_x_forwarded_for&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_set_header&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Forwarded&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Proto&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">$&lt;/span>&lt;span class="n">scheme&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_connect_timeout&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">300&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="err">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Default&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">is&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">HTTP/&lt;/span>&lt;span class="err">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">keepalive&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">is&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">only&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">enabled&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">in&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">HTTP/&lt;/span>&lt;span class="err">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_http_version&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">1&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_set_header&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Connection&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">chunked_transfer_encoding&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">off&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_pass&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">http&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="c1">//minio_s3; # This uses the upstream directive definition to load balance
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">server&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">listen&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">9050&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ssl&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">listen&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="err">9050&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ssl&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="err">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Allow&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">special&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">characters&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">in&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">headers&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ignore_invalid_headers&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">off&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="err">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Allow&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">any&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">be&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">uploaded&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="err">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Set&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">such&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">1000&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">restrict&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">specific&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">client_max_body_size&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="err">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Disable&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">buffering&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_buffering&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">off&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_request_buffering&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">off&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="err">#请填写证书文件的相对路径或绝对路径&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ssl_certificate&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nn">etc/nginx/ssl/&lt;/span>&lt;span class="n">wlngo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nn">top_nginx/&lt;/span>&lt;span class="n">wlngo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">top_bundle&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">crt&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="err">#请填写私钥文件的相对路径或绝对路径&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ssl_certificate_key&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nn">etc/nginx/ssl/&lt;/span>&lt;span class="n">wlngo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nn">top_nginx/&lt;/span>&lt;span class="n">wlngo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">top&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">key&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ssl_session_timeout&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">5&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="err">#请按照以下协议配置&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ssl_protocols&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">TLSv1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">TLSv1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">3&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="err">#请按照以下套件配置，配置加密套件，写法遵循&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">openssl&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">标准。&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ssl_ciphers&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ECDHE&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">RSA&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">AES128&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">GCM&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">SHA256&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="n">HIGH&lt;/span>&lt;span class="o">:!&lt;/span>&lt;span class="n">aNULL&lt;/span>&lt;span class="o">:!&lt;/span>&lt;span class="n">MD5&lt;/span>&lt;span class="o">:!&lt;/span>&lt;span class="n">RC4&lt;/span>&lt;span class="o">:!&lt;/span>&lt;span class="n">DHE&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">ssl_prefer_server_ciphers&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">on&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">location&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_set_header&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Host&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">$&lt;/span>&lt;span class="n">http_host&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_set_header&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Real&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">IP&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">$&lt;/span>&lt;span class="n">remote_addr&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_set_header&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Forwarded&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">For&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">$&lt;/span>&lt;span class="n">proxy_add_x_forwarded_for&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_set_header&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Forwarded&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Proto&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">$&lt;/span>&lt;span class="n">scheme&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_set_header&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">NginX&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Proxy&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">true&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="err">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">This&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">is&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">necessary&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pass&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">the&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">correct&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IP&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">be&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">hashed&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">real_ip_header&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Real&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">IP&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_connect_timeout&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">300&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="err">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">To&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">support&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">websocket&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_http_version&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="err">1&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_set_header&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Upgrade&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">$&lt;/span>&lt;span class="n">http_upgrade&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_set_header&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Connection&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="n">upgrade&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">chunked_transfer_encoding&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">off&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">proxy_pass&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">http&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="c1">//minio_console/; # This uses the upstream directive definition to load balance
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>https
1.证书准备
将申请的SSL证书 .key结尾的重命名为：private.key和 .crt结尾的重命名为：public.crt 别问为什么，官方规定，不信自己看官方文档：https://min.io/docs/minio/linux/operations/network-encryption.html?ref=docs-redirect
然后将private.key和public.crt两个文件放到MinIO目录certs下面：/你的minio目录/config/certs&lt;/p>
&lt;h2 id="监控">监控
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> docker run -it --entrypoint=/bin/sh minio/mc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mc alias set myminio https://www.weiliangning.work:9000 账号 密码
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mc admin prometheus generate myminio
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>docker安装prometheus</title><link>https://wlngo.github.io/archives/docker%E5%AE%89%E8%A3%85prometheus/</link><pubDate>Tue, 31 Jan 2023 09:49:46 +0000</pubDate><guid>https://wlngo.github.io/archives/docker%E5%AE%89%E8%A3%85prometheus/</guid><description>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">9090&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">9090&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">prometheus&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">TZ&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">Asia&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Shanghai&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">prometheus&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">prometheus&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">yml&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">prometheus&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">prometheus&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">yml&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">prometheus&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">prometheus&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">prom&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">prometheus&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">--&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">prometheus&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">prometheus&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">yml&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">--&lt;/span>&lt;span class="n">storage&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tsdb&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">prometheus&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">--&lt;/span>&lt;span class="n">web&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">console&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">libraries&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">share&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">prometheus&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">console_libraries&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">--&lt;/span>&lt;span class="n">web&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">enable&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">admin&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">api&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">--&lt;/span>&lt;span class="n">web&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">enable&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">lifecycle&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&amp;ldquo;&amp;ndash;config.file=/etc/prometheus/prometheus.yml&amp;rdquo;&lt;/li>
&lt;li>&amp;ldquo;&amp;ndash;storage.tsdb.path=/prometheus&amp;rdquo;&lt;/li>
&lt;li>&amp;ldquo;&amp;ndash;storage.tsdb.retention=24h&amp;rdquo;&lt;/li>
&lt;li>&amp;ldquo;&amp;ndash;web.enable-admin-api&amp;rdquo; # 控制对admin HTTP API的访问，其中包括删除时间序列等功能&lt;/li>
&lt;li>&amp;ldquo;&amp;ndash;web.enable-lifecycle&amp;rdquo;&lt;/li>
&lt;/ul>
&lt;h3 id="node-linux-监控">node linux 监控
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">9100&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">9100&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">node&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">exporter&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">net&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;host&amp;#34;&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">pid&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;host&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="s2">&amp;#34;/:/host:ro,rslave&amp;#34;&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">TZ&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">Asia&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Shanghai&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">quay&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">prometheus&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">node&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">exporter&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">latest&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rootfs&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">host&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="mysql--监控">mysql 监控
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">mysqld&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">exporter&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">9104&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">9104&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">mysqld&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">exporter&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">mysqld&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">exporter&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">TZ&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">Asia&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Shanghai&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">localtime&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">ro&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">prom&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">mysqld&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">exporter&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">main&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">--&lt;/span>&lt;span class="n">mysqld&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">address&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">192.168&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">123.124&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">3306&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">--&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">my&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cnf&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">mysqld&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">exporter&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">/.&lt;/span>&lt;span class="n">my&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cnf&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>docker 安装rocketmq集群</title><link>https://wlngo.github.io/archives/docker%E5%AE%89%E8%A3%85rocketmq%E9%9B%86%E7%BE%A4/</link><pubDate>Tue, 10 Jan 2023 15:38:08 +0000</pubDate><guid>https://wlngo.github.io/archives/docker%E5%AE%89%E8%A3%85rocketmq%E9%9B%86%E7%BE%A4/</guid><description>&lt;h3 id="下载rocketmq镜像">下载rocketmq镜像
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker pull -v apache/rocketmq:5.1.3
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="rocketmq-nameserver">rocketmq-nameServer
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run -d --name rocketmq-nameServer -p 9876:9876 -p 9878:9878 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e JAVA_OPT_EXT=&amp;#34;-Xms512m -Xmx512m&amp;#34; \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/rocketmq/nameServer/logs:/home/rocketmq/logs \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/rocketmq/nameServer/conf/namesrv.conf:/home/rocketmq/rocketmq-5.1.4/conf/namesrvr.conf \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/rocketmq/nameServer/DledgerController:/home/rocketmq/DledgerController \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--restart=always apache/rocketmq:5.1.4 sh mqnamesrv -c /home/rocketmq/rocketmq-5.1.4/conf/namesrvr.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="rocketmq-broker">rocketmq-broker
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run -d --name rocketmq-broker \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e JAVA_OPT_EXT=&amp;#34;-Xms2048m -Xmx2048m&amp;#34; \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -p 10909:10909 -p 10911:10911 -p 10912:10912 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/rocketmq/broker/logs:/home/rocketmq/logs \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/rocketmq/broker/store/:/home/rocketmq/store/ \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/rocketmq/broker/conf/broker.conf:/home/rocketmq/rocketmq-5.1.4/conf/broker.conf \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/rocketmq/broker/conf/plain_acl.yml:/home/rocketmq/rocketmq-5.1.4/conf/plain_acl.yml \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--restart=always apache/rocketmq:5.1.4 sh mqbroker -c /home/rocketmq/rocketmq-5.1.4/conf/broker.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="rocketmq-dashboard">rocketmq-dashboard
&lt;/h3>&lt;p>需要自己编译源码 开启登录密码
地址 &lt;a class="link" href="https://github.com/apache/rocketmq-dashboard" target="_blank" rel="noopener"
>https://github.com/apache/rocketmq-dashboard&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run -d --name rocketmq-dashboard --ulimit nofile=1024 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e JAVA_OPTS=&amp;#34;-Xms128m -Xmx128m&amp;#34; \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/rocketmq/rocketmq-dashboard/rocketmq-dashboard-1.0.1-SNAPSHOT.jar:/rocketmq-dashboard.jar \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/rocketmq/rocketmq-dashboard/config:/tmp/rocketmq-console/data/ \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/rocketmq/rocketmq-dashboard/logs:/root/logs \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-p 8180:8080 --restart=always \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apacherocketmq/rocketmq-dashboard:latest
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="权限">权限
&lt;/h3>&lt;p>默认在conf下的plain_acl.yml
&lt;a class="link" href="https://rocketmq.apache.org/zh/docs/bestPractice/03access/#1%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%E7%89%B9%E6%80%A7%E4%BB%8B%E7%BB%8D" target="_blank" rel="noopener"
>https://rocketmq.apache.org/zh/docs/bestPractice/03access/#1%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%E7%89%B9%E6%80%A7%E4%BB%8B%E7%BB%8D&lt;/a>&lt;/p></description></item><item><title>压力测试温度检测</title><link>https://wlngo.github.io/archives/ya-li-ce-shi-wen-du-jian-ce/</link><pubDate>Sun, 01 Jan 2023 19:54:49 +0000</pubDate><guid>https://wlngo.github.io/archives/ya-li-ce-shi-wen-du-jian-ce/</guid><description>&lt;p>消耗 CPU 资源
stress 消耗 CPU 资源的方式是通过调用 sqrt 函数计算由 rand 函数产生的随机数的平方根实现的。下面的命令会产生 32 个这样的进程不断的进行计算&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">stress -c 32
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>温度检测&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sensors
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>内存检测命令</title><link>https://wlngo.github.io/archives/nei-cun-jian-ce-ming-ling/</link><pubDate>Sun, 01 Jan 2023 17:55:18 +0000</pubDate><guid>https://wlngo.github.io/archives/nei-cun-jian-ce-ming-ling/</guid><description>&lt;p>查看内存错误&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">grep [0-9] /sys/devices/system/edac/mc/mc*/csrow*/ch*_ce_count
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> dmesg|grep -i error
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>查看内存速度&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">dmidecode -t memory
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>mybatis 坑</title><link>https://wlngo.github.io/archives/mybatis-keng/</link><pubDate>Mon, 26 Dec 2022 15:02:15 +0000</pubDate><guid>https://wlngo.github.io/archives/mybatis-keng/</guid><description>&lt;p>如果@Parm参数为对象 并且为多参数 并且使用了bind 剩余参数即使不需要bind 也要进行绑定 否则接受不到参数&lt;/p></description></item><item><title>mqadmin</title><link>https://wlngo.github.io/archives/2022-12-23-15-34-59/</link><pubDate>Fri, 23 Dec 2022 15:35:01 +0000</pubDate><guid>https://wlngo.github.io/archives/2022-12-23-15-34-59/</guid><description>&lt;!DOCTYPE html>
&lt;h1 id="heading"> 
&lt;/h1>&lt;h1 id="11控制台使用">&lt;span style="font-family:&amp;#39;宋体&amp;#39;;font-size:22pt;font-weight:bold;">1.1. &lt;span style="font-family:&amp;#39;宋体&amp;#39;;">控制台使用&lt;/span>&lt;/span>
&lt;/h1>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">RocketMQ 提供有控制台及一系列控制台命令，用于管理员对主题，集群，broker 等信息的管理；&lt;/span>&lt;/p>
&lt;p>&lt;strong>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">登录控制台&lt;/span>&lt;/strong>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">首先进入RocketMQ 工程，进入/RocketMQ/bin&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">在该目录下有个mqadmin 脚本&lt;/span>&lt;/p>
&lt;p>&lt;strong>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">查看帮助&lt;/span>&lt;/strong>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">在mqadmin 下可以查看有哪些命令&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">sh mqadmin&lt;/span>&lt;/p>
&lt;p>&lt;strong>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">查看具体命令的使用&lt;/span>&lt;/strong>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">sh mqadmin help 命令名称&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">例如，查看updateTopic 的使用&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">sh mqadmin help updateTopic&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h1 id="12详细命令">&lt;span style="font-family:&amp;#39;宋体&amp;#39;;font-size:22pt;font-weight:bold;">1.2. &lt;span style="font-family:&amp;#39;宋体&amp;#39;;">详细命令&lt;/span>&lt;/span>
&lt;/h1>&lt;h2 id="121创建topic">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.1. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">创建&lt;/span>&lt;span style="font-family:Arial;">Topic&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">updateTopic &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.topic.UpdateTopicSubCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:663px;">&lt;tbody>&lt;tr>&lt;td style="width:106.5pt;background:#e6e6e6;border:#000000 .5pt solid;" width="142">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:136.65pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="182">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:420.75pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="561">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:106.5pt;border-top:medium none;border-right:#000000 .5pt solid;" width="142">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-b&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:136.65pt;border-top:medium none;border-right:#000000 .5pt solid;" width="182">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">如果-c为空，则必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:420.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="561">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">broker 地址，表示topic 建在该broker&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:106.5pt;border-top:medium none;border-right:#000000 .5pt solid;" width="142">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-c&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:136.65pt;border-top:medium none;border-right:#000000 .5pt solid;" width="182">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">如果-b为空，则必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:420.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="561">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">cluster 名称，表示topic 建在该集群（集群可通过clusterList 查询）&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:106.5pt;border-top:medium none;border-right:#000000 .5pt solid;" width="142">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:136.65pt;border-top:medium none;border-right:#000000 .5pt solid;" width="182">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:420.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="561">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:106.5pt;border-top:medium none;border-right:#000000 .5pt solid;" width="142">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:136.65pt;border-top:medium none;border-right:#000000 .5pt solid;" width="182">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:420.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="561">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:106.5pt;border-top:medium none;border-right:#000000 .5pt solid;" width="142">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-p&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:136.65pt;border-top:medium none;border-right:#000000 .5pt solid;" width="182">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否 &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:420.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="561">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指定新topic 的权限限制( W|R|WR )&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:106.5pt;border-top:medium none;border-right:#000000 .5pt solid;" width="142">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-r &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:136.65pt;border-top:medium none;border-right:#000000 .5pt solid;" width="182">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:420.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="561">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">可读队列数（默认为8）&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:106.5pt;border-top:medium none;border-right:#000000 .5pt solid;" width="142">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-w&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:136.65pt;border-top:medium none;border-right:#000000 .5pt solid;" width="182">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:420.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="561">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">可写队列数（默认为8）&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:106.5pt;border-top:medium none;border-right:#000000 .5pt solid;" width="142">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-t&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:136.65pt;border-top:medium none;border-right:#000000 .5pt solid;" width="182">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:420.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="561">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">opic 名称（名称只能使用字符 ^[a-zA-Z0-9_-]+$ ）&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="122删除topic">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.2. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">删除&lt;/span>&lt;span style="font-family:Arial;">Topic&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">deleteTopic &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.topic.DeleteTopicSubCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:663px;">&lt;tbody>&lt;tr>&lt;td style="width:78.9pt;background:#e6e6e6;border:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数 &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:156.75pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="209">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:428.25pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="571">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> 说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-c&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:156.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="209">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:428.25pt;border-top:medium none;border-right:#000000 .5pt solid;" width="571">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">cluster 名称，表示删除某集群下的某个topic （集群可通过clusterList 查询）&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:156.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="209">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:428.25pt;border-top:medium none;border-right:#000000 .5pt solid;" width="571">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:156.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="209">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:428.25pt;border-top:medium none;border-right:#000000 .5pt solid;" width="571">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;…&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-t&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:156.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="209">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:428.25pt;border-top:medium none;border-right:#000000 .5pt solid;" width="571">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">topic 名称（名称只能使用字符 ^[a-zA-Z0-9_-]+$ ）&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="123创建修订订阅组">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.3. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">创建（修订）订阅组&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">updateSubGroup &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.consumer.UpdateSubGroupSubCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:663px;">&lt;tbody>&lt;tr>&lt;td style="width:78.9pt;background:#e6e6e6;border:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:156pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="208">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:429.75pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="573">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-b&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:156pt;border-top:medium none;border-right:#000000 .5pt solid;" width="208">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">如果 –c 为空，则必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:429.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="573">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">broker 地址，表示订阅组建在该broker&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-c&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:156pt;border-top:medium none;border-right:#000000 .5pt solid;" width="208">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">如果 –b 为空，则必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:429.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="573">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">cluster名称，表示topic 建在该集群（集群可通过clusterList查询）&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-d&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:156pt;border-top:medium none;border-right:#000000 .5pt solid;" width="208">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否 &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:429.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="573">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否容许广播方式消费&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-g&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:156pt;border-top:medium none;border-right:#000000 .5pt solid;" width="208">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是 &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:429.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="573">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">订阅组名&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-i&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:156pt;border-top:medium none;border-right:#000000 .5pt solid;" width="208">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:429.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="573">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">从哪个broker 开始消费&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-m&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:156pt;border-top:medium none;border-right:#000000 .5pt solid;" width="208">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:429.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="573">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否容许从队列的最小位置开始消费，默认会设置为false&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-q&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:156pt;border-top:medium none;border-right:#000000 .5pt solid;" width="208">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:429.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="573">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">消费失败的消息放到一个重试队列，每个订阅组配置几个重试队列&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-r &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:156pt;border-top:medium none;border-right:#000000 .5pt solid;" width="208">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否 &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:429.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="573">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">重试消费最大次数，超过则投递到死信队列，不再投递，并报警&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-s&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:156pt;border-top:medium none;border-right:#000000 .5pt solid;" width="208">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:429.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="573">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">消费功能是否开启&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-w &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:156pt;border-top:medium none;border-right:#000000 .5pt solid;" width="208">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:429.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="573">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">发现消息堆积后，将Consumer 的消费请求重定向到另外一台Slave 机器&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:156pt;border-top:medium none;border-right:#000000 .5pt solid;" width="208">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:429.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="573">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:156pt;border-top:medium none;border-right:#000000 .5pt solid;" width="208">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:429.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="573">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="124删除订阅组配置">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.4. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">删除订阅组配置&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">deleteSubGroup &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">c&lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">om.alibaba.rocketmq.tools.command.consumer.DeleteSubscriptionGroupCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:666px;">&lt;tbody>&lt;tr>&lt;td style="width:78.9pt;background:#e6e6e6;border:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:147pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="196">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:438.75pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="585">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-b &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:147pt;border-top:medium none;border-right:#000000 .5pt solid;" width="196">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">如果–c 为空，则必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:438.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="585">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">broker 地址，表示订阅组建在该broker&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-c &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:147pt;border-top:medium none;border-right:#000000 .5pt solid;" width="196">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">如果–b 为空，则必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:438.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="585">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">cluster 名称，表示topic建在该集群（集群可通过clusterList查询）&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-g&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:147pt;border-top:medium none;border-right:#000000 .5pt solid;" width="196">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:438.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="585">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">订阅组名&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:147pt;border-top:medium none;border-right:#000000 .5pt solid;" width="196">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:438.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="585">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:147pt;border-top:medium none;border-right:#000000 .5pt solid;" width="196">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:438.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="585">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="125更新broker配置文件">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.5. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">更新&lt;/span>&lt;span style="font-family:Arial;">Broker &lt;/span>&lt;span style="font-family:&amp;#39;黑体&amp;#39;;">配置文件&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">updateBrokerConfig&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.broker.UpdateBrokerConfigSubCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:665px;">&lt;tbody>&lt;tr>&lt;td style="width:78.9pt;background:#e6e6e6;border:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:150pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="200">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:435.75pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="581">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-b &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:150pt;border-top:medium none;border-right:#000000 .5pt solid;" width="200">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">如果–c为空，则必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:435.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="581">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">broker 地址，表示订阅组建在该broker&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-c &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:150pt;border-top:medium none;border-right:#000000 .5pt solid;" width="200">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">如果–b 为空，则必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:435.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="581">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">cluster名称，表示topic 建在该集群（集群可通过clusterList查询）&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-k &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:150pt;border-top:medium none;border-right:#000000 .5pt solid;" width="200">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:435.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="581">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> key 值&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-v&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:150pt;border-top:medium none;border-right:#000000 .5pt solid;" width="200">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:435.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="581">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">value 值&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:150pt;border-top:medium none;border-right:#000000 .5pt solid;" width="200">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:435.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="581">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:150pt;border-top:medium none;border-right:#000000 .5pt solid;" width="200">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:435.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="581">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="126查看topic列表信息">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.6. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">查看&lt;/span>&lt;span style="font-family:Arial;">Topic &lt;/span>&lt;span style="font-family:&amp;#39;黑体&amp;#39;;">列表信息&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">topicList &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.broker.UpdateBrokerConfigSubCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:664px;">&lt;tbody>&lt;tr>&lt;td style="width:78.9pt;background:#e6e6e6;border:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.75pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="673">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="673">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.9pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="673">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="127查看topic路由信息">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.7. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">查看&lt;/span>&lt;span style="font-family:Arial;">Topic &lt;/span>&lt;span style="font-family:&amp;#39;黑体&amp;#39;;">路由信息&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">topicRoute &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.topic.TopicRouteSubCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:664px;">&lt;tbody>&lt;tr>&lt;td style="width:78.15pt;background:#e6e6e6;border:#000000 .5pt solid;" width="104">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81.75pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="109">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.75pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="673">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.15pt;border-top:medium none;border-right:#000000 .5pt solid;" width="104">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-t&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="109">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="673">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">topic 名称&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.15pt;border-top:medium none;border-right:#000000 .5pt solid;" width="104">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="109">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="673">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.15pt;border-top:medium none;border-right:#000000 .5pt solid;" width="104">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="109">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="673">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="128查看topic统计信息">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.8. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">查看&lt;/span>&lt;span style="font-family:Arial;">Topic &lt;/span>&lt;span style="font-family:&amp;#39;黑体&amp;#39;;">统计信息&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">topicStats &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.topic.TopicStatsSubCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:663px;">&lt;tbody>&lt;tr>&lt;td style="width:78.15pt;background:#e6e6e6;border:#000000 .5pt solid;" width="104">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81.75pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="109">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.75pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="673">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.15pt;border-top:medium none;border-right:#000000 .5pt solid;" width="104">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-t&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="109">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="673">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">topic 名称&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.15pt;border-top:medium none;border-right:#000000 .5pt solid;" width="104">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="109">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="673">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.15pt;border-top:medium none;border-right:#000000 .5pt solid;" width="104">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="109">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="673">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="129查看broker统计信息">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.9. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">查看&lt;/span>&lt;span style="font-family:Arial;">Broker &lt;/span>&lt;span style="font-family:&amp;#39;黑体&amp;#39;;">统计信息&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">brokerStats &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.broker.BrokerStatsSubCommanD&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:666px;">&lt;tbody>&lt;tr>&lt;td style="width:78.15pt;background:#e6e6e6;border:#000000 .5pt solid;" width="104">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81.75pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="109">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="672">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.15pt;border-top:medium none;border-right:#000000 .5pt solid;" width="104">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-b&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="109">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504pt;border-top:medium none;border-right:#000000 .5pt solid;" width="672">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> broker 地址&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.15pt;border-top:medium none;border-right:#000000 .5pt solid;" width="104">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="109">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504pt;border-top:medium none;border-right:#000000 .5pt solid;" width="672">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.15pt;border-top:medium none;border-right:#000000 .5pt solid;" width="104">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81.75pt;border-top:medium none;border-right:#000000 .5pt solid;" width="109">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504pt;border-top:medium none;border-right:#000000 .5pt solid;" width="672">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="1210根据消息id查询消息">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.10. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">根据消息&lt;/span>&lt;span style="font-family:Arial;">ID &lt;/span>&lt;span style="font-family:&amp;#39;黑体&amp;#39;;">查询消息&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">queryMsgById &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.message.QueryMsgByIdSubCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:665px;">&lt;tbody>&lt;tr>&lt;td style="width:78.15pt;background:#e6e6e6;border:#000000 .5pt solid;" width="104">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:82.5pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="110">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="672">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.15pt;border-top:medium none;border-right:#000000 .5pt solid;" width="104">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-i&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:82.5pt;border-top:medium none;border-right:#000000 .5pt solid;" width="110">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504pt;border-top:medium none;border-right:#000000 .5pt solid;" width="672">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">消息&lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">id&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.15pt;border-top:medium none;border-right:#000000 .5pt solid;" width="104">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:82.5pt;border-top:medium none;border-right:#000000 .5pt solid;" width="110">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504pt;border-top:medium none;border-right:#000000 .5pt solid;" width="672">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:78.15pt;border-top:medium none;border-right:#000000 .5pt solid;" width="104">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:82.5pt;border-top:medium none;border-right:#000000 .5pt solid;" width="110">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504pt;border-top:medium none;border-right:#000000 .5pt solid;" width="672">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="1211根据消息key查询消息">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.11. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">根据消息&lt;/span>&lt;span style="font-family:Arial;">Key &lt;/span>&lt;span style="font-family:&amp;#39;黑体&amp;#39;;">查询消息&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">queryMsgByKey &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.message.QueryMsgByKeySubCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:666px;">&lt;tbody>&lt;tr>&lt;td style="width:79.2pt;background:#e6e6e6;border:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-f&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">被查询消息的截止时间&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-k&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">msgKey&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-t&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">topic 名称&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="1212根据offset查询消息">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.12. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">根据&lt;/span>&lt;span style="font-family:Arial;">Offset &lt;/span>&lt;span style="font-family:&amp;#39;黑体&amp;#39;;">查询消息&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">queryMsgByOffset&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.message.QueryMsgByOffsetSubCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:664px;">&lt;tbody>&lt;tr>&lt;td style="width:79.2pt;background:#e6e6e6;border:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-b &lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">Broker 名称，表示订阅组建在该broker（这里需要注意填写的是broker 的名称，不是broker 的地址，broker名称可以在clusterList 查到&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-i&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">query 队列id&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-&lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">o&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">offset 值&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-t&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">topic 名称&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="1213查询producer的网络连接">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.13. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">查询&lt;/span>&lt;span style="font-family:Arial;">Producer &lt;/span>&lt;span style="font-family:&amp;#39;黑体&amp;#39;;">的网络连接&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">该命令只打印当前与cluster 连接的producer 网络连接信息&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">producerConnection&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.connection.ProducerConnectionSubCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:664px;">&lt;tbody>&lt;tr>&lt;td style="width:79.2pt;background:#e6e6e6;border:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-&lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">g&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">生产者所属组名&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-t&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">topic 名称&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="1214查询consumer的网络连接">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.14. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">查询&lt;/span>&lt;span style="font-family:Arial;">Consumer &lt;/span>&lt;span style="font-family:&amp;#39;黑体&amp;#39;;">的网络连接&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">该命令只打印当前与cluster 连接的consumer 网络连接信息&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">consumerConnection&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.connection.ConsumerConnectionSubCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:666px;">&lt;tbody>&lt;tr>&lt;td style="width:79.2pt;background:#e6e6e6;border:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-&lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">g&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">消费者所属组名&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="1215查看订阅组消费状态">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.15. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">查看订阅组消费状态&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">consumerProgress&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.consumer.ConsumerProgressSubCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:665px;">&lt;tbody>&lt;tr>&lt;td style="width:79.2pt;background:#e6e6e6;border:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-&lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">g&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">消费者所属组名&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="1216查看集群消息">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.16. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">查看集群消息&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">clusterList &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.cluster.ClusterListSubCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:665px;">&lt;tbody>&lt;tr>&lt;td style="width:79.2pt;background:#e6e6e6;border:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-&lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">m&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印更多信息&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="1217添加更新kv配置信息">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.17. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">添加（更新）&lt;/span>&lt;span style="font-family:Arial;">KV &lt;/span>&lt;span style="font-family:&amp;#39;黑体&amp;#39;;">配置信息&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">updateKvConfig &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.namesrv.UpdateKvConfigCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:664px;">&lt;tbody>&lt;tr>&lt;td style="width:79.2pt;background:#e6e6e6;border:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-&lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">k&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">key 值&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-v&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">value 值&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-&lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">s&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">Namespace 值&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="1218删除kv配置信息">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.18. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">删除&lt;/span>&lt;span style="font-family:Arial;">KV &lt;/span>&lt;span style="font-family:&amp;#39;黑体&amp;#39;;">配置信息&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">deleteKvConfig &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.namesrv.DeleteKvConfigCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:663px;">&lt;tbody>&lt;tr>&lt;td style="width:79.2pt;background:#e6e6e6;border:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-&lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">k&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">key 值&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-&lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">s&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">Namespace 值&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="1219添加更新projectgroup配置信息">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.19. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">添加（更新）&lt;/span>&lt;span style="font-family:Arial;">Project group &lt;/span>&lt;span style="font-family:&amp;#39;黑体&amp;#39;;">配置信息&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 updateProjectGroup &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类&lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">路径&lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.namesrv.UpdateProjectGroupCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:664px;">&lt;tbody>&lt;tr>&lt;td style="width:79.2pt;background:#e6e6e6;border:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-p&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">project group 名&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-i&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">服务器ip&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="1220删除projectgroup配置信息">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.20. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">删除&lt;/span>&lt;span style="font-family:Arial;">Project group &lt;/span>&lt;span style="font-family:&amp;#39;黑体&amp;#39;;">配置信息&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">deleteProjectGroup&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.namesrv.DeleteProjectGroupCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:665px;">&lt;tbody>&lt;tr>&lt;td style="width:79.2pt;background:#e6e6e6;border:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-p&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">project group 名&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-i&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">服务器ip&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="1221取得projectgroup配置信息">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.21. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">取得&lt;/span>&lt;span style="font-family:Arial;">Project group &lt;/span>&lt;span style="font-family:&amp;#39;黑体&amp;#39;;">配置信息&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">getProjectGroup&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.namesrv.GetProjectGroupCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:667px;">&lt;tbody>&lt;tr>&lt;td style="width:79.2pt;background:#e6e6e6;border:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-p&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">project group 名&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-i&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">服务器ip&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="1222设置消费进度">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.22. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">设置消费进度&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">根据时间来设置消费进度，设置之前要关闭这个订阅组的所有consumer，设置完再启动，方可生效&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">resetOffsetByTime&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.offset.ResetOffsetByTimeSubCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:665px;">&lt;tbody>&lt;tr>&lt;td style="width:79.2pt;background:#e6e6e6;border:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.45pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="672">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-f&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.45pt;border-top:medium none;border-right:#000000 .5pt solid;" width="672">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">通过时间戳强制回滚（true|false），默认为true&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-s&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.45pt;border-top:medium none;border-right:#000000 .5pt solid;" width="672">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">时间戳&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-g&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.45pt;border-top:medium none;border-right:#000000 .5pt solid;" width="672">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">消费者所属组名&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-t&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.45pt;border-top:medium none;border-right:#000000 .5pt solid;" width="672">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">topic 名称&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.45pt;border-top:medium none;border-right:#000000 .5pt solid;" width="672">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.45pt;border-top:medium none;border-right:#000000 .5pt solid;" width="672">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="1223清除特定broker权限">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.23. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">清除特定&lt;/span>&lt;span style="font-family:Arial;">Broker&lt;/span>&lt;span style="font-family:&amp;#39;黑体&amp;#39;;">权限&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">wipeWritePerm &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.namesrv.WipeWritePermSubCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:665px;">&lt;tbody>&lt;tr>&lt;td style="width:79.2pt;background:#e6e6e6;border:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.45pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="672">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-b&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.45pt;border-top:medium none;border-right:#000000 .5pt solid;" width="672">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">broker 地址&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.45pt;border-top:medium none;border-right:#000000 .5pt solid;" width="672">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:504.45pt;border-top:medium none;border-right:#000000 .5pt solid;" width="672">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;h2 id="1224获取consumer消费进度">&lt;span style="font-family:&amp;#39;黑体&amp;#39;;font-size:16pt;font-weight:bold;">1.2.24. &lt;span style="font-family:&amp;#39;黑体&amp;#39;;">获取&lt;/span>&lt;span style="font-family:Arial;">Consumer&lt;/span>&lt;span style="font-family:&amp;#39;黑体&amp;#39;;">消费进度&lt;/span>&lt;/span>
&lt;/h2>&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">该命令只打印当前与cluster 连接的consumer 的消费进度&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">指令 &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">getConsumerStatus&lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">类路径&lt;/span>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">com.alibaba.rocketmq.tools.command.offset.GetConsumerStatusCommand&lt;/span>&lt;/p>
&lt;table style="border-collapse:collapse;width:665px;">&lt;tbody>&lt;tr>&lt;td style="width:79.2pt;background:#e6e6e6;border:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">参数&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是否必填&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;background:#e6e6e6;border-top:#000000 .5pt solid;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">说明&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-g&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">消费者所属组名&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-t&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">查询主题&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-i&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">Consumer 客户端ip&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-h&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">否&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">打印帮助&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;tr>&lt;td style="border-bottom:#000000 .5pt solid;border-left:#000000 .5pt solid;width:79.2pt;border-top:medium none;border-right:#000000 .5pt solid;" width="105">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">-n&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:81pt;border-top:medium none;border-right:#000000 .5pt solid;" width="108">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">是&lt;/span>&lt;/p>
&lt;/td>&lt;td style="border-bottom:#000000 .5pt solid;border-left:medium none;width:503.7pt;border-top:medium none;border-right:#000000 .5pt solid;" width="671">
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;">nameserve 服务地址列表，格式ip:port;ip:port;&amp;hellip;&lt;/span>&lt;/p>
&lt;/td>&lt;/tr>&lt;/tbody>&lt;/table>
&lt;p>&lt;span style="font-family:&amp;#39;仿宋&amp;#39;;font-size:14pt;"> &lt;/span>&lt;/p>
&lt;/body>&lt;/html></description></item><item><title>spring yml配置注解处理器</title><link>https://wlngo.github.io/archives/springyml-pei-zhi-zhu-jie-chu-li-qi/</link><pubDate>Fri, 23 Dec 2022 15:26:55 +0000</pubDate><guid>https://wlngo.github.io/archives/springyml-pei-zhi-zhu-jie-chu-li-qi/</guid><description>&lt;p>&lt;a class="link" href="https://docs.spring.io/spring-boot/docs/2.5.5/reference/html/configuration-metadata.html#configuration-metadata.annotation-processor" target="_blank" rel="noopener"
>yml @ConfigurationProperties 正确处理&lt;/a>
&lt;a class="link" href="https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-configuration-processor" target="_blank" rel="noopener"
>maven&lt;/a>&lt;/p></description></item><item><title>rocketmq-dashboard</title><link>https://wlngo.github.io/archives/rocketmq-dashboard/</link><pubDate>Fri, 23 Dec 2022 15:03:58 +0000</pubDate><guid>https://wlngo.github.io/archives/rocketmq-dashboard/</guid><description>&lt;p>&lt;a class="link" href="https://github.com/apache/rocketmq-dashboard" target="_blank" rel="noopener"
>rocketmq可视化&lt;/a>&lt;/p></description></item><item><title>SpringBoot 中异步多线程的MDC日志跟踪</title><link>https://wlngo.github.io/archives/springboot-zhong-yi-bu-duo-xian-cheng-de-mdc-ri-zhi-gen-zong/</link><pubDate>Fri, 23 Dec 2022 14:59:40 +0000</pubDate><guid>https://wlngo.github.io/archives/springboot-zhong-yi-bu-duo-xian-cheng-de-mdc-ri-zhi-gen-zong/</guid><description>&lt;p>&lt;a class="link" href="https://blog.csdn.net/qingquanyingyue/article/details/126682385" target="_blank" rel="noopener"
>SpringBoot 中异步多线程的MDC日志跟踪&lt;/a>&lt;/p></description></item><item><title>Spring 注入 Bean 到 List / Map 中</title><link>https://wlngo.github.io/archives/spring-zhu-ru-bean-dao-listmap-zhong/</link><pubDate>Wed, 21 Dec 2022 16:14:11 +0000</pubDate><guid>https://wlngo.github.io/archives/spring-zhu-ru-bean-dao-listmap-zhong/</guid><description>&lt;p>将注入的Bean 放在List或者Map中:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/*
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * spring会自动将 DemoService 的所有实现类bean注入到list集合
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> */
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">@Autowired
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">private List&amp;lt;DemoService&amp;gt; demoServices;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/*
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * 通过Map注入，通过 spring bean 的名称作为key动态获取对应实例
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> */
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">@Autowired
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">private Map&amp;lt;String, DemoService&amp;gt; demoServiceMap;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Spring在注入集合类的同时，会将集合泛型类的实例填入集合中，作为集合的初始值。
对于list、set填入的是注入类型Spring管理的实例，对于map，Spring会将service的名字作为key，对象作为value封装进入Map。&lt;/p>
&lt;p>这个过程的源码在 org.springframework.beans.factory.support.DefaultListableBeanFactory 的 doResolveDependency 方法中调用了 resolveMultipleBeans 方法：&lt;/p>
&lt;ol>
&lt;li>如果是数组，则获取数组元素类型，查找匹配该类型的所有bean，返回一个这些bean的数组；&lt;/li>
&lt;li>如果该类可赋给Collection，并且是一个接口，则获取集合元素类型，查找匹配该类型的所有bean，返回一个这些bean的集合；&lt;/li>
&lt;li>如果该类型是Map(注意是type == Map.class)，且key是String类型，则获取Map的value的类型，查找匹配该类型的所有bean，这是一个key为bean name、value为bean实例的一个Map，返回这个Map。&lt;/li>
&lt;li>其他情况则是我们所熟知的按类型自动装配过程。
源代码具体如下(Spring版本是5.0.2)：&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;span class="lnt">129
&lt;/span>&lt;span class="lnt">130
&lt;/span>&lt;span class="lnt">131
&lt;/span>&lt;span class="lnt">132
&lt;/span>&lt;span class="lnt">133
&lt;/span>&lt;span class="lnt">134
&lt;/span>&lt;span class="lnt">135
&lt;/span>&lt;span class="lnt">136
&lt;/span>&lt;span class="lnt">137
&lt;/span>&lt;span class="lnt">138
&lt;/span>&lt;span class="lnt">139
&lt;/span>&lt;span class="lnt">140
&lt;/span>&lt;span class="lnt">141
&lt;/span>&lt;span class="lnt">142
&lt;/span>&lt;span class="lnt">143
&lt;/span>&lt;span class="lnt">144
&lt;/span>&lt;span class="lnt">145
&lt;/span>&lt;span class="lnt">146
&lt;/span>&lt;span class="lnt">147
&lt;/span>&lt;span class="lnt">148
&lt;/span>&lt;span class="lnt">149
&lt;/span>&lt;span class="lnt">150
&lt;/span>&lt;span class="lnt">151
&lt;/span>&lt;span class="lnt">152
&lt;/span>&lt;span class="lnt">153
&lt;/span>&lt;span class="lnt">154
&lt;/span>&lt;span class="lnt">155
&lt;/span>&lt;span class="lnt">156
&lt;/span>&lt;span class="lnt">157
&lt;/span>&lt;span class="lnt">158
&lt;/span>&lt;span class="lnt">159
&lt;/span>&lt;span class="lnt">160
&lt;/span>&lt;span class="lnt">161
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> @Nullable
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> public Object doResolveDependency(DependencyDescriptor descriptor, @Nullable String beanName,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> @Nullable Set&amp;lt;String&amp;gt; autowiredBeanNames, @Nullable TypeConverter typeConverter) throws BeansException {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> InjectionPoint previousInjectionPoint = ConstructorResolver.setCurrentInjectionPoint(descriptor);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> try {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Object shortcut = descriptor.resolveShortcut(this);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (shortcut != null) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return shortcut;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Class&amp;lt;?&amp;gt; type = descriptor.getDependencyType();
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Object value = getAutowireCandidateResolver().getSuggestedValue(descriptor);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (value != null) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (value instanceof String) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> String strVal = resolveEmbeddedValue((String) value);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> BeanDefinition bd = (beanName != null &amp;amp;&amp;amp; containsBean(beanName) ? getMergedBeanDefinition(beanName) : null);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> value = evaluateBeanDefinitionString(strVal, bd);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> TypeConverter converter = (typeConverter != null ? typeConverter : getTypeConverter());
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return (descriptor.getField() != null ?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> converter.convertIfNecessary(value, type, descriptor.getField()) :
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> converter.convertIfNecessary(value, type, descriptor.getMethodParameter()));
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Object multipleBeans = resolveMultipleBeans(descriptor, beanName, autowiredBeanNames, typeConverter);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (multipleBeans != null) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return multipleBeans;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Map&amp;lt;String, Object&amp;gt; matchingBeans = findAutowireCandidates(beanName, type, descriptor);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (matchingBeans.isEmpty()) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (isRequired(descriptor)) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> raiseNoMatchingBeanFound(type, descriptor.getResolvableType(), descriptor);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return null;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> String autowiredBeanName;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Object instanceCandidate;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (matchingBeans.size() &amp;gt; 1) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> autowiredBeanName = determineAutowireCandidate(matchingBeans, descriptor);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (autowiredBeanName == null) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (isRequired(descriptor) || !indicatesMultipleBeans(type)) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return descriptor.resolveNotUnique(type, matchingBeans);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> else {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> // In case of an optional Collection/Map, silently ignore a non-unique case:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> // possibly it was meant to be an empty collection of multiple regular beans
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> // (before 4.3 in particular when we didn&amp;#39;t even look for collection beans).
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return null;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> instanceCandidate = matchingBeans.get(autowiredBeanName);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> else {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> // We have exactly one match.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Map.Entry&amp;lt;String, Object&amp;gt; entry = matchingBeans.entrySet().iterator().next();
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> autowiredBeanName = entry.getKey();
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> instanceCandidate = entry.getValue();
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (autowiredBeanNames != null) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> autowiredBeanNames.add(autowiredBeanName);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (instanceCandidate instanceof Class) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> instanceCandidate = descriptor.resolveCandidate(autowiredBeanName, type, this);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Object result = instanceCandidate;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (result instanceof NullBean) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (isRequired(descriptor)) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> raiseNoMatchingBeanFound(type, descriptor.getResolvableType(), descriptor);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> result = null;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (!ClassUtils.isAssignableValue(type, result)) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> throw new BeanNotOfRequiredTypeException(autowiredBeanName, type, instanceCandidate.getClass());
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return result;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> finally {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ConstructorResolver.setCurrentInjectionPoint(previousInjectionPoint);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> @Nullable
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> private Object resolveMultipleBeans(DependencyDescriptor descriptor, @Nullable String beanName,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> @Nullable Set&amp;lt;String&amp;gt; autowiredBeanNames, @Nullable TypeConverter typeConverter) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Class&amp;lt;?&amp;gt; type = descriptor.getDependencyType();
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (type.isArray()) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Class&amp;lt;?&amp;gt; componentType = type.getComponentType();
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ResolvableType resolvableType = descriptor.getResolvableType();
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Class&amp;lt;?&amp;gt; resolvedArrayType = resolvableType.resolve();
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (resolvedArrayType != null &amp;amp;&amp;amp; resolvedArrayType != type) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> type = resolvedArrayType;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> componentType = resolvableType.getComponentType().resolve();
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (componentType == null) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return null;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Map&amp;lt;String, Object&amp;gt; matchingBeans = findAutowireCandidates(beanName, componentType,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> new MultiElementDescriptor(descriptor));
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (matchingBeans.isEmpty()) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return null;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (autowiredBeanNames != null) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> autowiredBeanNames.addAll(matchingBeans.keySet());
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> TypeConverter converter = (typeConverter != null ? typeConverter : getTypeConverter());
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Object result = converter.convertIfNecessary(matchingBeans.values(), type);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (getDependencyComparator() != null &amp;amp;&amp;amp; result instanceof Object[]) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Arrays.sort((Object[]) result, adaptDependencyComparator(matchingBeans));
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return result;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> else if (Collection.class.isAssignableFrom(type) &amp;amp;&amp;amp; type.isInterface()) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Class&amp;lt;?&amp;gt; elementType = descriptor.getResolvableType().asCollection().resolveGeneric();
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (elementType == null) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return null;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Map&amp;lt;String, Object&amp;gt; matchingBeans = findAutowireCandidates(beanName, elementType,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> new MultiElementDescriptor(descriptor));
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (matchingBeans.isEmpty()) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return null;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (autowiredBeanNames != null) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> autowiredBeanNames.addAll(matchingBeans.keySet());
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> TypeConverter converter = (typeConverter != null ? typeConverter : getTypeConverter());
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Object result = converter.convertIfNecessary(matchingBeans.values(), type);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (getDependencyComparator() != null &amp;amp;&amp;amp; result instanceof List) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Collections.sort((List&amp;lt;?&amp;gt;) result, adaptDependencyComparator(matchingBeans));
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return result;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> else if (Map.class == type) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ResolvableType mapType = descriptor.getResolvableType().asMap();
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Class&amp;lt;?&amp;gt; keyType = mapType.resolveGeneric(0);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (String.class != keyType) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return null;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Class&amp;lt;?&amp;gt; valueType = mapType.resolveGeneric(1);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (valueType == null) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return null;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Map&amp;lt;String, Object&amp;gt; matchingBeans = findAutowireCandidates(beanName, valueType,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> new MultiElementDescriptor(descriptor));
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (matchingBeans.isEmpty()) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return null;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if (autowiredBeanNames != null) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> autowiredBeanNames.addAll(matchingBeans.keySet());
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return matchingBeans;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> else {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return null;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>idea 屏蔽cev检测</title><link>https://wlngo.github.io/archives/idea-ping-bi-cev-jian-ce/</link><pubDate>Sun, 18 Dec 2022 19:29:08 +0000</pubDate><guid>https://wlngo.github.io/archives/idea-ping-bi-cev-jian-ce/</guid><description>&lt;p>idea 搜索&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Vulnerable declared dependency
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>ufw 和docker 冲突问题</title><link>https://wlngo.github.io/archives/ufw-he-docker-chong-tu-wen-ti/</link><pubDate>Sun, 18 Dec 2022 19:27:27 +0000</pubDate><guid>https://wlngo.github.io/archives/ufw-he-docker-chong-tu-wen-ti/</guid><description>&lt;p>&lt;a class="link" href="https://github.com/chaifeng/ufw-docker" target="_blank" rel="noopener"
>https://github.com/chaifeng/ufw-docker&lt;/a>&lt;/p></description></item><item><title>chrome解决http自动跳转https问题</title><link>https://wlngo.github.io/archives/chrome-jie-jue-http-zi-dong-tiao-zhuan-https-wen-ti/</link><pubDate>Fri, 16 Dec 2022 15:44:51 +0000</pubDate><guid>https://wlngo.github.io/archives/chrome-jie-jue-http-zi-dong-tiao-zhuan-https-wen-ti/</guid><description>&lt;h2 id="打开管理页面">打开管理页面
&lt;/h2>&lt;p>打开chrome浏览器，地址栏输入以下协议并回车&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">chrome://net-internals/#hsts
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>浏览器中将会出现以下页面，可以通过以下操作将已经自动转https协议的域名从chrome中移除&lt;/p>
&lt;ol>
&lt;li>Domain Security Prolicy&lt;/li>
&lt;li>Delete remain security prolicies&lt;/li>
&lt;/ol></description></item><item><title>设计模式 工厂模式</title><link>https://wlngo.github.io/archives/she-ji-mo-shi-gong-chang-mo-shi/</link><pubDate>Sun, 11 Dec 2022 22:03:00 +0000</pubDate><guid>https://wlngo.github.io/archives/she-ji-mo-shi-gong-chang-mo-shi/</guid><description>&lt;p>&lt;a class="link" href="https://www.wodecun.com/blog/7892.html" target="_blank" rel="noopener"
>工厂模式&lt;/a>&lt;/p></description></item><item><title>Dcoker 安装 yapi</title><link>https://wlngo.github.io/archives/dcoker-an-zhuang-yapi/</link><pubDate>Sun, 27 Nov 2022 22:23:20 +0000</pubDate><guid>https://wlngo.github.io/archives/dcoker-an-zhuang-yapi/</guid><description>&lt;p>&lt;a class="link" href="https://hub.docker.com/r/yapipro/yapi" target="_blank" rel="noopener"
>https://hub.docker.com/r/yapipro/yapi&lt;/a>&lt;/p></description></item><item><title>软件</title><link>https://wlngo.github.io/archives/ruan-jian/</link><pubDate>Sun, 04 Sep 2022 18:01:52 +0000</pubDate><guid>https://wlngo.github.io/archives/ruan-jian/</guid><description>&lt;p>★★全家桶一键激活★★★ &lt;a class="link" href="https://wws.lanzouh.com/b03j22eta" target="_blank" rel="noopener"
>https://wws.lanzouh.com/b03j22eta&lt;/a> 密码:3kqv win/mac/linux全部在内 下载解压打开对应的文件夹 有教程说明 2018-2021版本激活以后2099年到期 2022版本激活可以激活到2025年 请按所需激活软件！。 祝您今天好心情，工作顺利，生活甜美！&lt;/p></description></item><item><title>openresty</title><link>https://wlngo.github.io/archives/openresty/</link><pubDate>Thu, 01 Sep 2022 14:44:36 +0000</pubDate><guid>https://wlngo.github.io/archives/openresty/</guid><description>&lt;p>官方文档：http://openresty.org/cn/&lt;/p>
&lt;p>官方文档api：https://openresty-reference.readthedocs.io/en/latest/Directives/&lt;/p>
&lt;p>官方文档博客: &lt;a class="link" href="https://blog.openresty.com.cn/cn/" target="_blank" rel="noopener"
>https://blog.openresty.com.cn/cn/&lt;/a>&lt;/p></description></item><item><title>JFROG java 二进制包管理工具</title><link>https://wlngo.github.io/archives/jfrogjava-er-jin-zhi-bao-guan-li-gong-ju/</link><pubDate>Wed, 03 Aug 2022 10:29:54 +0000</pubDate><guid>https://wlngo.github.io/archives/jfrogjava-er-jin-zhi-bao-guan-li-gong-ju/</guid><description>&lt;h4 id="官方文档">官方文档
&lt;/h4>&lt;p>&lt;a class="link" href="https://www.jfrog.com/confluence/display/JFROG/Installing%20Artifactory" target="_blank" rel="noopener"
>https://www.jfrog.com/confluence/display/JFROG/Installing%20Artifactory&lt;/a>
安装&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">mkdir&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">jcr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">mkdir&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">oss&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">mkdir&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">oss&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cd&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">oss&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">touch&lt;/span> &lt;span class="o">./&lt;/span>&lt;span class="n">system&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">yaml&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">chown&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">R&lt;/span> &lt;span class="mi">1030&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">1030&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">oss&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">mkdir&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">jcr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cd&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">jcr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">touch&lt;/span> &lt;span class="o">./&lt;/span>&lt;span class="n">system&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">yaml&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">chown&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">R&lt;/span> &lt;span class="mi">1030&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">1030&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">jcr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">oss&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">oss&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">jfrog&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">8010&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">8081&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">8020&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">8082&lt;/span> &lt;span class="n">releases&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">docker&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">jfrog&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">jfrog&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">oss&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">7.49&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">jcr&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">JFROG_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">jcr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">jfrog&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">8030&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">8081&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">8040&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">8082&lt;/span> &lt;span class="n">releases&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">docker&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">jfrog&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">io&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">jfrog&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">artifactory&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">jcr&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">7.49&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>nginx 代理端口要保持一致
配置需要从管理页面下载&lt;/p>
&lt;h3 id="限制内存">限制内存
&lt;/h3>&lt;p>system.yaml&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">shared:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> extraJavaOpts: &amp;#34;-server -Xms512m -Xmx2g -Xss256k -XX:+UseG1GC&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>docker 安装 mongodb</title><link>https://wlngo.github.io/archives/docker-an-zhuang-mongodb/</link><pubDate>Mon, 01 Aug 2022 18:11:44 +0000</pubDate><guid>https://wlngo.github.io/archives/docker-an-zhuang-mongodb/</guid><description>&lt;h4 id="拉取镜像">拉取镜像
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker pull mongo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker pull mongo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="运行容器">运行容器
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> docker run --name some-mongo -d --net mongo -p 27017:27017 --restart=on-fa
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ilure:3 mongo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h6 id="可视化web">可视化web
&lt;/h6>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run -d --name mongo-express --net mongo -e ME_CONFIG_MONGODB_SERVER=some-mongo -p 8081:8081 --restart=always mongo-express
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>JDK 17 虚拟机参数</title><link>https://wlngo.github.io/archives/jdk17-xu-ni-ji-can-shu/</link><pubDate>Sun, 31 Jul 2022 11:52:27 +0000</pubDate><guid>https://wlngo.github.io/archives/jdk17-xu-ni-ji-can-shu/</guid><description>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">-Xshare:off --add-opens java.base/java.util=ALL-UNNAMED
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>docker 安装 gitlab</title><link>https://wlngo.github.io/archives/docker-an-zhuang-gitlab/</link><pubDate>Sat, 30 Jul 2022 11:23:46 +0000</pubDate><guid>https://wlngo.github.io/archives/docker-an-zhuang-gitlab/</guid><description>&lt;h4 id="官网文档">官网文档
&lt;/h4>&lt;p>&lt;a class="link" href="https://docs.gitlab.cn/jh/install/docker.html" target="_blank" rel="noopener"
>https://docs.gitlab.cn/jh/install/docker.html&lt;/a>&lt;/p>
&lt;p>命令(最新版本16.2.1)&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">sudo&lt;/span> &lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">detach&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">hostname&lt;/span> &lt;span class="n">www&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">wlngo&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">top&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">publish&lt;/span> &lt;span class="mi">8443&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">8443&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">publish&lt;/span> &lt;span class="mi">8480&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">80&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">publish&lt;/span> &lt;span class="mi">8422&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">22&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">publish&lt;/span> &lt;span class="mi">8450&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">8450&lt;/span>\
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">gitlab&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span> &lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">volume&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">GITLAB_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">gitlab&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">volume&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">GITLAB_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">logs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">gitlab&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">volume&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">GITLAB_HOME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">gitlab&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="n">shm&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">size&lt;/span> &lt;span class="mi">256&lt;/span>&lt;span class="n">m&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">gitlab&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">gitlab&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ee&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">17.0&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ee&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo docker exec -it gitlab grep &amp;#39;Password:&amp;#39; /etc/gitlab/initial_root_password
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="https://docs.gitlab.cn/omnibus/settings/smtp.html#qq-exmail" target="_blank" rel="noopener"
>https://docs.gitlab.cn/omnibus/settings/smtp.html#qq-exmail&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">#邮箱发件人名字
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gitlab_rails[&amp;#39;gitlab_email_display_name&amp;#39;] = &amp;#39;魏亮宁&amp;#39;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker exec -it gitlab /bin/bash
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gitlab-ctl reconfigure
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gitlab-rails console
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Notify.test_email(&amp;#39;2252603132@qq.com&amp;#39;,&amp;#39;test&amp;#39;,&amp;#39;test&amp;#39;).deliver_now
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>docker 安装jenkins</title><link>https://wlngo.github.io/archives/docker-an-zhuang-jenkins/</link><pubDate>Sat, 30 Jul 2022 11:14:50 +0000</pubDate><guid>https://wlngo.github.io/archives/docker-an-zhuang-jenkins/</guid><description>&lt;h4 id="下载镜像">下载镜像
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker pull jenkins/jenkins:lts-jdk11
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="运行镜像不必限制内存-">运行镜像(不必限制内存 )
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">jenkins&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">8050&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">8080&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">50000&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">50000&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">jenkins_home&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">jenkins_home&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">root&lt;/span>&lt;span class="o">/.&lt;/span>&lt;span class="n">m2&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">root&lt;/span>&lt;span class="o">/.&lt;/span>&lt;span class="n">m2&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">uroot&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">root&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tls&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">docker&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">root&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">tls&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">docker&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">e&lt;/span> &lt;span class="n">JAVA_OPTS&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;-Xmx4g -Xms4g&amp;#34;&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">weiliangning&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">work&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">18040&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">docker&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">jenkins&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">jenkins&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">lts&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">jdk17&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="默认安装">默认安装
&lt;/h4>&lt;h4 id="配置全局工具">配置全局工具
&lt;/h4>&lt;h6 id="jdk">jdk
&lt;/h6>&lt;h4 id="git">git
&lt;/h4>&lt;h6 id="maven">maven
&lt;/h6>&lt;h4 id="配置插件">配置插件
&lt;/h4>&lt;h6 id="github">github
&lt;/h6>&lt;h6 id="maven-1">maven
&lt;/h6>&lt;h6 id="ssh">ssh
&lt;/h6>&lt;h4 id="设置maven-阿里云代理配置">设置maven 阿里云代理配置
&lt;/h4>&lt;h4 id="默认路径在-账号jenkins默认进入容器账号--根路径下m2-隐藏文件">默认路径在 账号Jenkins（默认进入容器账号） ~ 根路径下.m2 隐藏文件
&lt;/h4>&lt;h4 id="设置github-服务器">设置github 服务器
&lt;/h4>&lt;h6 id="凭据获取">凭据获取
&lt;/h6>&lt;p>、&lt;/p>
&lt;h4 id="webhooks钩子函数">Webhooks钩子函数
&lt;/h4>&lt;h4 id="构建后执行脚本">构建后执行脚本
&lt;/h4></description></item><item><title>docker 安装Logstash:8.6.0</title><link>https://wlngo.github.io/archives/docker-an-zhuang-logstash833/</link><pubDate>Sat, 30 Jul 2022 11:05:13 +0000</pubDate><guid>https://wlngo.github.io/archives/docker-an-zhuang-logstash833/</guid><description>&lt;h4 id="拉去镜像">拉去镜像
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker pull logstash:8.6.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="运行logstash">运行logstash
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">docker&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">it&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="n">logstash&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">net&lt;/span> &lt;span class="n">elknetwork&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">5044&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">5044&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">9600&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">9600&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">always&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">javarun&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">javarun&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">elk&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">logstash&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">share&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">logstash&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">data&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">elk&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">logstash&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pipeline&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">share&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">logstash&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pipeline&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">opt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">elk&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">logstash&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">share&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">logstash&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">/&lt;/span> \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">logstash&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">8.6&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Halo 博客搭建和迁移</title><link>https://wlngo.github.io/archives/halo-bo-ke-da-jian-he-qian-yi/</link><pubDate>Sat, 30 Jul 2022 10:53:08 +0000</pubDate><guid>https://wlngo.github.io/archives/halo-bo-ke-da-jian-he-qian-yi/</guid><description>&lt;h2 id="halo-博客官网文档">Halo 博客官网文档
&lt;/h2>&lt;p>&lt;a class="link" href="https://docs.halo.run/" target="_blank" rel="noopener"
>https://docs.halo.run/&lt;/a>&lt;/p>
&lt;h1 id="docker-运行命令">docker 运行命令
&lt;/h1>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run -it -d --name halo -p 8090:8090 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v ~/.halo2:/root/.halo2 -e JVM_OPTS=&amp;#34;-Xmx1024m -Xms1024m&amp;#34; \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> registry.fit2cloud.com/halo/halo:2.20 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --spring.r2dbc.url=r2dbc:pool:mysql://192.168.123.124:3306/halo2 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --spring.r2dbc.username=root \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --spring.r2dbc.password=password \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --spring.sql.init.platform=mysql
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>npm 安装</title><link>https://wlngo.github.io/archives/npm-an-zhuang/</link><pubDate>Thu, 28 Jul 2022 23:15:53 +0000</pubDate><guid>https://wlngo.github.io/archives/npm-an-zhuang/</guid><description>&lt;p>&lt;a class="link" href="https://www.cnblogs.com/lgx5/p/10732016.html" target="_blank" rel="noopener"
>https://www.cnblogs.com/lgx5/p/10732016.html&lt;/a>&lt;/p></description></item><item><title>docker 安装 kibana:8.6.0</title><link>https://wlngo.github.io/archives/docker-an-zhuang-kibana832/</link><pubDate>Thu, 28 Jul 2022 20:19:12 +0000</pubDate><guid>https://wlngo.github.io/archives/docker-an-zhuang-kibana832/</guid><description>&lt;h4 id="下载镜像">下载镜像
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker pull kibana:8.6.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="创建docke网络">创建docke网络
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker network create elknetwork
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="运行镜像">运行镜像
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run -d --name kibana --restart=always -p 5601:5601 \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/elk/kibana/config/:/usr/share/kibana/config/ \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/elk/kibana/data/:/usr/share/kibana/data/ \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/elk/kibana/plugins/:/usr/share/kibana/plugins/ \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/elk/kibana/logs/:/usr/share/kibana/logs/ \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e TZ=Asia/Shanghai \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /etc/timezone:/etc/timezone:ro \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /etc/localtime:/etc/localtime:ro \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kibana:8.6.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="先使用默认的elasticsearch-https-的设置-不做修改-后面改为http-不然-kibana-无法启动">先使用默认的Elasticsearch https 的设置 不做修改 后面改为http 不然 kibana 无法启动
&lt;/h4>&lt;h4 id="进入elasticsearch-镜像生产token">进入elasticsearch 镜像生产token
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker exec -it elasticsearch /bin/bash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sh bin/elasticsearch-create-enrollment-token --scope kibana
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="kibana配置文件必须为默认的-才能设置物理机选择账号密码安装">kibana配置文件必须为默认的 才能设置(物理机选择账号密码安装)
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># Default Kibana configuration for docker target
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">server.host: &amp;#34;0.0.0.0&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">server.shutdownTimeout: &amp;#34;5s&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">elasticsearch.hosts: [ &amp;#34;http://elasticsearch:9200&amp;#34; ]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">monitoring.ui.container.elasticsearch.enabled: true
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="进入kibana-镜像获取验证码">进入kibana 镜像获取验证码
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker exec -it kibana /bin/bash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sh bin/kibana-verification-code
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="修改elasticsearch-密码">修改Elasticsearch 密码
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker exec -it elasticsearch /bin/bash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sh bin/elasticsearch-reset-password --username elastic -i
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="生成插件加密密钥并-添加到-kibanayml">生成插件加密密钥并 添加到 kibana.yml
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker exec -it kibana /bin/bash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> sh bin/kibana-encryption-keys generate
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="修改-kibana-为中文--和修改es地址否则导致重启后无法成功启动-修改为http协议">修改 kibana 为中文 和修改es地址（否则导致重启后无法成功启动 修改为http协议）
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker cp kibana:/usr/share/kibana/config/kibana.yml ~
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="修改ip为容器域名-修改为http协议">修改ip为容器域名 修改为http协议
&lt;/h5>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">#
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># ** THIS IS AN AUTO-GENERATED FILE **
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Default Kibana configuration for docker target
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#server.host: &amp;#34;0.0.0.0&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#server.shutdownTimeout: &amp;#34;5s&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#elasticsearch.hosts: [ &amp;#34;http://elasticsearch:9200&amp;#34; ]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#monitoring.ui.container.elasticsearch.enabled: true
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">### &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; BACKUP END: Kibana interactive setup (2022-07-30T02:22:45.284Z)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># This section was automatically generated during setup.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">server.host: 0.0.0.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">server.shutdownTimeout: 5s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">elasticsearch.hosts: [&amp;#39;http://elasticsearch:9200&amp;#39;]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">monitoring.ui.container.elasticsearch.enabled: true
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">elasticsearch.serviceAccountToken: AAEAAWVsYXN0aWMva2liYW5hL2Vucm9sbC1wcm9jZXNzLXRva2VuLTE2NTkxNDc3NjQ1NTc6NTdaNWtlOHJULXlSWkFfaVg2WWdSUQ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">elasticsearch.ssl.certificateAuthorities: [/usr/share/kibana/data/ca_1659147765281.crt]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">xpack.fleet.outputs: [{id: fleet-default-output, name: default, is_default: true, is_default_monitoring: true, type: elasticsearch, hosts: [&amp;#39;http://elasticsearch:9200&amp;#39;], ca_trusted_fingerprint: 9983b684a10b3cbc24e1c5816d911bdcdb323545fb36bb5fc3f685f3214efae9}]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#中文
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">i18n.locale: &amp;#34;zh-CN&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">xpack.encryptedSavedObjects.encryptionKey: b363ba8a4cba829a212a9b1202ea2bb7
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">xpack.reporting.encryptionKey: b98e56b7304314427f71ec57d1a9d53d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">xpack.security.encryptionKey: dc7505bc23e41561e586a025e4d83a45
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker cp kibana.yml kibana:/usr/share/kibana/config/kibana.yml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="修改elasticsearch-为http-协议">修改Elasticsearch 为http 协议
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker exec -it elasticsearch /bin/bash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker cp elasticsearch:/usr/share/elasticsearch/config/elasticsearch.yml ~
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cluster.name: &amp;#34;docker-cluster&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">network.host: 0.0.0.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#----------------------- BEGIN SECURITY AUTO CONFIGURATION -----------------------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># The following settings, TLS certificates, and keys have been automatically
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># generated to configure Elasticsearch security features on 30-07-2022 02:12:38
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># --------------------------------------------------------------------------------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Enable security features
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">xpack.security.enabled: true
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">xpack.security.enrollment.enabled: true
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Enable encryption for HTTP API client connections, such as Kibana, Logstash, and Agents
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">xpack.security.http.ssl:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> enabled: false
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> keystore.path: certs/http.p12
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Enable encryption and mutual authentication between cluster nodes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">xpack.security.transport.ssl:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> enabled: true
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> verification_mode: certificate
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> keystore.path: certs/transport.p12
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> truststore.path: certs/transport.p12
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#----------------------- END SECURITY AUTO CONFIGURATION -------------------------
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker cp elasticsearch.yml elasticsearch:/usr/share/elasticsearch/config/elasticsearch.yml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="重启容器">重启容器
&lt;/h4></description></item><item><title>docker 安装Elasticsearch:8.6.0</title><link>https://wlngo.github.io/archives/docker-an-zhuang-elasticsearch832/</link><pubDate>Thu, 28 Jul 2022 20:17:55 +0000</pubDate><guid>https://wlngo.github.io/archives/docker-an-zhuang-elasticsearch832/</guid><description>&lt;h4 id="下载镜像">下载镜像
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker pull elasticsearch:8.6.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="创建docke网络">创建docke网络
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker network create elknetwork
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="运行镜像">运行镜像
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker run -d --name elasticsearch --restart=always \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-p 9200:9200 -p 9300:9300 -e &amp;#34;discovery.type=single-node&amp;#34; \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-e TZ=Asia/Shanghai \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /etc/timezone:/etc/timezone:ro \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /etc/localtime:/etc/localtime:ro \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/elk/elasticsearch/config:/usr/share/elasticsearch/config \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/elk/elasticsearch/data:/usr/share/elasticsearch/data \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/elk/elasticsearch/plugins:/usr/share/elasticsearch/plugins \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-v /opt/elk/elasticsearch/logs:/usr/share/elasticsearch/logs \
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> elasticsearch:8.6.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>nexus3 批量导入npm包</title><link>https://wlngo.github.io/archives/nexus3-pi-liang-dao-ru-npm-bao/</link><pubDate>Thu, 14 Jul 2022 19:07:21 +0000</pubDate><guid>https://wlngo.github.io/archives/nexus3-pi-liang-dao-ru-npm-bao/</guid><description>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="nv">REPO_URL&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;http://10.33.6.49:8081/repository/yapi_npm/&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">USERNAME&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;admin&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">PASSWORD&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;admin123&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">MULU&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;/home/keyvalue/Documents/node_modules&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">HASFILE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;package.json&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> file in &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$MULU&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>/*&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -d &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$file&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># echo $file &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">#这里写上传代码 $file是目录名&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -f &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$file&lt;/span>&lt;span class="s2">/&lt;/span>&lt;span class="nv">$HASFILE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$file&lt;/span>&lt;span class="s2">/&lt;/span>&lt;span class="nv">$HASFILE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">cd&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$file&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> npm publish --registry &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$REPO_URL&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Docker hub 官网</title><link>https://wlngo.github.io/archives/dockerhub-guan-wang/</link><pubDate>Wed, 13 Jul 2022 20:45:11 +0000</pubDate><guid>https://wlngo.github.io/archives/dockerhub-guan-wang/</guid><description>&lt;p>&lt;a class="link" href="https://hub.docker.com/" target="_blank" rel="noopener"
>https://hub.docker.com/&lt;/a>&lt;/p></description></item><item><title>nexus3 批量导入jar包</title><link>https://wlngo.github.io/archives/nexus3-pi-liang-dao-ru-jar-bao/</link><pubDate>Wed, 13 Jul 2022 17:45:35 +0000</pubDate><guid>https://wlngo.github.io/archives/nexus3-pi-liang-dao-ru-jar-bao/</guid><description>&lt;p>设置nexus3 混合仓库&lt;/p>
&lt;p>允许重新部署和更新
批量导入shell脚本&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># copy and run this script to the root of the repository directory containing files&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># this script attempts to exclude uploading itself explicitly so the script name is important&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Get command line params&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span> &lt;span class="nb">getopts&lt;/span> &lt;span class="s2">&amp;#34;:r:u:p:&amp;#34;&lt;/span> opt&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="nv">$opt&lt;/span> in
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> r&lt;span class="o">)&lt;/span> &lt;span class="nv">REPO_URL&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$OPTARG&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> u&lt;span class="o">)&lt;/span> &lt;span class="nv">USERNAME&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$OPTARG&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> p&lt;span class="o">)&lt;/span> &lt;span class="nv">PASSWORD&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$OPTARG&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">esac&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">find . -type f -not -path &lt;span class="s1">&amp;#39;./mavenimport\.sh*&amp;#39;&lt;/span> -not -path &lt;span class="s1">&amp;#39;*/\.*&amp;#39;&lt;/span> -not -path &lt;span class="s1">&amp;#39;*/\^archetype\-catalog\.xml*&amp;#39;&lt;/span> -not -path &lt;span class="s1">&amp;#39;*/\^maven\-metadata\-local*\.xml&amp;#39;&lt;/span> -not -path &lt;span class="s1">&amp;#39;*/\^maven\-metadata\-deployment*\.xml&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> sed &lt;span class="s2">&amp;#34;s|^\./||&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> xargs -I &lt;span class="s1">&amp;#39;{}&amp;#39;&lt;/span> curl -u &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$USERNAME&lt;/span>&lt;span class="s2">:&lt;/span>&lt;span class="nv">$PASSWORD&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> -X PUT -v -T &lt;span class="o">{}&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="nv">REPO_URL&lt;/span>&lt;span class="si">}&lt;/span>/&lt;span class="o">{}&lt;/span> &lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>可以命名为mavenimport.sh&lt;/p>
&lt;p>使用方法
./mavenimport.sh -u 你的nexus3账号 -p 你的nexus3密码 -r 仓库地址&lt;/p></description></item><item><title>Java 操作word 和excel</title><link>https://wlngo.github.io/archives/java%E6%93%8D%E4%BD%9Cword%E5%92%8Cexcel/</link><pubDate>Mon, 11 Jul 2022 15:08:00 +0000</pubDate><guid>https://wlngo.github.io/archives/java%E6%93%8D%E4%BD%9Cword%E5%92%8Cexcel/</guid><description>&lt;p>#Apache POI&lt;/p>
&lt;h3 id="描述">描述：
&lt;/h3>&lt;p>强大操作word 和excel工具，支持各种复杂数据导出导出&lt;/p>
&lt;h3 id="jar-包关系结构">jar 包关系结构
&lt;/h3>&lt;h3 id="常用maven-依赖网址">常用maven 依赖网址
&lt;/h3>&lt;p>&lt;a class="link" href="https://mvnrepository.com/artifact/org.apache.poi/poi" target="_blank" rel="noopener"
>https://mvnrepository.com/artifact/org.apache.poi/poi&lt;/a>&lt;br>
（旧版本 word 和excel）
&lt;a class="link" href="https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml" target="_blank" rel="noopener"
>https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml&lt;/a>
（新版本 word 和excel）&lt;/p>
&lt;h1 id="easypoi">Easypoi
&lt;/h1>&lt;h3 id="描述-1">描述：
&lt;/h3>&lt;blockquote>
&lt;p>easypoi功能如同名字easy,主打的功能就是容易,让一个没见接触过poi的人员
就可以方便的写出Excel导出,Excel模板导出,Excel导入,Word模板导出,通过简单的注解和模板
语言(熟悉的表达式语法),完成以前复杂的写法&lt;/p>&lt;/blockquote>
&lt;h3 id="maven-依赖网址">maven 依赖网址
&lt;/h3>&lt;p>官网
&lt;a class="link" href="http://doc.wupaas.com/docs/easypoi/easypoi-1c0u4mo8p4ro8" target="_blank" rel="noopener"
>http://doc.wupaas.com/docs/easypoi/easypoi-1c0u4mo8p4ro8&lt;/a>&lt;/p>
&lt;p>官方文档
&lt;a class="link" href="http://easypoi.mydoc.io/#text_217736" target="_blank" rel="noopener"
>http://easypoi.mydoc.io/#text_217736&lt;/a>&lt;/p>
&lt;p>maven 依赖网址（spring boot）
&lt;a class="link" href="https://mvnrepository.com/artifact/cn.afterturn/easypoi-spring-boot-starter" target="_blank" rel="noopener"
>https://mvnrepository.com/artifact/cn.afterturn/easypoi-spring-boot-starter&lt;/a>&lt;/p>
&lt;h1 id="easyexcel">EasyExcel
&lt;/h1>&lt;h3 id="描述-2">描述：
&lt;/h3>&lt;blockquote>
&lt;p>JAVA解析Excel工具EasyExcel ali系开源产品&lt;/p>&lt;/blockquote>
&lt;p>官网文档
&lt;a class="link" href="https://easyexcel.opensource.alibaba.com/" target="_blank" rel="noopener"
>https://easyexcel.opensource.alibaba.com/&lt;/a>&lt;/p>
&lt;p>maven 依赖网址（spring boot）
&lt;a class="link" href="https://mvnrepository.com/artifact/com.alibaba/easyexcel" target="_blank" rel="noopener"
>https://mvnrepository.com/artifact/com.alibaba/easyexcel&lt;/a>&lt;/p></description></item><item><title>Docker 安装git 私服 gitblit</title><link>https://wlngo.github.io/archives/docker%E5%AE%89%E8%A3%85gitblit/</link><pubDate>Sat, 09 Jul 2022 22:12:22 +0000</pubDate><guid>https://wlngo.github.io/archives/docker%E5%AE%89%E8%A3%85gitblit/</guid><description>&lt;h1 id="安装命令">安装命令
&lt;/h1>&lt;p>拉取镜像&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker pull jacekkow/gitblit
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>启动镜像&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo docker run -d --name gitblit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -v /opt/gitblit-data:/opt/gitblit-data
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -p 8443:8443 -p 8080:8080 -p 9418:9418 -p 29418:29418
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --restart=always jacekkow/gitblit
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>归档</title><link>https://wlngo.github.io/archives/</link><pubDate>Sun, 06 Mar 2022 00:00:00 +0000</pubDate><guid>https://wlngo.github.io/archives/</guid><description/></item><item><title>链接</title><link>https://wlngo.github.io/%E9%93%BE%E6%8E%A5/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://wlngo.github.io/%E9%93%BE%E6%8E%A5/</guid><description>&lt;p>To use this feature, add &lt;code>links&lt;/code> section to frontmatter.&lt;/p>
&lt;p>This page&amp;rsquo;s frontmatter:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">links&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">GitHub&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">GitHub is the world&amp;#39;s largest software development platform.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">website&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://github.com&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TypeScript&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TypeScript is a typed superset of JavaScript that compiles to plain JavaScript.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">website&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://www.typescriptlang.org&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ts-logo-128.jpg&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>image&lt;/code> field accepts both local and external images.&lt;/p></description></item><item><title>搜索</title><link>https://wlngo.github.io/search/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://wlngo.github.io/search/</guid><description/></item></channel></rss>