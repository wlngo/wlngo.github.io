[{"content":"ç§æœ‰å†…ç½‘Oss Alist qb ","date":"2025-03-11T00:00:00Z","permalink":"https://wlngo.github.io/p/%E5%AF%BC%E8%88%AA/","title":"å¯¼èˆª"},{"content":"â˜• code-serverå®‰è£… è¯¦ç»†æ–‡æ¡£è§ï¼šhttps://coder.com/docs/code-server/install#fedora-centos-rhel-suse\nå­åŸŸåé…ç½® æ–‡æ¡£è§ï¼šhttps://coder.com/docs/code-server/guide#using-a-subdomain\nsystemd æœåŠ¡é…ç½®ç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 [Unit] Description=code-server After=network.target [Service] Type=exec ExecStart=/usr/bin/code-server --proxy-domain api.wlngo.top Restart=always User=%i [Install] WantedBy=default.target ä½¿ç”¨ acme.sh ç”³è¯· SSL è¯ä¹¦ï¼ˆDNS éªŒè¯ - è…¾è®¯äº‘ DNSï¼‰ ç”³è¯·è¯ä¹¦ ä½¿ç”¨ dns_dp æ’ä»¶ï¼ˆè…¾è®¯äº‘ DNSï¼‰é€šè¿‡ DNS éªŒè¯ç”³è¯· wlngo.top åŠå…¶é€šé…ç¬¦è¯ä¹¦ï¼š\n1 2 3 4 export DP_Id=\u0026#34;ä½ çš„è…¾è®¯äº‘ SecretId\u0026#34; export DP_Key=\u0026#34;ä½ çš„è…¾è®¯äº‘ SecretKey\u0026#34; ./acme.sh --issue -d wlngo.top -d \u0026#39;*.wlngo.top\u0026#39; -d \u0026#39;*api.wlngo.top\u0026#39; --dns dns_dp è‡ªåŠ¨ç»­æœŸä»»åŠ¡ 1 ./acme.sh --install-cert -d wlngo.top --key-file /etc/nginx/ssl/wlngo.top.key --fullchain-file /etc/nginx/ssl/wlngo.top.fullchain.pem --reloadcmd \u0026#34;systemctl reload nginx\u0026#34; Nginx é…ç½®ç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 server { listen 80; # æ’é™¤ 80 å’Œ 443 ç«¯å£ï¼ˆé€šè¿‡æ­£åˆ™ï¼‰ server_name ~^(?!(80|443))(?\u0026lt;port\u0026gt;\\d+)\\.api\\.wlngo\\.top$; return 301 https://$host$request_uri; } server { listen 443 ssl; server_name ~^(?!(80|443))(?\u0026lt;port\u0026gt;\\d+)\\.api\\.wlngo\\.top$; ssl_certificate /etc/nginx/ssl/wlngo.top.fullchain.pem; ssl_certificate_key /etc/nginx/ssl/wlngo.top.key; location / { proxy_pass http://127.0.0.1:$port; proxy_set_header Host $host; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection upgrade; } } ","date":"2025-06-26T00:00:00Z","permalink":"https://wlngo.github.io/archives/code-server/","title":"code-serverå®‰è£…"},{"content":"â˜• Java ä½¿ç”¨ FFmpeg å®æˆ˜æ‰‹å†Œ å¦‚æœä½ å·²ç»å®‰è£…äº† FFmpegï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ Java çš„ ProcessBuilder æˆ– Runtime.exec() æ¥æ‰§è¡Œ FFmpeg å‘½ä»¤ï¼Œå®ç°éŸ³è§†é¢‘çš„è½¬æ¢ã€æˆªå›¾ã€å‹ç¼©ã€å½•åˆ¶ç­‰åŠŸèƒ½ï¼Œæ— éœ€å¼•å…¥ä»»ä½•ç¬¬ä¸‰æ–¹ä¾èµ–ã€‚\nâœ… å‰ææ¡ä»¶ ç³»ç»Ÿä¸­å·²å®‰è£… FFmpeg å¹¶é…ç½®åœ¨ç¯å¢ƒå˜é‡ä¸­ï¼ˆffmpeg å¯åœ¨ç»ˆç«¯æ‰§è¡Œï¼‰ Java ç‰ˆæœ¬ 8+ ğŸµ 1. Java è°ƒç”¨ FFmpeg è½¬æ¢éŸ³é¢‘æ ¼å¼ï¼ˆå¦‚ pcm 24000 â†’ pcm 16000ï¼‰ ProcessBuilder builder = new ProcessBuilder( \u0026quot;ffmpeg\u0026quot;, \u0026quot;-loglevel\u0026quot;, \u0026quot;error\u0026quot;, // å®‰é™è¾“å‡º \u0026quot;-f\u0026quot;, \u0026quot;f32le\u0026quot;, \u0026quot;-ar\u0026quot;, \u0026quot;24000\u0026quot;, \u0026quot;-ac\u0026quot;, \u0026quot;1\u0026quot;, \u0026quot;-i\u0026quot;, \u0026quot;pipe:0\u0026quot;, // ä» stdin è¯»å…¥ \u0026quot;-f\u0026quot;, \u0026quot;s16le\u0026quot;, \u0026quot;-ar\u0026quot;, \u0026quot;16000\u0026quot;, \u0026quot;-ac\u0026quot;, \u0026quot;1\u0026quot;, \u0026quot;pipe:1\u0026quot; // è¾“å‡ºåˆ° stdout ); Process process = builder.start(); // å†™å…¥åŸå§‹ PCM f32le æ•°æ® try (OutputStream stdin = process.getOutputStream()) { stdin.write(bytes); stdin.flush(); } // è¯»å–è¾“å‡ºçš„ PCM s16le æ•°æ® ByteArrayOutputStream outputBuffer = new ByteArrayOutputStream(); try (InputStream stdout = process.getInputStream()) { byte[] buffer = new byte[4096]; int len; while ((len = stdout.read(buffer)) != -1) { outputBuffer.write(buffer, 0, len); } } // ç­‰å¾… FFmpeg æ‰§è¡Œå®Œæˆ int exitCode = process.waitFor(); if (exitCode != 0) { throw new RuntimeException(\u0026quot;FFmpeg process exited with code \u0026quot; + exitCode); } ğŸ“¦ å¸¸ç”¨ FFmpeg å‚æ•°é€ŸæŸ¥ å‚æ•° å«ä¹‰ -i input è¾“å…¥æ–‡ä»¶ -f fmt æŒ‡å®šæ ¼å¼ï¼ˆå¦‚ f32le, s16le, mp4 ç­‰ï¼‰ -ar rate éŸ³é¢‘é‡‡æ ·ç‡ -ac channels å£°é“æ•°ï¼ˆ1 = mono, 2 = stereoï¼‰ -b:a éŸ³é¢‘æ¯”ç‰¹ç‡ï¼ˆå¦‚ 128kï¼‰ -vf è§†é¢‘æ»¤é•œï¼Œå¦‚ fps=1 æˆªå›¾ -t seconds é™åˆ¶å½•åˆ¶/è¾“å‡ºæ—¶é•¿ pipe:0 / pipe:1 è¯»å– stdin / å†™å…¥ stdout ğŸ§ª å»ºè®®å·¥å…·ä¸è°ƒè¯•æ–¹å¼ ffmpeg -h æŸ¥çœ‹å¸®åŠ© ä½¿ç”¨ builder.redirectErrorStream(true) åˆå¹¶é”™è¯¯è¾“å‡ºä¾¿äºè°ƒè¯• åœ¨æœ¬åœ°å‘½ä»¤è¡Œå…ˆè¯•é€š FFmpeg å‘½ä»¤ï¼Œå†ç”¨ Java è°ƒç”¨ ğŸ“˜ ç»“è¯­ Java é€šè¿‡ ProcessBuilder è°ƒç”¨ FFmpeg æä¾›äº†è½»é‡ã€çµæ´»çš„éŸ³è§†é¢‘å¤„ç†æ–¹æ¡ˆã€‚é€‚ç”¨äºéŸ³é¢‘æ ¼å¼è½¬æ¢ã€å®æ—¶æ¨æµã€å¸§æˆªå–ã€å½•å±ç­‰å¤šç§åœºæ™¯ï¼Œæ— éœ€å¼•å…¥å¤æ‚ä¾èµ–ã€‚å¦‚æœéœ€è¦æ›´å¤æ‚çš„æµå¼å¤„ç†ï¼Œå¯è¿›ä¸€æ­¥ä½¿ç”¨ JavaCV æˆ– FFmpeg CLI å°è£…åº“ã€‚\nğŸ¬ ç¬¬äºŒç« ï¼šä½¿ç”¨ JavaCV æ“ä½œ FFmpegï¼ˆé€‚åˆå¤æ‚éŸ³è§†é¢‘ä»»åŠ¡ ffmpeg è½¬éŸ³é¢‘æœ‰æ‚éŸ³åŸå› æœªçŸ¥ ç›®å‰è¿ç”¨æœ€å¤šçš„æ˜¯è§†é¢‘è½¬ç ï¼‰ JavaCV æ˜¯å¯¹ FFmpegã€OpenCV ç­‰åŸç”Ÿåº“çš„ Java å°è£…ï¼Œé€‚åˆè¿›è¡Œå¤æ‚çš„è§†é¢‘å¸§å¤„ç†ã€å®æ—¶éŸ³é¢‘æµå¤„ç†ç­‰ä»»åŠ¡ã€‚\nğŸ§° æ·»åŠ ä¾èµ–ï¼ˆMavenï¼‰ 1 2 3 4 5 \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.bytedeco\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;javacv-platform\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.5.10\u0026lt;/version\u0026gt; \u0026lt;!-- å¯æ›¿æ¢ä¸ºæœ€æ–°ç‰ˆæœ¬ --\u0026gt; \u0026lt;/dependency\u0026gt; ğŸ§ ç¤ºä¾‹ï¼šå°† PCM éŸ³é¢‘æµè½¬ä¸º MP3 æ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 import org.bytedeco.javacv.*; import org.bytedeco.ffmpeg.global.avcodec; public class PcmToMp3 { public static void main(String[] args) throws Exception { try (FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(\u0026#34;input.pcm\u0026#34;); FFmpegFrameRecorder recorder = new FFmpegFrameRecorder(\u0026#34;output.mp3\u0026#34;, 1)) { grabber.setFormat(\u0026#34;f32le\u0026#34;); // åŸå§‹ PCM æ ¼å¼ grabber.setSampleRate(24000); grabber.setAudioChannels(1); grabber.setAudioBitrate(128000); grabber.start(); recorder.setFormat(\u0026#34;mp3\u0026#34;); recorder.setAudioCodec(avcodec.AV_CODEC_ID_MP3); recorder.setSampleRate(24000); recorder.setAudioChannels(1); recorder.start(); Frame frame; while ((frame = grabber.grabFrame()) != null) { recorder.record(frame); } recorder.stop(); grabber.stop(); } } } ğŸ“Œ ä½¿ç”¨å»ºè®® JavaCV éå¸¸é€‚åˆéœ€è¦å¯¹å¸§è¿›è¡Œé€å¸§å¤„ç†çš„åœºæ™¯ ä¸é€‚ç”¨äºç®€å•çš„éŸ³é¢‘æ ¼å¼è½¬æ¢ï¼ˆç”¨å‘½ä»¤è¡Œæ›´è½»é‡ï¼‰ å¯é…åˆ Java NIO ç®¡é“ã€Netty å®ç°éŸ³è§†é¢‘å®æ—¶å¤„ç† ğŸ“š æ›´å¤šèµ„æº JavaCV æ–‡æ¡£ï¼šhttps://bytedeco.org/javacv/ ç¤ºä¾‹é¡¹ç›®ï¼šhttps://github.com/bytedeco/javacv-examples JavaCV æ”¯æŒçš„ FFmpeg API å°è£…å‚è€ƒï¼šorg.bytedeco.ffmpeg.* ","date":"2025-06-18T00:00:00Z","permalink":"https://wlngo.github.io/archives/java-ffmpeg/","title":"Javaä½¿ç”¨ffmpeg"},{"content":"ğŸ“¡ SockJS ä½¿ç”¨æ‰‹å†Œ SockJS æ˜¯ä¸€ä¸ªæµè§ˆå™¨å’ŒæœåŠ¡å™¨éƒ½æ”¯æŒçš„ JavaScript åº“ï¼Œç”¨äºåœ¨ WebSocket ä¸å¯ç”¨æ—¶æä¾›ç±»ä¼¼ WebSocket çš„åŒå‘é€šä¿¡èƒ½åŠ›ã€‚å®ƒè‡ªåŠ¨å›é€€åˆ°å…¼å®¹ä¼ è¾“æ–¹å¼ï¼ˆå¦‚ AJAX é•¿è½®è¯¢ã€iframe ç­‰ï¼‰ï¼Œé€‚ç”¨äºæ„å»ºå…¼å®¹æ€§å¼ºçš„å®æ—¶åº”ç”¨ç³»ç»Ÿã€‚\nğŸ§© æ ¸å¿ƒç‰¹ç‚¹ è‡ªåŠ¨å›é€€ï¼šåœ¨æµè§ˆå™¨æˆ–ç½‘ç»œä¸æ”¯æŒ WebSocket æ—¶è‡ªåŠ¨é€€å›å…¶ä»–é€šä¿¡æ–¹å¼ æµè§ˆå™¨å…¼å®¹æ€§å¼ºï¼šæ”¯æŒ IE 8 åŠä»¥ä¸Šæµè§ˆå™¨ æ ‡å‡†åŒ–æ¥å£ï¼šä¸åŸç”Ÿ WebSocket ç±»ä¼¼çš„ APIï¼Œå¦‚ onopenã€onmessageã€onclose æœåŠ¡å™¨æ¡†æ¶é›†æˆè‰¯å¥½ï¼šä¸ Spring Boot ç­‰ç°ä»£åç«¯æ¡†æ¶è‰¯å¥½é›†æˆ è·¨åŸŸæ”¯æŒå‹å¥½ï¼šå¯é…ç½® CORSï¼Œæ”¯æŒè·¨æºé€šä¿¡ ğŸ§ª ä½¿ç”¨ç¤ºä¾‹ å®¢æˆ·ç«¯ï¼ˆJavaScriptï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; const sock = new SockJS(\u0026#39;http://localhost:8080/ws\u0026#39;); sock.onopen = function () { console.log(\u0026#39;è¿æ¥å·²æ‰“å¼€\u0026#39;); sock.send(\u0026#39;Hello Server\u0026#39;); }; sock.onmessage = function (e) { console.log(\u0026#39;æ”¶åˆ°æ¶ˆæ¯:\u0026#39;, e.data); }; sock.onclose = function () { console.log(\u0026#39;è¿æ¥å·²å…³é—­\u0026#39;); }; \u0026lt;/script\u0026gt; æœåŠ¡ç«¯ï¼ˆSpring Boot ç¤ºä¾‹ï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 @Configuration @EnableWebSocket @RequiredArgsConstructor public class WebSocketConfig implements WebSocketConfigurer { private final HttpAuthHandler httpAuthHandler; private final WsJwtInterceptor wsJwt; @Override public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) { registry .addHandler(httpAuthHandler, \u0026#34;/ws\u0026#34;) .addInterceptors(wsJwt) .setAllowedOrigins(\u0026#34;*\u0026#34;).withSockJS(); } } ğŸšš SockJS æ”¯æŒçš„å¤šç§ä¼ è¾“æ–¹å¼ SockJS ä¼šåœ¨ä»¥ä¸‹ä¼ è¾“æ–¹å¼ä¸­è‡ªåŠ¨é€‰æ‹©ä¸€ç§æœ€é€‚åˆçš„æ–¹å¼ï¼š\né¡ºåº ä¼ è¾“æ–¹å¼ æè¿° æ˜¯å¦æ”¯æŒåŒå‘ 1 WebSocket é¦–é€‰æ–¹å¼ï¼ŒåŸºäº TCP çš„çœŸæ­£å…¨åŒå·¥é€šä¿¡ âœ… 2 XHR Streaming é•¿è¿æ¥æŒç»­æ¨é€æ•°æ® âœ… 3 XHR Polling çŸ­è½®è¯¢æ¨¡æ‹Ÿå®æ—¶é€šä¿¡ âœ… 4 EventSource HTML5 å•å‘æ¨é€ï¼Œå…¼å®¹æ€§å·® âŒ 5 iframe Streaming åˆ©ç”¨éšè— iframe æ¨é€ script å†…å®¹ âœ… 6 iframe Polling æœ€ä½æ•ˆçš„å›é€€æ–¹å¼ âœ… é€‰æ‹©ä¼˜å…ˆçº§é¡ºåºï¼š WebSocket \u0026gt; XHR-streaming \u0026gt; XHR-polling \u0026gt; EventSource \u0026gt; iframe-streaming \u0026gt; iframe-polling\nğŸ§  SockJS vs åŸç”Ÿ WebSocket ç‰¹æ€§ SockJS WebSocket åŸç”Ÿ æ”¯æŒæ—§æµè§ˆå™¨ âœ… æ˜¯ âŒ å¦ è‡ªåŠ¨å›é€€æœºåˆ¶ âœ… æ”¯æŒ âŒ æ—  ä¸ STOMP åè®®é›†æˆ âœ… è‰¯å¥½ âŒ æ‰‹åŠ¨å®ç° æ€§èƒ½ï¼ˆæ”¯æŒ WS æ—¶ï¼‰ ğŸš€ å¿«ï¼ˆå‡ ä¹ç­‰åŒåŸç”Ÿï¼‰ ğŸš€ éå¸¸å¿« è·¨åŸŸä¸ HTTP åè°ƒ âœ… æ›´æ˜“ç®¡ç† âœ… æ”¯æŒ âœ… ä½¿ç”¨åœºæ™¯ ç§»åŠ¨è®¾å¤‡æˆ–æ—§æµè§ˆå™¨ç¯å¢ƒ ä¼ä¸šå†…ç½‘ä¸­ä½¿ç”¨ WebSocket è¢«å±è”½ æ„å»ºå¦‚èŠå¤©å®¤ã€å®æ—¶é€šçŸ¥ã€åœ¨çº¿ç›‘æ§ç­‰ç³»ç»Ÿ ä¸ Spring Boot + STOMP æ„å»ºæ¨é€ç³»ç»Ÿ ğŸ” Curl è¯·æ±‚ SockJS è™½ç„¶ SockJS æ˜¯ä¸ºæµè§ˆå™¨è®¾è®¡çš„ï¼Œä½†ä½ å¯ä»¥ç”¨ curl æ¨¡æ‹Ÿéƒ¨åˆ†é€šä¿¡æ­¥éª¤ï¼ˆå¦‚ xhr_sendã€xhr æ¥æ”¶ç­‰ï¼‰\nè·å–æœåŠ¡ä¿¡æ¯ 1 curl http://localhost:8080/ws/info å‘é€æ¶ˆæ¯ï¼ˆPOSTï¼‰ 1 curl -X POST -H \u0026#34;Content-Type: text/plain\u0026#34; --data \u0026#39;\u0026#34;Hello from curl!\u0026#34;\u0026#39; http://localhost:8080/ws/123/abc123/xhr_send æ‹‰å–æ¶ˆæ¯ï¼ˆGETï¼‰ 1 curl http://localhost:8080/ws/123/abc123/xhr âš  æ³¨æ„ï¼šSockJS çš„è¿æ¥ ID å’Œ session æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œä½¿ç”¨ curl å®Œæ•´æ¨¡æ‹Ÿéœ€è¦æå‰æŠ“åŒ…æˆ–å®ç° session ç®¡ç†ã€‚å»ºè®®ä½¿ç”¨ websocat å·¥å…·æˆ–æµè§ˆå™¨è°ƒè¯•ã€‚\nğŸ”§ æ¨èå·¥å…· sockjs-client (GitHub) websocatï¼šå‘½ä»¤è¡Œ WebSocket å·¥å…· Fiddler / Wiresharkï¼šæŠ“åŒ…å·¥å…· Postman æ’ä»¶ï¼šæµ‹è¯• WebSocket API ğŸ“˜ ç»“è¯­ SockJS æä¾›äº†è‰¯å¥½çš„å…¼å®¹æ€§ã€å®¹é”™èƒ½åŠ›å’Œæµè§ˆå™¨æ”¯æŒï¼Œæ˜¯æ„å»ºç”Ÿäº§çº§å®æ—¶é€šä¿¡ç³»ç»Ÿæ—¶å€¼å¾—è€ƒè™‘çš„è§£å†³æ–¹æ¡ˆï¼Œç‰¹åˆ«é€‚ç”¨äºéœ€è¦å…¼å®¹æ—§ç¯å¢ƒæˆ–å¤æ‚ç½‘ç»œé™åˆ¶çš„åœºæ™¯ã€‚ é™çº§åä¸æ”¯æŒ äºŒè¿›åˆ¶æ¶ˆæ¯ä»…æ”¯æŒæ–‡æœ¬æ¶ˆæ¯ã€‚\n","date":"2025-06-18T00:00:00Z","permalink":"https://wlngo.github.io/archives/websocket-SockJs/","title":"websocketä¹‹SockJS"},{"content":"å½“ç„¶å¯ä»¥ï¼ä»¥ä¸‹æ˜¯æ•´ç†æˆMarkdownæ ¼å¼çš„æ€»ç»“æ–‡æ¡£ï¼Œè¯¦ç»†è¯´æ˜å¦‚ä½•å¤„ç†ISO 15 WSSæ–­å¼€é—®é¢˜ï¼Œå¹¶å…³é—­permessage-deflateæ‰©å±•ã€‚\nå¤„ç†IOS WSSæ–­å¼€é—®é¢˜å¹¶å…³é—­ permessage-deflate èƒŒæ™¯ åœ¨IOSä½¿ç”¨WebSocketï¼ˆWSSï¼‰è¿›è¡Œé€šä¿¡æ—¶ï¼Œæœ‰æ—¶ä¼šå‡ºç°è¿æ¥æ–­å¼€çš„é—®é¢˜ã€‚å¯èƒ½éœ€è¦å…³é—­permessage-deflateæ‰©å±•ä»¥é¿å…å…¼å®¹æ€§é—®é¢˜ã€‚æœ¬æ–‡æ¡£å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨Nginxå’ŒSpring Bootåº”ç”¨ä¸­å…³é—­permessage-deflateæ‰©å±•ï¼Œä»¥è§£å†³WSSæ–­å¼€é—®é¢˜ã€‚\nè§£å†³æ–¹æ¡ˆ 1. å…³é—­ permessage-deflate æ‰©å±• permessage-deflate æ˜¯ä¸€ç§WebSocketå‹ç¼©æ‰©å±•ï¼Œç”¨äºå‡å°‘ä¼ è¾“çš„æ•°æ®é‡ã€‚ä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå®ƒå¯èƒ½å¯¼è‡´å…¼å®¹æ€§é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯åœ¨ç‰¹å®šçš„æ ‡å‡†ï¼ˆå¦‚ISO 15ï¼‰ä¸­ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å…³é—­æ­¤æ‰©å±•ã€‚\n1.1 åœ¨ Nginx ä¸­å…³é—­ permessage-deflate åœ¨Nginxé…ç½®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®proxy_set_headeræ¥æ§åˆ¶WebSocketæ‰©å±•ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š\nç¼–è¾‘Nginxé…ç½®æ–‡ä»¶ï¼š é€šå¸¸ä½äº /etc/nginx/nginx.conf æˆ– /etc/nginx/conf.d/default.confã€‚\næ·»åŠ æˆ–ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š åœ¨ location å—ä¸­æ·»åŠ æˆ–ä¿®æ”¹ proxy_set_header æŒ‡ä»¤ï¼Œä»¥ç¦ç”¨ permessage-deflateã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 server { listen 443 ssl; server_name example.com; ssl_certificate /path/to/certificate.pem; ssl_certificate_key /path/to/privatekey.pem; location /ws { proxy_pass http://backend_server; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;upgrade\u0026#34;; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; #é‡ç‚¹ proxy_set_header Sec-WebSocket-Extensions \u0026#39;client_max_window_bits=0\u0026#39;; } } æ³¨æ„ï¼š\nSec-WebSocket-Extensions 'client_max_window_bits=0' è¡¨ç¤ºç¦ç”¨ permessage-deflateã€‚ å¦‚æœéœ€è¦å®Œå…¨ç¦ç”¨æ‰€æœ‰æ‰©å±•ï¼Œå¯ä»¥è®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸²ï¼šSec-WebSocket-Extensions ''ã€‚ é‡æ–°åŠ è½½Nginxé…ç½®ï¼š\n1 sudo nginx -s reload 1.2 åœ¨ Spring Boot ä¸­å…³é—­ permessage-deflate åœ¨Spring Bootåº”ç”¨ä¸­ï¼Œå¯ä»¥é€šè¿‡tomcatç³»ç»Ÿå±æ€§æ¥ç¦ç”¨å†…ç½®çš„WebSocketæ‰©å±•ã€‚\nä»¤è¡Œå‚æ•°è®¾ç½®ï¼Œå¯ä»¥åœ¨å¯åŠ¨Spring Bootåº”ç”¨æ—¶æ·»åŠ ä»¥ä¸‹å‚æ•°ï¼š\n1 java -Dorg.apache.tomcat.websocket.DISABLE_BUILTIN_EXTENSIONS=true -jar your-application.jar ","date":"2025-02-26T10:46:28.54Z","permalink":"https://wlngo.github.io/archives/ios-wss-question/","title":"ios wss æ–­å¼€é—®é¢˜"},{"content":" å–æ¶ˆipv6 æ”¹ä¸ºç¦ç”¨ æ”¹ipv6è§†é¢‘ ","date":"2024-06-05T10:06:14.23Z","permalink":"https://wlngo.github.io/archives/openwrtipv6/","title":"openwrt  ipv6"},{"content":"githuåœ°å€\n1 2 3 4 5 docker run -d --name chatgpt-next-web -p 3000:3000 --restart=always \\ -e OPENAI_API_KEY=\u0026#34;sk-\u0026#34; \\ -e BASE_URL=\u0026#34;https://openkey.cloud\u0026#34; \\ -e CODE=2411228533 \\ yidadaa/chatgpt-next-web ","date":"2024-05-17T17:53:15.869Z","permalink":"https://wlngo.github.io/archives/chatgpt-next-web%E5%AE%89%E8%A3%85/","title":"chatgpt-next-web å®‰è£…"},{"content":"mybatis-plus v3.4.0 fix: @TableName.autoResultMap=true æƒ…å†µä¸‹, å†…ç½®çš„ selectBody å°†ä¸ä¼šè¿›è¡Œ as ,ä½¿ç”¨äº†çš„éœ€è¦æ³¨æ„!!! feat: æ–°å¢ mybatis-plus-boot-starter-test æ¨¡å— fix: MetaObjectHandler é‡è½½é”™è¯¯(è§£å†³åŠæ³•æ˜¯å‚æ•°ä½ç½®å¯¹è°ƒ),å¡«å……å€¼åœ¨æ³›å‹ä¸Šæ”¯æŒå­—æ®µç±»å‹çš„å­ç±» feat: mybatis up to 3.5.5, mybatis-spring up to 2.0.5 feat: jsqlparser up to 3.2 feat: æ–°å¢ MybatisParameterHandler, åºŸå¼ƒ MybatisDefaultParameterHandler feat: åˆ†é¡µæ’ä»¶åŠ å…¥ GBase,ClickHouse,oscar,OceanBase æ•°æ®åº“è¿æ¥è‡ªåŠ¨è¯†åˆ«çš„æ”¯æŒ feat: Wrapper æ–°å¢api not(boolean condition, Consumer consumer) feat: æ–°å¢ MybatisPlusInterceptor è§£å†³ å¤šç§Ÿæˆ·å’Œåˆ†é¡µ æ’ä»¶ä¸€çº§å’ŒäºŒçº§ç¼“å­˜ä¸æ­£ç¡®é—®é¢˜ feat: æ–°åˆ†é¡µæ’ä»¶ä¼˜åŒ– size\u0026lt;0 æ—¶ç»§ç»­æ‹¼æ¥ orderBy feat: æ–°å¢ IdentifierGenerator ä¸€ä¸ªå®ç°ç±» ImadcnIdentifierGenerator fix: chainWrapper#func å¼ºè½¬å¼‚å¸¸ fix(mybatis-plus-generator.main): é‡æ„ç”Ÿæˆå™¨æ•°æ®åº“ç±»å‹è½¬æ¢å™¨ï¼Œä¿®å¤éƒ¨åˆ†æ”¯æ¡ï¼Œæäº¤é€‰æ‹©å™¨æµ‹è¯• fix: ä¿®å¤å¤æ‚æƒ…å†µä¸­åŠ¨æ€è¡¨åæ›¿æ¢äº§ç”Ÿçš„é—®é¢˜ï¼šæ­£åˆ™ç”±ç©ºç™½æ£€æµ‹è½¬ä¸ºå•è¯è¾¹ç•Œæ£€æµ‹ refactor: é‡æ„åŠ¨æ€è¡¨åè§£æå™¨ï¼Œå»é™¤æ­£åˆ™æ›¿æ¢ç¨‹åºï¼Œæ”¹ä¸ºæŒ‰è¡¨åä½ç½®è¿›è¡Œæ›¿æ¢ refactor: å°†è¡¨åè§£æé‡æ„ä¸ºè®¿é—®è€…æ¨¡å¼ï¼Œç°åœ¨ä¸ä¼šå¯¹åŸæœ‰ SQL åšæ”¹åŠ¨\nImadcnIdentifierGenerator ç”¨äºidç”Ÿæˆ\nåœ°å€ idwork mybatis-plus\n1.å¼•å…¥mavenä¾èµ– 1 2 3 4 5 6 7 8 9 10 \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.baomidou\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis-plus-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.5.2\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.imadcn.framework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;idworker\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.5.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; 2.æ·»åŠ zookeeperé…ç½® 1 mybatis-plus.zookeeper.serverLists=127.0.0.1:2181 3.æŒ‡å®šmybatis-plusçš„idç”Ÿæˆå™¨ @Configuration public class IdAutoConfig { @Value(\u0026quot;${mybatis-plus.zookeeper.serverLists}\u0026quot;) private String zkServerLists; @Bean public IdentifierGenerator idGenerator() { return new ImadcnIdentifierGenerator(zkServerLists); } }\n","date":"2024-03-14T18:05:22.447Z","permalink":"https://wlngo.github.io/archives/mybatis-plus-ji-cheng-idworker/","title":"mybatis-plus é›†æˆidworker"},{"content":"å®‰è£…\n1 curl https://get.acme.sh | sh -s email=my@example.com å¸è½½\n1 acme.sh --uninstall è®¾ç½®æä¾›å•†\n1 acme.sh --set-default-ca --server letsencrypt 1 acme.sh --set-default-ca --server zerossl DNSPod.cn åŸŸå API é€‰é¡¹è¦æ±‚æ‚¨é¦–å…ˆç™»å½•æ‚¨çš„å¸æˆ·ä»¥è·å– DNSPod API å¯†é’¥å’Œ IDã€‚\n1 2 export DP_Id=\u0026#34;\u0026lt;id\u0026gt;\u0026#34; export DP_Key=\u0026#34;\u0026lt;key\u0026gt;\u0026#34; ç”³è¯·\n1 ./acme.sh --insecure --dnssleep 600 --issue --dns dns_dp -d wlngo.top -d *.wlngo.top åˆ é™¤\n1 acme.sh --remove -d wlngo.top éƒ¨ç½²\n1 2 3 4 ./acme.sh --install-cert -d wlngo.top \\ --key-file /etc/nginx/ssl/wlngo.top.key \\ --fullchain-file /etc/nginx/ssl/wlngo.top_bundle.crt \\ --reloadcmd \u0026#34;sh /root/.acme.sh/reload.sh\u0026#34; reload.sh è„šæœ¬\n1 2 3 4 5 6 #!/usr/bin/bash systemctl force-reload nginx cp /etc/nginx/ssl/wlngo.top.key /opt/gitlab/config/ssl/wlngo.top.key cp /etc/nginx/ssl/wlngo.top_bundle.crt /opt/gitlab/config/ssl/ docker exec -it gitlab /bin/bash gitlab-ctl reconfigure è‡ªåŠ¨æ›´æ–°\n1 acme.sh --upgrade --auto-upgrade è‡ªåŠ¨æ›´æ–° å…³é—­\n1 acme.sh --upgrade --auto-upgrade 0 ","date":"2024-03-12T14:28:33.289Z","permalink":"https://wlngo.github.io/archives/acmesh%E8%AF%81%E4%B9%A6%E7%94%B3%E8%AF%B7/","title":"acme.sh  è¯ä¹¦ç”³è¯·"},{"content":"https://docs.gitlab.cn/jh/ci/examples/\n","date":"2024-03-07T22:57:26.358Z","permalink":"https://wlngo.github.io/archives/gitlabcicd-mo-ban/","title":"gitlab cicd æ¨¡æ¿"},{"content":"åŒæ­¥æ–‡ä»¶\n1 rsync -avux -e \u0026#39;ssh -p 22\u0026#39; root@192.168.123.181:/opt/* ./ è®¾ç½®ä¸»æœºåå­—\n1 hostnamectl set-hostname name æŸ¥çœ‹æ›´æ”¹æ˜¯å¦ç”Ÿæ•ˆã€‚\n1 hostnamectl status centos ä¿®æ”¹é™æ€ip\n1 cd /etc/sysconfig/network-scripts \u0026amp;\u0026amp; vim ifcfg-ens19 rockylinux åŒæ­¥æ—¶é—´\n1 chronyc -a makestep debianç³»åˆ— åŒæ­¥æ—¶é—´\n1 systemctl restart systemd-timesyncd W269N-WFGWX-YVC9B-4J6C9-T83GX #Windows 10/ Windows 11 KMS å®‰è£…æ¿€æ´»å¯†é’¥ #Windows 10/11 Proï¼šW269N-WFGWX-YVC9B-4J6C9-T83GX #Windows 10/11 Enterpriseï¼šNPPR9-FWDCX-D2C8J-H872K-2YT43 #Windows 10/11 Pro for Workstationsï¼šNRG8B-VKK3Q-CXVCJ-9G2XF-6Q84J\n","date":"2024-01-20T23:37:14.61Z","permalink":"https://wlngo.github.io/archives/%E6%9D%82%E9%A1%B9/","title":"æ‚é¡¹"},{"content":" 1 docker run -d --name=xunlei -p 2345:2345 -v /opt/xunlei/data:/xunlei/data -v /opt/qbittorrent/downloads:/xunlei/downloads --restart=always --privileged cnk3x/xunlei:latest ","date":"2023-11-09T08:56:08.87Z","permalink":"https://wlngo.github.io/archives/xun-lei-web/","title":"è¿…é›·web"},{"content":"docker éƒ¨ç½²é›†ç¾¤\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 docker run --name nacos --restart always \\ -e TZ=Asia/Shanghai \\ -e JVM_XMS=512m \\ -e JVM_XMX=512m \\ -e JVM_XMN=256m \\ -e JVM_XMS=64m \\ -e JVM_MMS=160m \\ -e NACOS_SERVER_IP=192.168.123.242 \\ -e NACOS_SERVERS=\u0026#34;192.168.123.221:8848 192.168.123.176:8848 192.168.123.242:8848\u0026#34; \\ -e SPRING_DATASOURCE_PLATFORM=mysql \\ -e MYSQL_SERVICE_HOST=10.0.0.3 \\ -e MYSQL_SERVICE_PORT=4000 \\ -e MYSQL_SERVICE_DB_NAME=nacos \\ -e MYSQL_SERVICE_USER=\u0026#34;root\u0026#34; \\ -e MYSQL_SERVICE_PASSWORD=\u0026#34;å¯†ç \u0026#34; \\ -e NACOS_AUTH_IDENTITY_KEY=\u0026#34;nacos\u0026#34; \\ -e NACOS_AUTH_IDENTITY_VALUE=\u0026#34;å¯†ç \u0026#34; \\ -e NACOS_AUTH_ENABLE=\u0026#34;true\u0026#34; \\ -e NACOS_AUTH_TOKEN=\u0026#34;CbUgzg/ZXr9j3nDJ/IZvznPk5A5PtkdgHM3m7odHII4=\u0026#34; \\ -p 8848:8848 -p 9848:9848 -p 9849:9849 -p7848:7848 -d \\ nacos/nacos-server:v2.3.0 nacos-syc\n1 2 3 4 docker run --name nacos-sync --restart always -d \\ -e TZ=Asia/Shanghai \\ -p 8083:8083 \\ weiliangning.work:18040/docker/nacos-syc ","date":"2023-10-23T17:43:31.378Z","permalink":"https://wlngo.github.io/archives/nacos/","title":"nacos"},{"content":"etcd å®‰è£…\n1 2 3 4 5 6 7 docker run -d --restart always \\ --name etcd -p 2379:2379 -p 2380:2380 \\ -e ALLOW_NONE_AUTHENTICATION=yes \\ -e ETCD_ADVERTISE_CLIENT_URLS=http://192.168.123.185:2379 \\ -e TZ=Asia/Shanghai \\ -v /opt/etcd/data:/bitnami/etcd/data \\ bitnami/etcd:3.5 apisix å®‰è£…\n1 2 3 4 5 docker run -d --name apisix --restart always \\ -e TZ=Asia/Shanghai \\ -p 9080:9080 -p 9443:9443 -p 9180:9180 -p 9091:9091 \\ -v /opt/apisix/conf/config.yaml:/usr/local/apisix/conf/config.yaml \\ apache/apisix:3.2.2-debian dashboard å®‰è£…\n1 2 3 4 5 6 docker run -d --name apisix-dashboard --restart always \\ -e TZ=Asia/Shanghai \\ -p 9000:9000 \\ -v /opt/apisix-dashboard/config/conf.yaml:/usr/local/apisix-dashboard/conf/conf.yaml \\ -v /opt/apisix-dashboard/logs:/usr/local/apisix-dashboard/logs/ \\ apache/apisix-dashboard ","date":"2023-09-25T17:06:16.494Z","permalink":"https://wlngo.github.io/archives/apisix%E5%AE%89%E8%A3%85/","title":"apisix  å®‰è£…"},{"content":"å‘½ä»¤\n1 2 3 4 5 6 7 8 9 docker run \\ --restart=always \\ -e LANG=en_US.UTF-8 \\ -e LANGUAGE=en_US:en \\ -e LC_ALL=en_US.UTF-8 \\ -e TZ=Asia/Shanghai \\ --name=sftp \\ -v /opt/qbittorrent/downloads:/home/foo/upload \\ -p 44:22 -d atmoz/sftp foo:pass:::upload ","date":"2023-09-01T14:59:32.338Z","permalink":"https://wlngo.github.io/archives/docker%E5%AE%89%E8%A3%85sftp/","title":"docker å®‰è£…sftp"},{"content":"wireguardéƒ¨ç½²\n-p 51820:51820/udp æš´éœ²ç«¯å£\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 docker run -d \\ --name=wireguard \\ --cap-add=NET_ADMIN \\ -e PUID=1000 \\ -e PGID=1000 \\ -e TZ=Asia/Shanghai \\ -e SERVERURL=www.wlngo.top \\ -e SERVERPORT=51820 \\ -e PEERDNS=192.168.123.1 \\ -e INTERNAL_SUBNET=10.13.13.0 \\ -e ALLOWEDIPS=0.0.0.0/0 \\ -e PERSISTENTKEEPALIVE_PEERS=\u0026#34;all\u0026#34; \\ -e LOG_CONFS=true \\ -v /mnt/nvme0n1-4/opt/wireguard/config:/config \\ --sysctl=\u0026#34;net.ipv4.conf.all.src_valid_mark=1\u0026#34; \\ --restart always \\ lscr.io/linuxserver/wireguard:v1.0.20210914-ls31 wireguard-ui åˆå§‹åŒ–ä½¿ç”¨ 0.5.2ç‰ˆæœ¬ 0.6.2 æ— æ³•åˆå§‹åŒ–\n\u0026ndash;network=wireguard\n1 2 3 4 docker run -d --net=host -e \u0026#39;BIND_ADDRESS\u0026#39;=\u0026#39;192.168.123.1:5000\u0026#39; --restart=always --name wireguard-ui \\ -e WGUI_MANAGE_RESTART=true -e WGUI_MANAGE_START=true --cap-add=NET_ADMIN \\ -v /mnt/nvme0n1-4/opt/wireguard-ui/db:/app/db -v /mnt/nvme0n1-4/opt/wireguard/config/wg_confs:/etc/wireguard \\ ngoduykhanh/wireguard-ui:0.6.2 inotifywait ç›‘æ§æ–‡ä»¶å˜åŒ–è„šæœ¬\n1 2 3 4 5 6 7 8 #!/bin/bash dir=/opt/wireguard/config/wg_confs/wg0.conf #æŒ‡å®šéœ€è¦ç›‘è§†çš„æ–‡ä»¶å¤¹ log_file=/opt/wireguard/logs/changes.log #æŒ‡å®šè¾“å‡ºä¿¡æ¯çš„æ–‡ä»¶ï¼Œæ–¹ä¾¿åé¢æŸ¥çœ‹ while inotifywait -r $dir -o $log_file -e modify --timefmt \u0026#39;%y-%m-%d %H:%M\u0026#39; --format \u0026#39;%T %w%f %e\u0026#39; #è¿™é‡Œåªç›‘è§†æ–‡ä»¶çš„closeåŠ¨ä½œ do docker restart wireguard #æ‰§è¡ŒåŒæ­¥æ–‡ä»¶çš„è„šæœ¬ done ","date":"2023-08-29T10:24:21.388Z","permalink":"https://wlngo.github.io/archives/wireguard/","title":"wireguard"},{"content":"#å®‰è£…NFSæœåŠ¡å™¨ç«¯\n1 sudo apt-get install nfs-kernel-server NFSæœåŠ¡å™¨ç«¯é…ç½® (/etc/exports)\n1 2 /opt/nfs 192.168.123.0/24(rw,sync,no_subtree_check,insecure,no_root_squash) /opt/nfs 10.0.0.0/24(rw,sync,no_subtree_check,insecure,no_root_squash) è§£é‡Š\nrw è¯»å†™è®¿é—® sync æ‰€æœ‰æ•°æ®åœ¨è¯·æ±‚æ—¶å†™å…¥å…±äº« No_root_squash å®¢æˆ·æœºç”¨rootè®¿é—®è¯¥å…±äº«æ–‡ä»¶å¤¹æ—¶ï¼Œä¸æ˜ å°„rootç”¨æˆ· insecure NFSé€šè¿‡1024ä»¥ä¸Šçš„ç«¯å£å‘é€ (å¦‚æœå®¢æˆ·ç«¯å¿…é¡»è¦ mount -o noresvport è®¿é—®ï¼Œé‚£ä¹ˆå°±éœ€è¦ nfs æœåŠ¡å™¨é…ç½®å…è®¸éç‰¹æƒç«¯å£è®¿é—®ã€‚éœ€è¦ä¿®æ”¹ /etc/exportsï¼Œè®¾ç½® insecure é€‰é¡¹ã€‚) no_subtree_check ä¸æ£€æŸ¥çˆ¶ç›®å½•æƒé™ #å®‰è£…NFSå®¢æˆ·ç«¯\n1 sudo apt-get install nfs-common NFSå®¢æˆ·ç«¯å¼€æœºè‡ªå¯ é…ç½®ç›®å½•(/etc/fstab)\n1 2 #nfs 10.0.0.2:/opt/nfs /opt/webserver nfs vers=4,minorversion=0,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2,_netdev,noresvport 0 0 å‚æ•°è§£é‡Š\nvers=4 æ–‡ä»¶ç³»ç»Ÿç‰ˆæœ¬4 minorversion=0 ç”Ÿæˆæ³¨å†Œå¥æŸ„ minorVersion æ˜¯ä¾›åº”å•†ä¸ºå…¶äº§å“å®šä¹‰çš„ç‰ˆæœ¬è¯†åˆ«ç  é€šå¸¸æ­é…vers=4ä½¿ç”¨ rsize æ¯ä¸ªREADå‘½ä»¤å­—å‘æœåŠ¡å™¨è¯»å–æ–‡ä»¶çš„æœ€å¤§å­—èŠ‚æ•°ã€‚å®é™…æ•°æ®å°äºæˆ–ç­‰äºæ­¤å€¼ã€‚resizeå¿…é¡»æ˜¯1024å€æ•°çš„æ­£æ•´æ•°ï¼Œå°äº1024æ—¶è‡ªåŠ¨è®¾ä¸º4096ï¼Œå¤§äº1048576æ—¶è‡ªåŠ¨è®¾ä¸º1048576ã€‚é»˜è®¤æ—¶ï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯è¿›è¡Œåå•†åè®¾ç½® wsize æ¯ä¸ªWRITEå‘½ä»¤å­—å‘æœåŠ¡å™¨å†™å…¥æ–‡ä»¶çš„æœ€å¤§å­—èŠ‚æ•°ã€‚å®é™…æ•°æ®å°äºæˆ–ç­‰äºæ­¤å€¼ã€‚resizeå¿…é¡»æ˜¯1024å€æ•°çš„æ­£æ•´æ•°ï¼Œå°äº1024æ—¶è‡ªåŠ¨è®¾ä¸º4096ï¼Œå¤§äº1048576æ—¶è‡ªåŠ¨è®¾ä¸º1048576ã€‚é»˜è®¤æ—¶ï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯è¿›è¡Œåå•†åè®¾ç½®ã€‚ hard ä½¿ç”¨ç¡¬æŒ‚è½½çš„æ–¹å¼æŒ‚è½½ç³»ç»Ÿï¼Œè¯¥å€¼æ˜¯é»˜è®¤å€¼ï¼Œé‡å¤è¯·æ±‚ç›´åˆ°NFSæœåŠ¡å™¨å›åº” timeo=600 â€” å°†NFS å®¢æˆ·ç«¯åœ¨é‡è¯•NFS è¯·æ±‚ä¹‹å‰ç”¨äºç­‰å¾…å“åº”çš„è¶…æ—¶å€¼è®¾ç½®ä¸º600 åˆ†ç§’ï¼ˆ60 ç§’ï¼‰ã€‚ å¦‚æœæ‚¨å¿…é¡»æ›´æ”¹è¶…æ—¶å‚æ•°( timeo )ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨ä½¿ç”¨è‡³å°‘ä¸º 150 çš„å€¼ï¼Œè¿™ç›¸å½“äº15 ç§’ retrans=2 â€” å°†NFS å®¢æˆ·ç«¯åœ¨å°è¯•è¿›ä¸€æ­¥æ¢å¤æ“ä½œä¹‹å‰é‡è¯•è¯·æ±‚çš„æ¬¡æ•°è®¾ç½®ä¸º2ã€‚ noresvport â€” å‘Šè¯‰NFS å®¢æˆ·ç«¯åœ¨é‡æ–°å»ºç«‹ç½‘ç»œè¿æ¥æ—¶ä½¿ç”¨æ–°çš„ä¼ è¾“æ§åˆ¶åè®®(TCP) æºç«¯å£ã€‚ _netdevå®ƒç”¨äºæŒ‡ç¤ºç³»ç»Ÿåœ¨ç½‘ç»œæŒ‚è½½æ–‡ä»¶ç³»ç»Ÿæ—¶ç­‰å¾…ç½‘ç»œè¿æ¥å»ºç«‹ä¹‹åå†è¿›è¡ŒæŒ‚è½½æ“ä½œ noresvport â€” å‘Šè¯‰NFS å®¢æˆ·ç«¯åœ¨é‡æ–°å»ºç«‹ç½‘ç»œè¿æ¥æ—¶ä½¿ç”¨æ–°çš„ä¼ è¾“æ§åˆ¶åè®®(TCP) æºç«¯å£ã€‚ è¿™æ ·åšæœ‰åŠ©äºç¡®ä¿EFS æ–‡ä»¶ç³»ç»Ÿåœ¨ç½‘ç»œæ¢å¤äº‹ä»¶åå…·æœ‰ä¸é—´æ–­çš„å¯ç”¨æ€§ã€‚ _netdev â€” å¦‚æœå­˜åœ¨ /etc/fstab ï¼Œåˆ™é˜²æ­¢å®¢æˆ·ç«¯åœ¨å¯ç”¨ç½‘ç»œä¹‹å‰å°è¯•è£…è½½EFS æ–‡ä»¶ç³»ç»Ÿ\n(å¦‚æœå®¢æˆ·ç«¯å¿…é¡»è¦ mount -o noresvport è®¿é—®ï¼Œé‚£ä¹ˆå°±éœ€è¦ nfs æœåŠ¡å™¨é…ç½®å…è®¸éç‰¹æƒç«¯å£è®¿é—®ã€‚éœ€è¦ä¿®æ”¹ /etc/exportsï¼Œè®¾ç½® insecure é€‰é¡¹ã€‚ï¼‰ é˜¿é‡Œäº‘nfsæŒ‚è½½å‚è€ƒ\n","date":"2023-08-23T22:40:03.3Z","permalink":"https://wlngo.github.io/archives/nfs%E5%AE%89%E8%A3%85/","title":"nfs å®‰è£…"},{"content":"keepalivedé…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 cat \u0026gt; /etc/keepalived/keepalived.conf \u0026lt;\u0026lt; EOF ! Configuration File for keepalived global_defs { router_id LVS_DEVEL enable_script_security script_user root } vrrp_script check_haproxy { script \u0026#34;killall -0 haproxy\u0026#34; interval 3 weight -2 fall 10 rise 2 } vrrp_instance VI_1 { state BACKUP interface ens18 # è™šæ‹Ÿç½‘å¡æ¡¥æ¥çš„çœŸå®ç½‘å¡ virtual_router_id 80 # ä¼˜å…ˆçº§é…ç½®ï¼Œæ¯å°æœåŠ¡å™¨æœ€å¥½éƒ½ä¸ä¸€æ ·ï¼Œå¦‚100ï¼Œ90ï¼Œ80ç­‰ï¼Œä¼˜å…ˆçº§è¶Šé«˜è¶Šå…ˆä½¿ç”¨ priority 80 advert_int 1 authentication { auth_type PASS auth_pass 111 } virtual_ipaddress { 192.168.123.200 # å¯¹å¤–æä¾›çš„è™šæ‹ŸIP } track_script { check_haproxy } } EOF ç›‘æ§keepalived 1 2 3 4 5 6 7 8 9 10 11 #!/bin/sh errorExit() { echo \u0026#34;*** $*\u0026#34; 1\u0026gt;\u0026amp;2 exit 1 } curl --silent --max-time 2 --insecure http://localhost:6443/ -o /dev/null || errorExit \u0026#34;Error GET http://localhost:6443/\u0026#34; if ip addr | grep -q 192.168.123.200; then curl --silent --max-time 2 --insecure http://192.168.123.200:6443/ -o /dev/null || errorExit \u0026#34;Error GET http://192.168.123.200:6443/\u0026#34; fi haproxyé…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 #--------------------------------------------------------------------- # kubernetes apiserver frontend which proxys to the backends #--------------------------------------------------------------------- frontend kubernetes-apiserver mode tcp bind *:6444 # å¯¹å¤–æä¾›æœåŠ¡çš„ç«¯å£ï¼Œå¿…é¡»å’Œkubernetesä¸€è‡´ option tcplog default_backend kubernetes-apiserver #åç«¯æœåŠ¡çš„åç§° #--------------------------------------------------------------------- # round robin balancing between the various backends #--------------------------------------------------------------------- backend kubernetes-apiserver mode tcp balance roundrobin server node-master-1 192.168.123.246:6443 check # åç«¯æœåŠ¡å™¨hostnameå’ŒIP server node-master-2 192.168.123.213:6443 check # åç«¯æœåŠ¡å™¨hostnameå’ŒIP server node-master-3 192.168.123.154:6443 check # åç«¯æœåŠ¡å™¨hostnameå’ŒIP https://developer.volcengine.com/articles/7052310062315864101 /etc/crictl.yaml https://zhuanlan.zhihu.com/p/585865389 /etc/containerd/config.toml\nå‘½ä»¤ æ±¡ç‚¹å’Œå®¹å¿\n1 kubectl get no -o yaml | grep taint -A 5 1 kubectl taint nodes node-master-1 node-role.kubernetes.io/control-plane:NoSchedule æ‰¹é‡åˆ é™¤å®¹å™¨\n1 crictl ps -a | awk \u0026#39;{print $1}\u0026#39; | xargs crictl rm æŸ¥çœ‹coredns\n1 kubectl get pods --namespace=kube-system -l k8s-app=kube-dns ","date":"2023-08-18T17:31:15.705Z","permalink":"https://wlngo.github.io/archives/k8s-an-zhuang/","title":"k8s å®‰è£…"},{"content":"å®‰è£…è„šæœ¬\n1 sudo bash -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/trojan-gfw/trojan-quickstart/master/trojan-quickstart.sh)\u0026#34; ","date":"2023-07-25T21:07:49.97Z","permalink":"https://wlngo.github.io/archives/trojan-an-zhuang/","title":"trojan å®‰è£…"},{"content":"tidb åˆ†å¸ƒå¼æ•°æ®åº“ å‚è€ƒ[å®˜ç½‘æ–‡æ¡£ https://docs.pingcap.com/zh/tidb/stable/quick-start-with-tidb/]\néƒ¨ç½² éƒ¨ç½²pd1 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 docker run -d --name pd1 \\ --restart always\\ -e TZ=Asia/Shanghai \\ -v /opt/tidb/node_exporter:/opt/tidb/node_exporter \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ -v /opt/tidb/pd1/data:/data \\ --network=elknetwork \\ pingcap/pd:v7.1.0 \\ --name=\u0026#34;pd1\u0026#34; \\ --data-dir=\u0026#34;/data/pd1\u0026#34; \\ --client-urls=\u0026#34;http://0.0.0.0:2379\u0026#34; \\ --advertise-client-urls=\u0026#34;http://pd1:2379\u0026#34; \\ --peer-urls=\u0026#34;http://0.0.0.0:2380\u0026#34; \\ --advertise-peer-urls=\u0026#34;http://pd1:2380\u0026#34; \\ --initial-cluster=\u0026#34;pd1=http://pd1:2380,pd2=http://pd2:2380,pd3=http://pd3:2380\u0026#34; éƒ¨ç½²pd2 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 docker run -d --name pd2 \\ -p 2379:2379 \\ --restart always \\ -e TZ=Asia/Shanghai \\ -v /opt/tidb/node_exporter:/opt/tidb/node_exporter \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ -v /opt/tidb/pd2/data:/data \\ --network=elknetwork \\ pingcap/pd:v7.1.0 \\ --name=\u0026#34;pd2\u0026#34; \\ --data-dir=\u0026#34;/data/pd2\u0026#34; \\ --client-urls=\u0026#34;http://0.0.0.0:2379\u0026#34; \\ --advertise-client-urls=\u0026#34;http://pd2:2379\u0026#34; \\ --peer-urls=\u0026#34;http://0.0.0.0:2380\u0026#34; \\ --advertise-peer-urls=\u0026#34;http://pd2:2380\u0026#34; \\ --initial-cluster=\u0026#34;pd1=http://pd1:2380,pd2=http://pd2:2380,pd3=http://pd3:2380\u0026#34; éƒ¨ç½²pd3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 docker run -d --name pd3 \\ --restart always \\ -e TZ=Asia/Shanghai \\ -v /opt/tidb/node_exporter:/opt/tidb/node_exporter \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ -v /opt/tidb/pd3/data:/data \\ --network=elknetwork \\ pingcap/pd:v7.1.0 \\ --name=\u0026#34;pd3\u0026#34; \\ --data-dir=\u0026#34;/data/pd3\u0026#34; \\ --client-urls=\u0026#34;http://0.0.0.0:2379\u0026#34; \\ --advertise-client-urls=\u0026#34;http://pd3:2379\u0026#34; \\ --peer-urls=\u0026#34;http://0.0.0.0:2380\u0026#34; \\ --advertise-peer-urls=\u0026#34;http://pd3:2380\u0026#34; \\ --initial-cluster=\u0026#34;pd1=http://pd1:2380,pd2=http://pd2:2380,pd3=http://pd3:2380\u0026#34; éƒ¨ç½²tikv1 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 docker run -d --name tikv1 \\ --restart always \\ --ulimit nofile=1000000:1000000 \\ -e TZ=Asia/Shanghai \\ -v /opt/tidb/node_exporter:/opt/tidb/node_exporter \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ -v /opt/tidb/tikv1/data:/data \\ --network=elknetwork \\ pingcap/tikv:v7.1.0 \\ --addr=\u0026#34;0.0.0.0:20160\u0026#34; \\ --advertise-addr=\u0026#34;tikv1:20160\u0026#34; \\ --data-dir=\u0026#34;/data/tikv1\u0026#34; \\ --pd=\u0026#34;pd1:2379,pd2:2379,pd3:2379\u0026#34; \\ --advertise-status-addr=\u0026#34;tikv1:20180\u0026#34; \\ --status-addr=\u0026#34;0.0.0.0:20180\u0026#34; éƒ¨ç½²tikv2 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 docker run -d --name tikv2 \\ --restart always \\ --ulimit nofile=1000000:1000000 \\ -e TZ=Asia/Shanghai \\ -v /opt/tidb/node_exporter:/opt/tidb/node_exporter \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ -v /opt/tidb/tikv2/data:/data \\ --network=elknetwork \\ pingcap/tikv:v7.1.0 \\ --addr=\u0026#34;0.0.0.0:20160\u0026#34; \\ --advertise-addr=\u0026#34;tikv2:20160\u0026#34; \\ --data-dir=\u0026#34;/data/tikv2\u0026#34; \\ --pd=\u0026#34;pd1:2379,pd2:2379,pd3:2379\u0026#34; \\ --advertise-status-addr=\u0026#34;tikv2:20180\u0026#34; \\ --status-addr=\u0026#34;0.0.0.0:20180\u0026#34; éƒ¨ç½²tikv3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 --restart always \\ --ulimit nofile=1000000:1000000 \\ -e TZ=Asia/Shanghai \\ -v /opt/tidb/node_exporter:/opt/tidb/node_exporter \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ -v /opt/tidb/tikv3/data:/data \\ --network=elknetwork \\ pingcap/tikv:v7.1.0 \\ --addr=\u0026#34;0.0.0.0:20160\u0026#34; \\ --advertise-addr=\u0026#34;tikv3:20160\u0026#34; \\ --data-dir=\u0026#34;/data/tikv3\u0026#34; \\ --pd=\u0026#34;pd1:2379,pd2:2379,pd3:2379\u0026#34; \\ --advertise-status-addr=\u0026#34;tikv3:20180\u0026#34; \\ --status-addr=\u0026#34;0.0.0.0:20180\u0026#34; éƒ¨ç½²tidb 1 2 3 4 5 6 7 8 9 10 11 12 docker run -d --name tidb \\ --restart always \\ -p 4000:4000 \\ -p 10080:10080 \\ -e TZ=Asia/Shanghai \\ -v /opt/tidb/node_exporter:/opt/tidb/node_exporter \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ --network=elknetwork \\ pingcap/tidb:v7.1.0 \\ --store=tikv \\ --path=\u0026#34;pd1:2379,pd2:2379,pd3:2379\u0026#34; éƒ¨ç½²tiflash 1 2 3 4 5 6 7 8 9 docker run --name tiflash \\ -e TZ=Asia/Shanghai \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ -v /opt/tidb/tiflash/data:/data \\ -v /opt/tidb/tiflash/conf/tiflash.toml:/opt/tidb/tiflash/conf/tiflash.toml \\ --restart always -d \\ --network=elknetwork \\ pingcap/tiflash:v7.1.0 --config=/opt/tidb/tiflash/conf/tiflash.toml éƒ¨ç½²ng-monitoring 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 docker run --name ng-monitoring \\ -e TZ=Asia/Shanghai \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ -v /opt/tidb/ng-monitoring/data:/data \\ -v /opt/tidb/ng-monitoring/conf/config.toml:/opt/tidb/ng-monitoring/conf/config.toml \\ --restart always -d \\ --network=elknetwork \\ pingcap/ng-monitoring:v7.1.0 --config=/opt/tidb/ng-monitoring/conf/config.toml docker exec tidb sh /opt/tidb/node_exporter/start.sh docker exec pd1 sh /opt/tidb/node_exporter/start.sh docker exec pd2 sh /opt/tidb/node_exporter/start.sh docker exec pd3 sh /opt/tidb/node_exporter/start.sh docker exec tikv1 sh /opt/tidb/node_exporter/start.sh docker exec tikv2 sh /opt/tidb/node_exporter/start.sh docker exec tikv3 sh /opt/tidb/node_exporter/start.sh å†…å­˜ä¼˜åŒ– 1 2 docker update --memory 6g --memory-swap -1 tiflash tidb tikv1 tikv2 tikv3 pd1 pd2 pd3 docker update --memory 1g --memory-swap -1 ng-monitoring SELECT @@tidb_server_memory_limit é»˜è®¤=80% SET GLOBAL tidb_server_memory_limit = \u0026ldquo;4GB\u0026rdquo;; SELECT @@tidb_server_memory_limit_gc_trigger é»˜è®¤=0.7 select sysdate() æŸ¥è¯¢æ—¥æœŸ ALTER USER \u0026lsquo;root\u0026rsquo;@\u0026rsquo;%\u0026rsquo; IDENTIFIED BY \u0026lsquo;mypass\u0026rsquo;; ä¿®æ”¹rootå¯†ç \nHAProxy ä»£ç†tidb å®‰è£…\n1 sudo apt install haproxy /etc/haproxy/haproxy.cfg é…ç½®\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 global # å…¨å±€é…ç½®ã€‚ log 127.0.0.1 local2 # å®šä¹‰å…¨å±€çš„ syslog æœåŠ¡å™¨ï¼Œæœ€å¤šå¯ä»¥å®šä¹‰ä¸¤ä¸ªã€‚ chroot /var/lib/haproxy # æ›´æ”¹å½“å‰ç›®å½•å¹¶ä¸ºå¯åŠ¨è¿›ç¨‹è®¾ç½®è¶…çº§ç”¨æˆ·æƒé™ï¼Œä»è€Œæé«˜å®‰å…¨æ€§ã€‚ pidfile /var/run/haproxy.pid # å°† HAProxy è¿›ç¨‹çš„ PID å†™å…¥ pidfileã€‚ maxconn 4000 # æ¯ä¸ª HAProxy è¿›ç¨‹æ‰€æ¥å—çš„æœ€å¤§å¹¶å‘è¿æ¥æ•°ã€‚ user haproxy # åŒ UID å‚æ•°ã€‚ group haproxy # åŒ GID å‚æ•°ï¼Œå»ºè®®ä½¿ç”¨ä¸“ç”¨ç”¨æˆ·ç»„ã€‚ nbproc 40 # åœ¨åå°è¿è¡Œæ—¶åˆ›å»ºçš„è¿›ç¨‹æ•°ã€‚åœ¨å¯åŠ¨å¤šä¸ªè¿›ç¨‹è½¬å‘è¯·æ±‚æ—¶ï¼Œç¡®ä¿è¯¥å€¼è¶³å¤Ÿå¤§ï¼Œä¿è¯ HAProxy ä¸ä¼šæˆä¸ºç“¶é¢ˆã€‚ daemon # è®© HAProxy ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼å·¥ä½œäºåå°ï¼Œç­‰åŒäºå‘½ä»¤è¡Œå‚æ•°â€œ-Dâ€çš„åŠŸèƒ½ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­ç”¨â€œ-dbâ€å‚æ•°å°†å…¶ç¦ç”¨ã€‚ stats socket /var/lib/haproxy/stats # ç»Ÿè®¡ä¿¡æ¯ä¿å­˜ä½ç½®ã€‚ defaults # é»˜è®¤é…ç½®ã€‚ log global # æ—¥å¿—ç»§æ‰¿å…¨å±€é…ç½®æ®µçš„è®¾ç½®ã€‚ retries 2 # å‘ä¸Šæ¸¸æœåŠ¡å™¨å°è¯•è¿æ¥çš„æœ€å¤§æ¬¡æ•°ï¼Œè¶…è¿‡æ­¤å€¼ä¾¿è®¤ä¸ºåç«¯æœåŠ¡å™¨ä¸å¯ç”¨ã€‚ timeout connect 2s # HAProxy ä¸åç«¯æœåŠ¡å™¨è¿æ¥è¶…æ—¶æ—¶é—´ã€‚å¦‚æœåœ¨åŒä¸€ä¸ªå±€åŸŸç½‘å†…ï¼Œå¯è®¾ç½®æˆè¾ƒçŸ­çš„æ—¶é—´ã€‚ timeout client 30000s # å®¢æˆ·ç«¯ä¸ HAProxy è¿æ¥åï¼Œæ•°æ®ä¼ è¾“å®Œæ¯•ï¼Œå³éæ´»åŠ¨è¿æ¥çš„è¶…æ—¶æ—¶é—´ã€‚ timeout server 30000s # æœåŠ¡å™¨ç«¯éæ´»åŠ¨è¿æ¥çš„è¶…æ—¶æ—¶é—´ã€‚ listen admin_stats # frontend å’Œ backend çš„ç»„åˆä½“ï¼Œæ­¤ç›‘æ§ç»„çš„åç§°å¯æŒ‰éœ€è¿›è¡Œè‡ªå®šä¹‰ã€‚ bind 0.0.0.0:8080 # ç›‘å¬ç«¯å£ã€‚ mode http # ç›‘æ§è¿è¡Œçš„æ¨¡å¼ï¼Œæ­¤å¤„ä¸º `http` æ¨¡å¼ã€‚ option httplog # å¼€å§‹å¯ç”¨è®°å½• HTTP è¯·æ±‚çš„æ—¥å¿—åŠŸèƒ½ã€‚ maxconn 10 # æœ€å¤§å¹¶å‘è¿æ¥æ•°ã€‚ stats refresh 30s # æ¯éš” 30 ç§’è‡ªåŠ¨åˆ·æ–°ç›‘æ§é¡µé¢ã€‚ stats uri /haproxy # ç›‘æ§é¡µé¢çš„ URLã€‚ stats realm HAProxy # ç›‘æ§é¡µé¢çš„æç¤ºä¿¡æ¯ã€‚ stats auth admin:pingcap123 # ç›‘æ§é¡µé¢çš„ç”¨æˆ·å’Œå¯†ç ï¼Œå¯è®¾ç½®å¤šä¸ªç”¨æˆ·åã€‚ stats hide-version # éšè—ç›‘æ§é¡µé¢ä¸Šçš„ HAProxy ç‰ˆæœ¬ä¿¡æ¯ã€‚ stats admin if TRUE # æ‰‹å·¥å¯ç”¨æˆ–ç¦ç”¨åç«¯æœåŠ¡å™¨ï¼ˆHAProxy 1.4.9 åŠä¹‹åç‰ˆæœ¬å¼€å§‹æ”¯æŒï¼‰ã€‚ listen tidb-cluster # é…ç½® database è´Ÿè½½å‡è¡¡ã€‚ bind 0.0.0.0:3390 # æµ®åŠ¨ IP å’Œ ç›‘å¬ç«¯å£ã€‚ mode tcp # HAProxy è¦ä½¿ç”¨ç¬¬ 4 å±‚çš„ä¼ è¾“å±‚ã€‚ balance leastconn # è¿æ¥æ•°æœ€å°‘çš„æœåŠ¡å™¨ä¼˜å…ˆæ¥æ”¶è¿æ¥ã€‚`leastconn` å»ºè®®ç”¨äºé•¿ä¼šè¯æœåŠ¡ï¼Œä¾‹å¦‚ LDAPã€SQLã€TSE ç­‰ï¼Œè€Œä¸æ˜¯çŸ­ä¼šè¯åè®®ï¼Œå¦‚ HTTPã€‚è¯¥ç®—æ³•æ˜¯åŠ¨æ€çš„ï¼Œå¯¹äºå¯åŠ¨æ…¢çš„æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æƒé‡ä¼šåœ¨è¿è¡Œä¸­ä½œè°ƒæ•´ã€‚ server tidb-1 10.9.18.229:4000 check inter 2000 rise 2 fall 3 # æ£€æµ‹ 4000 ç«¯å£ï¼Œæ£€æµ‹é¢‘ç‡ä¸ºæ¯ 2000 æ¯«ç§’ä¸€æ¬¡ã€‚å¦‚æœ 2 æ¬¡æ£€æµ‹ä¸ºæˆåŠŸï¼Œåˆ™è®¤ä¸ºæœåŠ¡å™¨å¯ç”¨ï¼›å¦‚æœ 3 æ¬¡æ£€æµ‹ä¸ºå¤±è´¥ï¼Œåˆ™è®¤ä¸ºæœåŠ¡å™¨ä¸å¯ç”¨ã€‚ server tidb-2 10.9.39.208:4000 check inter 2000 rise 2 fall 3 server tidb-3 10.9.64.166:4000 check inter 2000 rise 2 fall 3 ","date":"2023-07-24T00:14:34.932Z","permalink":"https://wlngo.github.io/archives/tidbdocker-bu-shu/","title":"tidb docker éƒ¨ç½²"},{"content":"1ä¸»\n1 2 3 4 5 6 7 8 9 docker run -d --name redis-master-1 --network=elknetwork --restart=always \\ -p 6429:6429 -p 16429:16429 \\ -v /opt/redis-cluster/master-1/log:/var/log/redis/ \\ -v /opt/redis-cluster/master-1/conf:/usr/local/etc/redis/ \\ -v /opt/redis-cluster/master-1/data/:/var/lib/redis/ \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ redis \\ redis-server /usr/local/etc/redis/redis.conf 2ä¸»\n1 2 3 4 5 6 7 8 9 docker run -d --name redis-master-2 --network=elknetwork --restart=always \\ -p 6449:6449 -p 16449:16449 \\ -v /opt/redis-cluster/master-2/log:/var/log/redis/ \\ -v /opt/redis-cluster/master-2/conf:/usr/local/etc/redis/ \\ -v /opt/redis-cluster/master-2/data/:/var/lib/redis/ \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ redis \\ redis-server /usr/local/etc/redis/redis.conf 3ä¸»\n1 2 3 4 5 6 7 8 9 docker run -d --name redis-master-3 --network=elknetwork --restart=always \\ -p 6469:6469 -p 16469:16469 \\ -v /opt/redis-cluster/master-3/log:/var/log/redis/ \\ -v /opt/redis-cluster/master-3/conf:/usr/local/etc/redis/ \\ -v /opt/redis-cluster/master-3/data/:/var/lib/redis/ \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ redis \\ redis-server /usr/local/etc/redis/redis.conf ä»1\n1 2 3 4 5 6 7 8 9 docker run -d --name redis-slave-1 --network=elknetwork --restart=always \\ -p 6439:6439 -p 16439:16439 \\ -v /opt/redis-cluster/slave-1/log:/var/log/redis/ \\ -v /opt/redis-cluster/slave-1/conf:/usr/local/etc/redis/ \\ -v /opt/redis-cluster/slave-1/data/:/var/lib/redis/ \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ redis \\ redis-server /usr/local/etc/redis/redis.conf ä»2\n1 2 3 4 5 6 7 8 9 docker run -d --name redis-slave-2 --network=elknetwork --restart=always \\ -p 6459:6459 -p 16459:16459 \\ -v /opt/redis-cluster/slave-2/log:/var/log/redis/ \\ -v /opt/redis-cluster/slave-2/conf:/usr/local/etc/redis/ \\ -v /opt/redis-cluster/slave-2/data/:/var/lib/redis/ \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ redis \\ redis-server /usr/local/etc/redis/redis.conf ä»3\n1 2 3 4 5 6 7 8 9 docker run -d --name redis-slave-3 --network=elknetwork --restart=always \\ -p 6479:6479 -p 16479:16479 \\ -v /opt/redis-cluster/slave-3/log:/var/log/redis/ \\ -v /opt/redis-cluster/slave-3/conf:/usr/local/etc/redis/ \\ -v /opt/redis-cluster/slave-3/data/:/var/lib/redis/ \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ redis \\ redis-server /usr/local/etc/redis/redis.conf é»˜è®¤å‚æ•°\n1 2 3 4 5 6 7 docker run -d --name redis-cluster --restart=always -p 6379:6379 -p 16379:16379 \\ -e TZ=Asia/Shanghai \\ -v /opt/redis-cluster/log:/var/log/redis/ \\ -v /opt/redis-cluster/conf:/usr/local/etc/redis/ \\ -v /opt/redis-cluster/data/:/var/lib/redis/ \\ -v /etc/localtime:/etc/localtime:ro \\ redis:7.0 redis-server /usr/local/etc/redis/redis.conf é…ç½®æ–‡ä»¶\n1 2 3 4 5 6 7 8 #docker å¯åŠ¨ä¸å¼€å¯å®ˆæŠ¤è¿›ç¨‹ ç‰©ç†æœºå¼€å¯ daemonize no #å¼€å¯é›†ç¾¤æ¨¡å¼ cluster-enabled yes cluster-announce-ip 192.168.123.210 cluster-announce-port 6379 #é›†ç¾¤é€šè®¯ç«¯å£ cluster-announce-bus-port 16379 è§„åˆ’å’Œé›†ç¾¤\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 cluster nodes æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯\tcluster replicate æ˜ å°„ä¸»èŠ‚ç‚¹ ä¸» 192.168.123.117 6379 192.168.123.196 6379 192.168.123.139 6379 ä» 192.168.123.221 6379 192.168.123.176 6379 192.168.123.242 6379 å»ºç«‹è”ç³» redis-cli -h 192.168.123.117 -p 6379 -a å¯†ç  cluster replicate ä¸»èŠ‚ç‚¹ cluster meet 192.168.123.196 6379 cluster meet 192.168.123.139 6379 cluster meet 192.168.123.221 6379 cluster meet 192.168.123.176 6379 cluster meet 192.168.123.242 6379 æ˜ å°„ä¸»èŠ‚ç‚¹ redis-cli -h 192.168.123.221 -p 6379 -a å¯†ç  cluster replicate ä¸»èŠ‚ç‚¹ redis-cli -h 192.168.123.176 -p 6379 -a å¯†ç  cluster replicate ä¸»èŠ‚ç‚¹ redis-cli -h 192.168.123.242 -p 6379 -a å¯†ç  cluster replicate ä¸»èŠ‚ç‚¹ ä¸»èŠ‚ç‚¹åˆ†é…å“ˆå¸Œæ§½ redis-cli -h 192.168.123.117 -p 6379 -a å¯†ç  cluster addslots {0..5461} redis-cli -h 192.168.123.196 -p 6379 -a å¯†ç  cluster addslots {5462..10922} redis-cli -h 192.168.123.139 -p 6379 -a å¯†ç  cluster addslots {10923..16383} Envoy Proxy ç”¨äºä»£ç†redis é›†ç¾¤ envoy.yaml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 static_resources: listeners: - name: redis_listener address: socket_address: address: 0.0.0.0 port_value: 6480 filter_chains: - filters: - name: envoy.filters.network.redis_proxy typed_config: \u0026#34;@type\u0026#34;: type.googleapis.com/envoy.extensions.filters.network.redis_proxy.v3.RedisProxy stat_prefix: egress_redis settings: op_timeout: 5s prefix_routes: catch_all_route: cluster: redis_cluster downstream_auth_passwords: - inline_string: \u0026#34;å¯†ç \u0026#34; clusters: - name: redis_cluster cluster_type: name: envoy.clusters.redis typed_config: \u0026#34;@type\u0026#34;: type.googleapis.com/google.protobuf.Struct value: cluster_refresh_rate: 10s cluster_refresh_timeout: 4s connect_timeout: 4s dns_lookup_family: V4_ONLY lb_policy: CLUSTER_PROVIDED load_assignment: cluster_name: redis_cluster endpoints: lb_endpoints: - endpoint: address: socket_address: address: 192.168.123.210 port_value: 6429 - endpoint: address: socket_address: address: 192.168.123.210 port_value: 6439 - endpoint: address: socket_address: address: 192.168.123.210 port_value: 6449 - endpoint: address: socket_address: address: 192.168.123.210 port_value: 6459 - endpoint: address: socket_address: address: 192.168.123.210 port_value: 6469 - endpoint: address: socket_address: address: 192.168.123.210 port_value: 6479 typed_extension_protocol_options: envoy.filters.network.redis_proxy: \u0026#34;@type\u0026#34;: type.googleapis.com/google.protobuf.Struct value: auth_password: inline_string: \u0026#34;å¯†ç \u0026#34; admin: access_log_path: \u0026#34;/opt/envoy/log/access.log\u0026#34; address: socket_address: address: 0.0.0.0 port_value: 6490 1 2 3 4 5 6 docker run -d --name envoy --network=elknetwork --restart=always \\ -p 6480:6480 -p 6490:6490 \\ -v /opt/envoy/conf/envoy.yaml:/etc/envoy/envoy.yaml \\ -v /opt/envoy/log:/opt/envoy/log \\ -v /etc/localtime:/etc/localtime \\ envoyproxy/envoy:v1.26-latest -c /etc/envoy/envoy.yaml --service-cluster proxy --log-level info docker run -d \u0026ndash;name twemproxy \u0026ndash;network=elknetwork \u0026ndash;restart=always -p 6480:6480 -v /etc/nutcracker.conf:/opt/twemproxy/conf/nutcracker.conf malexer/twemproxy\n","date":"2023-07-11T09:25:06.912Z","permalink":"https://wlngo.github.io/archives/dockerredis%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%853%E4%B8%BB3%E4%BB%8E/","title":"docker redis é›†ç¾¤å®‰è£…3ä¸»3ä»"},{"content":"https://logback.qos.ch/manual/appenders.html\n","date":"2023-06-20T09:17:49.343Z","permalink":"https://wlngo.github.io/archives/logbackdoc/","title":"logback doc"},{"content":" 1 2 3 4 5 6 7 docker run \\ -d --name filebrowser \\ -v /opt/qbittorrent/downloads/:/srv \\ -v /opt/filebrowser/config/filebrowser.db:/database/filebrowser.db \\ -v /opt/filebrowser/config/settings.json:/config/settings.json \\ -p 8070:80 \\ filebrowser/filebrowser:s6 ","date":"2023-04-30T19:34:22.488Z","permalink":"https://wlngo.github.io/archives/filebrowser/","title":"filebrowser"},{"content":"docker run -d \u0026ndash;name=qbittorrent -e PUID=1000 -e PGID=1000 -e TZ=Asia/Shangha -e WEBUI_PORT=8060 -p 8060:8060 -p 16881:16881 -v /opt/qbittorrent/config:/config -v /opt/qbittorrent/downloads:/downloads \u0026ndash;restart always linuxserver/qbittorrent\n","date":"2023-04-30T18:57:39.393Z","permalink":"https://wlngo.github.io/archives/qbittorrent-an-zhuang/","title":"qbittorrent å®‰è£…"},{"content":"docker hubé•œåƒ\n1 docker pull p3terx/aria2-pro å¯åŠ¨å‘½ä»¤\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 docker run -d \\ --name aria2-pro \\ --restart always \\ --log-opt max-size=1m \\ -e PUID=$UID \\ -e PGID=$GID \\ -e UMASK_SET=022 \\ -e RPC_SECRET=2411228533 \\ -e RPC_PORT=6800 \\ -e LISTEN_PORT=6888 \\ --network=elknetwork \\ -v /opt/aria2/server/aria2-config:/config \\ -v /opt/aria2/server/aria2-downloads:/downloads \\ p3terx/aria2-pro ","date":"2023-04-28T17:24:56.601Z","permalink":"https://wlngo.github.io/archives/aria2/","title":"Aria2"},{"content":"spring.security.oauth2.client.registration.gitee.redirect-uri: æ–‡æ¡£ æ—§çš„æ¨¡æ¿å€¼\n1 \u0026#39;{baseUrl}/{action}/oauth2/code/{registrationId}\u0026#39; æ–°çš„æ¨¡æ¿å€¼\n1 \u0026#39;{baseUrl}/login/oauth2/code/{registrationId}\u0026#39; Oauth2.0 èµ„æ–™æ–‡æ¡£ https://www.jetbrains.com/help/youtrack/devportal/OAuth-authorization-in-hub.html https://juejin.cn/post/7151692788071923742#heading-0 å®¢æˆ·ç«¯æ¨¡å¼ scope å¤šä¸ªéœ€è¦ å•ä¸ªç©ºæ ¼ é—´éš”å¼€ https://developer.okta.com/docs/api/openapi/okta-oauth/guides/client-auth/#token-claims-for-client-authentication-with-client-secret-or-private-key-jwt https://cloudentity.com/developers/basics/oauth-client-authentication/client-secret-authentication/#authentication-using-client_secret_basic-method æ³¨å†Œ(RegisteredClientRepository) token(OAuth2AuthorizationService) https://docs.spring.io/spring-security/reference/servlet/oauth2/index.html https://spring.io/projects/spring-authorization-server Spring Security æƒé™å†³ç­– ï¼ˆAccessDecisionManagerï¼‰ ä¸€ç¥¨é€šè¿‡(AffirmativeBased) ä¸€ç¥¨å¦å†³(UnanimousBased) å°‘æ•°æœä»å¤šæ•°(ConsensusBased) Spring Security json ç™»å½•ï¼ˆspring boot 3 +ï¼‰ https://www.duidaima.com/Group/Topic/JAVA/10494(Spring Security ) jwks https://fullstackladder.dev/blog/2023/01/28/openid-validate-token-with-rs256-and-jwks/\n","date":"2023-04-24T17:56:24.552Z","permalink":"https://wlngo.github.io/archives/oauth20/","title":"oauth2.0"},{"content":" 1 2 3 4 5 6 docker run -d --name=grafana -p 3000:3000 \\ -e TZ=Asia/Shanghai \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ -v /var/opt/grafana/data/:/var/lib/grafana \\ grafana/grafana ","date":"2023-04-16T21:40:08.073Z","permalink":"https://wlngo.github.io/archives/grafana/","title":"grafana"},{"content":" 1 2 3 4 5 6 7 8 9 docker run -d --name sonarqube \\ -p 9000:9000 \\ -e SONAR_JDBC_URL=jdbc:postgresql://www.weiliangning.work:5432/ \\ -e SONAR_JDBC_USERNAME=postgres \\ -e SONAR_JDBC_PASSWORD=... \\ -v /opt/sonarqube/data:/opt/sonarqube/data \\ -v /opt/sonarqube/extensions:/opt/sonarqube/extensions \\ -v /opt/sonarqube/logs:/opt/sonarqube/logs \\ sonarqube:lts ","date":"2023-04-16T18:07:17.297Z","permalink":"https://wlngo.github.io/archives/%E5%AE%89%E8%A3%85sonarqube/","title":"å®‰è£…  sonarqube"},{"content":"https://hub.docker.com/_/mongo\n1 2 3 4 5 6 7 8 9 docker run --name mongo -d --restart=always \\ -p 27017:27017 \\ -e TZ=Asia/Shanghai \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ -v /var/opt/mongo/data:/data/db \\ -e MONGO_INITDB_ROOT_USERNAME=root \\ -e MONGO_INITDB_ROOT_PASSWORD=secret \\ mongo:6.0-rc ","date":"2023-04-16T17:14:58.455Z","permalink":"https://wlngo.github.io/archives/docker%E5%AE%89%E8%A3%85mongo/","title":"docker å®‰è£…mongo"},{"content":"é›†ç¾¤éœ€è¦ä¿®æ”¹ data ä¸‹ myid åˆ†åˆ«ä¸º1 2 3 (æ­¤å¤„æ˜¯ä¼ªé›†ç¾¤æ¨¡å¼) zookeeper-a 1 2 3 4 5 6 7 8 docker run --name zookeeper-a --restart always -d \\ -v /opt/zookeeper/zookeeper-a/conf/zoo.cfg:/conf/zoo.cfg \\ -v /opt/zookeeper/zookeeper-a/datalog/:/datalog \\ -v /opt/zookeeper/zookeeper-a/data/:/data \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ --network=host \\ zookeeper zookeeper-b 1 2 3 4 5 6 7 8 docker run --name zookeeper-b --restart always -d \\ -v /opt/zookeeper/zookeeper-b/conf/zoo.cfg:/conf/zoo.cfg \\ -v /opt/zookeeper/zookeeper-b/datalog/:/datalog \\ -v /opt/zookeeper/zookeeper-b/data/:/data \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ --network=host \\ zookeeper zookeeper-c 1 2 3 4 5 6 7 8 docker run --name zookeeper-c --restart always -d \\ -v /opt/zookeeper/zookeeper-c/conf/zoo.cfg:/conf/zoo.cfg \\ -v /opt/zookeeper/zookeeper-c/datalog/:/datalog \\ -v /opt/zookeeper/zookeeper-c/data/:/data \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ --network=host \\ zookeeper zookeeperé›†ç¾¤ 1 2 3 4 5 6 7 docker run --name zookeeper --restart always -d \\ -e TZ=Asia/Shanghai \\ -v /opt/zookeeper/conf/zoo.cfg:/conf/zoo.cfg \\ -v /opt/zookeeper/datalog/:/datalog \\ -v /opt/zookeeper/data/:/data \\ --network=host \\ zookeeper:3.9.1-jre-17 ","date":"2023-04-14T21:11:53.329Z","permalink":"https://wlngo.github.io/archives/zookeeperdocker/","title":"zookeeper docker"},{"content":" 1 2 3 docker run -d --name showdoc --user=root --privileged=true --restart always -p 4999:80 \\ -v /var/opt/showdoc/data:/var/www/html/ \\ star7th/showdoc ","date":"2023-04-14T16:06:25.641Z","permalink":"https://wlngo.github.io/archives/showdocdocker-an-zhuang/","title":"showdoc docker å®‰è£…"},{"content":" 1 2 3 4 5 \u0026lt;snapshots\u0026gt; \u0026lt;enabled\u0026gt;true\u0026lt;/enabled\u0026gt; \u0026lt;!-- æ›´æ–°ç­–ç•¥é»˜è®¤æ¯å¤©ä¸€æ¬¡--\u0026gt; \u0026lt;updatePolicy\u0026gt;always\u0026lt;/updatePolicy\u0026gt; \u0026lt;/snapshots\u0026gt; ","date":"2023-04-05T21:23:58.909Z","permalink":"https://wlngo.github.io/archives/maven-kuai-zhao-geng-xin-ce-lve-mo-ren-mei-tian-yi-ci/","title":"maven å¿«ç…§æ›´æ–°ç­–ç•¥é»˜è®¤æ¯å¤©ä¸€æ¬¡"},{"content":" 1 2 3 4 5 docker run -d --name gitlab-runner --restart always \\ -v /opt/gitlab-runner/config:/etc/gitlab-runner \\ -v /var/run/docker.sock:/var/run/docker.sock \\ gitlab/gitlab-runner:latest 1 docker exec -it gitlab-runner /bin/bash ","date":"2023-03-29T15:30:49.726Z","permalink":"https://wlngo.github.io/archives/gitlabrunner/","title":"gitlab runner"},{"content":" 1 2 3 4 5 6 docker run -d --name postgres --restart=always --network elknetwork \\ -p 5432:5432 -e POSTGRES_PASSWORD_FILE=/opt/postgres/config/postgres-password \\ -v /var/opt/postgres/data:/var/lib/postgresql/data \\ -v /opt/postgres/config/:/opt/postgres/config/ \\ -v /etc/timezone:/etc/timezone:ro -v /etc/localtime:/etc/localtime:ro \\ weiliangning.work:18040/docker/postgres:15.2 ","date":"2023-03-28T20:21:30.09Z","permalink":"https://wlngo.github.io/archives/docker-an-zhuang-postgresql/","title":"docker å®‰è£…postgresql"},{"content":" 1 2 3 4 5 6 7 8 def jobName = \u0026#34;tes\u0026#34; //åˆ é™¤çš„é¡¹ç›®åç§° def maxNumber = 200 // ä¿ç•™çš„æœ€å°ç¼–å·ï¼Œæ„å‘³ç€å°äºè¯¥ç¼–å·çš„æ„å»ºéƒ½å°†è¢«åˆ é™¤ Jenkins.instance.getItemByFullName(jobName).builds.findAll { it.number \u0026lt;= maxNumber }.each { it.delete() } ","date":"2023-03-27T22:18:02.58Z","permalink":"https://wlngo.github.io/archives/jenkins-shan-chu-li-shi-gou-jian/","title":"jenkins åˆ é™¤å†å²æ„å»º"},{"content":"https://cloud.tencent.com/developer/article/2129798 ä¿®æ”¹ç«¯å£å¿…é¡»é‡å¯\n","date":"2023-03-24T01:16:37.613Z","permalink":"https://wlngo.github.io/archives/xrdp-jiao-cheng/","title":"xrdp æ•™ç¨‹"},{"content":"https://www.cnblogs.com/niaucz/p/14817775.html\n","date":"2023-03-23T23:37:30.248Z","permalink":"https://wlngo.github.io/archives/shi-yong-tls-bao-hu-docker-yuan-cheng-duan-kou/","title":"ä½¿ç”¨TLSä¿æŠ¤Dockerè¿œç¨‹ç«¯å£"},{"content":"nginx è®¾ç½®\n1 2 auth_basic \u0026#34;è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç \u0026#34;; auth_basic_user_file /etc/nginx/auth/htpasswd; sudo sh -c \u0026ldquo;echo -n \u0026lsquo;è´¦å·:\u0026rsquo; \u0026raquo; htpasswd\u0026rdquo; sudo sh -c \u0026ldquo;openssl passwd -apr1 \u0026raquo; htpasswd\u0026rdquo; è¯·è¾“å…¥å¯†ç \n","date":"2023-03-17T17:17:38.837Z","permalink":"https://wlngo.github.io/archives/nginx-jian-dan-she-zhi-zhang-hao-mi-ma/","title":"nginx ç®€å•è®¾ç½®è´¦å·å¯†ç "},{"content":"è¿è¡Œè‡ªå»ºé•œåƒ 1 docker run -d --name arthas-tunnel-server --restart always -p 8580:8080 -p 7777:7777 weiliangning.work:18040/docker/arthas-tunnel-server java agentå‚æ•° -javaagent:/opt/arthas/arthas-agent.jar -Darthas.tunnelServer=ws://www.weiliangning.work:7777/ws -Darthas.appName=appname\ndocker å®¹å™¨å‚æ•° \u0026ndash;cap-add=SYS_ADMIN å¿…é¡»ç»™å®¹å™¨æ ¹è·¯å¾„æƒé™ å¦åˆ™æ— æ³•ç”Ÿäº§cpu ç«ç„°å›¾ profiler start\narthas è·å–spring bean æ€è·¯å‚è€ƒ https://github.com/alibaba/arthas/issues/482\næ–¹æ³•ä¸€ æœ‰dubbo\n1 ognl \u0026#39;#context=@com.alibaba.dubbo.config.spring.extension.SpringExtensionFactory@contexts.iterator.next, #context.getBean(\u0026#34;beanåå­—\u0026#34;)\u0026#39; æ–¹æ³•äºŒ æœ‰hutool\næŸ¥çœ‹å·¥å…·ç±»çš„ classload\n1 sc -d cn.hutool.extra.spring.SpringUtil ä½¿ç”¨ognl æ‰§è¡Œé™æ€æ–¹æ³•\n1 ognl -c 685f4c2e \u0026#39;@cn.hutool.extra.spring.SpringUtil@getBean(\u0026#34;beanåå­—\u0026#34;)\u0026#39; ","date":"2023-03-17T14:40:29.515Z","permalink":"https://wlngo.github.io/archives/arthasjava-xian-shang-jian-kong-zhen-duan/","title":"arthas java çº¿ä¸Šç›‘æ§è¯Šæ–­"},{"content":"å®˜æ–¹é…ç½®æ—¥å¿—æ ¼å¼\n1 \u0026lt;property name=\u0026#34;CONSOLE_LOG_PATTERN\u0026#34; value=\u0026#34;${CONSOLE_LOG_PATTERN:-%clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}\u0026#34;/\u0026gt; https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot/src/main/resources/org/springframework/boot/logging/logback/defaults.xml\næ­£å¸¸æ¨¡æ¿ é€‚ç”¨äºspring boot 2\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;!-- æ—¥å¿—çº§åˆ«ä»ä½åˆ°é«˜åˆ†ä¸ºTRACE \u0026lt; DEBUG \u0026lt; INFO \u0026lt; WARN \u0026lt; ERROR \u0026lt; FATALï¼Œå¦‚æœè®¾ç½®ä¸ºWARNï¼Œåˆ™ä½äºWARNçš„ä¿¡æ¯éƒ½ä¸ä¼šè¾“å‡º --\u0026gt; \u0026lt;!-- scan:å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œé…ç½®æ–‡ä»¶å¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œå°†ä¼šè¢«é‡æ–°åŠ è½½ï¼Œé»˜è®¤å€¼ä¸ºtrue --\u0026gt; \u0026lt;!-- scanPeriod:è®¾ç½®ç›‘æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰ä¿®æ”¹çš„æ—¶é—´é—´éš”ï¼Œå¦‚æœæ²¡æœ‰ç»™å‡ºæ—¶é—´å•ä½ï¼Œé»˜è®¤å•ä½æ˜¯æ¯«ç§’ã€‚å½“scanä¸ºtrueæ—¶ï¼Œæ­¤å±æ€§ç”Ÿæ•ˆã€‚é»˜è®¤çš„æ—¶é—´é—´éš”ä¸º1åˆ†é’Ÿã€‚ --\u0026gt; \u0026lt;!-- debug:å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œå°†æ‰“å°å‡ºlogbackå†…éƒ¨æ—¥å¿—ä¿¡æ¯ï¼Œå®æ—¶æŸ¥çœ‹logbackè¿è¡ŒçŠ¶æ€ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚ --\u0026gt; \u0026lt;configuration debug=\u0026#34;false\u0026#34; scan=\u0026#34;true\u0026#34; scanPeriod=\u0026#34;1000 seconds\u0026#34;\u0026gt; \u0026lt;contextName\u0026gt;logback\u0026lt;/contextName\u0026gt; \u0026lt;!-- nameçš„å€¼æ˜¯å˜é‡çš„åç§°ï¼Œvalueçš„å€¼æ—¶å˜é‡å®šä¹‰çš„å€¼ã€‚é€šè¿‡å®šä¹‰çš„å€¼ä¼šè¢«æ’å…¥åˆ°loggerä¸Šä¸‹æ–‡ä¸­ã€‚å®šä¹‰å˜é‡åï¼Œå¯ä»¥ä½¿â€œ${}â€æ¥ä½¿ç”¨å˜é‡ã€‚ --\u0026gt; \u0026lt;property name=\u0026#34;log.path\u0026#34; value=\u0026#34;./logs\u0026#34;/\u0026gt; \u0026lt;springProperty scope=\u0026#34;context\u0026#34; name=\u0026#34;spring.application.name\u0026#34; source=\u0026#34;spring.application.name\u0026#34; defaultValue=\u0026#34;app\u0026#34;/\u0026gt; \u0026lt;!-- å½©è‰²æ—¥å¿— --\u0026gt; \u0026lt;!-- å½©è‰²æ—¥å¿—ä¾èµ–çš„æ¸²æŸ“ç±» --\u0026gt; \u0026lt;conversionRule conversionWord=\u0026#34;clr\u0026#34; converterClass=\u0026#34;org.springframework.boot.logging.logback.ColorConverter\u0026#34;/\u0026gt; \u0026lt;conversionRule conversionWord=\u0026#34;wex\u0026#34; converterClass=\u0026#34;org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter\u0026#34;/\u0026gt; \u0026lt;conversionRule conversionWord=\u0026#34;wEx\u0026#34; converterClass=\u0026#34;org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;CONSOLE_LOG_PATTERN\u0026#34; value=\u0026#34;${CONSOLE_LOG_PATTERN:-%clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} %clr([%X{tid}]){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;CONSOLE_LOG_CHARSET\u0026#34; value=\u0026#34;${CONSOLE_LOG_CHARSET:-${file.encoding:-UTF-8}}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;CONSOLE_LOG_THRESHOLD\u0026#34; value=\u0026#34;${CONSOLE_LOG_THRESHOLD:-TRACE}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;FILE_LOG_PATTERN\u0026#34; value=\u0026#34;${FILE_LOG_PATTERN:-%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}} [%X{tid}] ${LOG_LEVEL_PATTERN:-%5p} ${PID:- } --- [%t] %-40.40logger{39} : %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;FILE_LOG_CHARSET\u0026#34; value=\u0026#34;${FILE_LOG_CHARSET:-${file.encoding:-UTF-8}}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;FILE_LOG_THRESHOLD\u0026#34; value=\u0026#34;${FILE_LOG_THRESHOLD:-TRACE}\u0026#34;/\u0026gt; \u0026lt;appender name=\u0026#34;CONSOLE\u0026#34; class=\u0026#34;ch.qos.logback.core.ConsoleAppender\u0026#34;\u0026gt; \u0026lt;filter class=\u0026#34;ch.qos.logback.classic.filter.ThresholdFilter\u0026#34;\u0026gt; \u0026lt;level\u0026gt;trace\u0026lt;/level\u0026gt; \u0026lt;/filter\u0026gt; \u0026lt;encoder class=\u0026#34;ch.qos.logback.classic.encoder.PatternLayoutEncoder\u0026#34;\u0026gt; \u0026lt;charset\u0026gt;${CONSOLE_LOG_CHARSET}\u0026lt;/charset\u0026gt; \u0026lt;Pattern\u0026gt;${CONSOLE_LOG_PATTERN}\u0026lt;/Pattern\u0026gt; \u0026lt;/encoder\u0026gt; \u0026lt;/appender\u0026gt; \u0026lt;appender name=\u0026#34;LOG_FILE\u0026#34; class=\u0026#34;ch.qos.logback.core.rolling.RollingFileAppender\u0026#34;\u0026gt; \u0026lt;!-- æ­£åœ¨è®°å½•çš„æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„åŠæ–‡ä»¶å --\u0026gt; \u0026lt;file\u0026gt;${log.path}/${spring.application.name}.log\u0026lt;/file\u0026gt; \u0026lt;!--æ—¥å¿—æ–‡ä»¶è¾“å‡ºæ ¼å¼--\u0026gt; \u0026lt;encoder class=\u0026#34;ch.qos.logback.core.encoder.LayoutWrappingEncoder\u0026#34;\u0026gt; \u0026lt;charset\u0026gt;${FILE_LOG_CHARSET}\u0026lt;/charset\u0026gt; \u0026lt;/encoder\u0026gt; \u0026lt;layout class=\u0026#34;ch.qos.logback.classic.PatternLayout\u0026#34;\u0026gt; \u0026lt;pattern\u0026gt;${FILE_LOG_PATTERN}\u0026lt;/pattern\u0026gt; \u0026lt;/layout\u0026gt; \u0026lt;!-- æ—¥å¿—è®°å½•å™¨çš„æ»šåŠ¨ç­–ç•¥ï¼ŒæŒ‰æ—¥æœŸï¼ŒæŒ‰å¤§å°è®°å½• --\u0026gt; \u0026lt;rollingPolicy class=\u0026#34;ch.qos.logback.core.rolling.TimeBasedRollingPolicy\u0026#34;\u0026gt; \u0026lt;!-- æ¯å¤©æ—¥å¿—å½’æ¡£è·¯å¾„ä»¥åŠæ ¼å¼ --\u0026gt; \u0026lt;fileNamePattern\u0026gt;${log.path}/${spring.application.name}-%d{yyyy-MM-dd}.%i.log.zip\u0026lt;/fileNamePattern\u0026gt; \u0026lt;timeBasedFileNamingAndTriggeringPolicy class=\u0026#34;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\u0026#34;\u0026gt; \u0026lt;maxFileSize\u0026gt;100MB\u0026lt;/maxFileSize\u0026gt; \u0026lt;/timeBasedFileNamingAndTriggeringPolicy\u0026gt; \u0026lt;!--æ—¥å¿—æ–‡ä»¶ä¿ç•™å¤©æ•°--\u0026gt; \u0026lt;maxHistory\u0026gt;365\u0026lt;/maxHistory\u0026gt; \u0026lt;/rollingPolicy\u0026gt; \u0026lt;filter class=\u0026#34;ch.qos.logback.classic.filter.ThresholdFilter\u0026#34;\u0026gt; \u0026lt;level\u0026gt;trace\u0026lt;/level\u0026gt; \u0026lt;/filter\u0026gt; \u0026lt;/appender\u0026gt; \u0026lt;!-- ä¸ä¸¢å¤±æ—¥å¿—.é»˜è®¤çš„,å¦‚æœé˜Ÿåˆ—çš„80%å·²æ»¡,åˆ™ä¼šä¸¢å¼ƒTRACTã€DEBUGã€INFOçº§åˆ«çš„æ—¥å¿— --\u0026gt; \u0026lt;!-- æ›´æ”¹é»˜è®¤çš„é˜Ÿåˆ—çš„æ·±åº¦,è¯¥å€¼ä¼šå½±å“æ€§èƒ½.é»˜è®¤å€¼ä¸º256 --\u0026gt; \u0026lt;!-- æ·»åŠ é™„åŠ çš„appender,æœ€å¤šåªèƒ½æ·»åŠ ä¸€ä¸ª --\u0026gt; \u0026lt;appender name=\u0026#34;LOG_ASYNC\u0026#34; class=\u0026#34;ch.qos.logback.classic.AsyncAppender\u0026#34;\u0026gt; \u0026lt;discardingThreshold\u0026gt;0\u0026lt;/discardingThreshold\u0026gt; \u0026lt;queueSize\u0026gt;256\u0026lt;/queueSize\u0026gt; \u0026lt;includeCallerData\u0026gt;true\u0026lt;/includeCallerData\u0026gt; \u0026lt;appender-ref ref=\u0026#34;LOG_FILE\u0026#34;/\u0026gt; \u0026lt;/appender\u0026gt; \u0026lt;!-- additivityæ˜¯å¦ä¼ é€’--\u0026gt; \u0026lt;!-- mybatisè‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶æ—¥å¿— --\u0026gt; \u0026lt;logger name=\u0026#34;com.baomidou.mybatisplus.generator\u0026#34; level=\u0026#34;debug\u0026#34; additivity=\u0026#34;true\u0026#34;\u0026gt; \u0026lt;/logger\u0026gt; \u0026lt;logger name=\u0026#34;top.wei.yhproprietaryinteresth5pre\u0026#34; level=\u0026#34;info\u0026#34; additivity=\u0026#34;false\u0026#34;\u0026gt; \u0026lt;!-- æŒ‡å®šè¾“å‡ºçš„appender --\u0026gt; \u0026lt;appender-ref ref=\u0026#34;CONSOLE\u0026#34;/\u0026gt; \u0026lt;appender-ref ref=\u0026#34;LOG_ASYNC\u0026#34;/\u0026gt; \u0026lt;/logger\u0026gt; \u0026lt;root level=\u0026#34;info\u0026#34;\u0026gt; \u0026lt;appender-ref ref=\u0026#34;CONSOLE\u0026#34;/\u0026gt; \u0026lt;appender-ref ref=\u0026#34;LOG_ASYNC\u0026#34;/\u0026gt; \u0026lt;/root\u0026gt; \u0026lt;/configuration\u0026gt; skywalkingæ¨¡æ¿ é€‚ç”¨äºspring boot 2\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;!-- æ—¥å¿—çº§åˆ«ä»ä½åˆ°é«˜åˆ†ä¸ºTRACE \u0026lt; DEBUG \u0026lt; INFO \u0026lt; WARN \u0026lt; ERROR \u0026lt; FATALï¼Œå¦‚æœè®¾ç½®ä¸ºWARNï¼Œåˆ™ä½äºWARNçš„ä¿¡æ¯éƒ½ä¸ä¼šè¾“å‡º --\u0026gt; \u0026lt;!-- scan:å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œé…ç½®æ–‡ä»¶å¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œå°†ä¼šè¢«é‡æ–°åŠ è½½ï¼Œé»˜è®¤å€¼ä¸ºtrue --\u0026gt; \u0026lt;!-- scanPeriod:è®¾ç½®ç›‘æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰ä¿®æ”¹çš„æ—¶é—´é—´éš”ï¼Œå¦‚æœæ²¡æœ‰ç»™å‡ºæ—¶é—´å•ä½ï¼Œé»˜è®¤å•ä½æ˜¯æ¯«ç§’ã€‚å½“scanä¸ºtrueæ—¶ï¼Œæ­¤å±æ€§ç”Ÿæ•ˆã€‚é»˜è®¤çš„æ—¶é—´é—´éš”ä¸º1åˆ†é’Ÿã€‚ --\u0026gt; \u0026lt;!-- debug:å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œå°†æ‰“å°å‡ºlogbackå†…éƒ¨æ—¥å¿—ä¿¡æ¯ï¼Œå®æ—¶æŸ¥çœ‹logbackè¿è¡ŒçŠ¶æ€ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚ --\u0026gt; \u0026lt;configuration debug=\u0026#34;false\u0026#34; scan=\u0026#34;true\u0026#34; scanPeriod=\u0026#34;1000 seconds\u0026#34;\u0026gt; \u0026lt;contextName\u0026gt;logback\u0026lt;/contextName\u0026gt; \u0026lt;!-- nameçš„å€¼æ˜¯å˜é‡çš„åç§°ï¼Œvalueçš„å€¼æ—¶å˜é‡å®šä¹‰çš„å€¼ã€‚é€šè¿‡å®šä¹‰çš„å€¼ä¼šè¢«æ’å…¥åˆ°loggerä¸Šä¸‹æ–‡ä¸­ã€‚å®šä¹‰å˜é‡åï¼Œå¯ä»¥ä½¿â€œ${}â€æ¥ä½¿ç”¨å˜é‡ã€‚ --\u0026gt; \u0026lt;property name=\u0026#34;log.path\u0026#34; value=\u0026#34;./logs\u0026#34;/\u0026gt; \u0026lt;springProperty scope=\u0026#34;context\u0026#34; name=\u0026#34;spring.application.name\u0026#34; source=\u0026#34;spring.application.name\u0026#34; defaultValue=\u0026#34;app\u0026#34;/\u0026gt; \u0026lt;!-- å½©è‰²æ—¥å¿— --\u0026gt; \u0026lt;!-- å½©è‰²æ—¥å¿—ä¾èµ–çš„æ¸²æŸ“ç±» --\u0026gt; \u0026lt;conversionRule conversionWord=\u0026#34;clr\u0026#34; converterClass=\u0026#34;org.springframework.boot.logging.logback.ColorConverter\u0026#34;/\u0026gt; \u0026lt;conversionRule conversionWord=\u0026#34;wex\u0026#34; converterClass=\u0026#34;org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter\u0026#34;/\u0026gt; \u0026lt;conversionRule conversionWord=\u0026#34;wEx\u0026#34; converterClass=\u0026#34;org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;CONSOLE_LOG_PATTERN\u0026#34; value=\u0026#34;${CONSOLE_LOG_PATTERN:-%clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} %clr([%X{tid}]){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;CONSOLE_LOG_CHARSET\u0026#34; value=\u0026#34;${CONSOLE_LOG_CHARSET:-${file.encoding:-UTF-8}}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;CONSOLE_LOG_THRESHOLD\u0026#34; value=\u0026#34;${CONSOLE_LOG_THRESHOLD:-TRACE}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;FILE_LOG_PATTERN\u0026#34; value=\u0026#34;${FILE_LOG_PATTERN:-%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}} [%X{tid}] ${LOG_LEVEL_PATTERN:-%5p} ${PID:- } --- [%t] %-40.40logger{39} : %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;FILE_LOG_CHARSET\u0026#34; value=\u0026#34;${FILE_LOG_CHARSET:-${file.encoding:-UTF-8}}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;FILE_LOG_THRESHOLD\u0026#34; value=\u0026#34;${FILE_LOG_THRESHOLD:-TRACE}\u0026#34;/\u0026gt; \u0026lt;appender name=\u0026#34;CONSOLE\u0026#34; class=\u0026#34;ch.qos.logback.core.ConsoleAppender\u0026#34;\u0026gt; \u0026lt;filter class=\u0026#34;ch.qos.logback.classic.filter.ThresholdFilter\u0026#34;\u0026gt; \u0026lt;level\u0026gt;trace\u0026lt;/level\u0026gt; \u0026lt;/filter\u0026gt; \u0026lt;encoder class=\u0026#34;ch.qos.logback.core.encoder.LayoutWrappingEncoder\u0026#34;\u0026gt; \u0026lt;charset\u0026gt;${CONSOLE_LOG_CHARSET}\u0026lt;/charset\u0026gt; \u0026lt;/encoder\u0026gt; \u0026lt;!-- mdcæ¥å…¥skywalking--\u0026gt; \u0026lt;layout class=\u0026#34;org.apache.skywalking.apm.toolkit.log.logback.v1.x.mdc.TraceIdMDCPatternLogbackLayout\u0026#34;\u0026gt; \u0026lt;Pattern\u0026gt;${CONSOLE_LOG_PATTERN}\u0026lt;/Pattern\u0026gt; \u0026lt;/layout\u0026gt; \u0026lt;/appender\u0026gt; \u0026lt;appender name=\u0026#34;LOG_FILE\u0026#34; class=\u0026#34;ch.qos.logback.core.rolling.RollingFileAppender\u0026#34;\u0026gt; \u0026lt;!-- æ­£åœ¨è®°å½•çš„æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„åŠæ–‡ä»¶å --\u0026gt; \u0026lt;file\u0026gt;${log.path}/${spring.application.name}.log\u0026lt;/file\u0026gt; \u0026lt;!--æ—¥å¿—æ–‡ä»¶è¾“å‡ºæ ¼å¼--\u0026gt; \u0026lt;encoder class=\u0026#34;ch.qos.logback.core.encoder.LayoutWrappingEncoder\u0026#34;\u0026gt; \u0026lt;charset\u0026gt;${FILE_LOG_CHARSET}\u0026lt;/charset\u0026gt; \u0026lt;/encoder\u0026gt; \u0026lt;layout class=\u0026#34;org.apache.skywalking.apm.toolkit.log.logback.v1.x.mdc.TraceIdMDCPatternLogbackLayout\u0026#34;\u0026gt; \u0026lt;pattern\u0026gt;${FILE_LOG_PATTERN}\u0026lt;/pattern\u0026gt; \u0026lt;/layout\u0026gt; \u0026lt;!-- æ—¥å¿—è®°å½•å™¨çš„æ»šåŠ¨ç­–ç•¥ï¼ŒæŒ‰æ—¥æœŸï¼ŒæŒ‰å¤§å°è®°å½• --\u0026gt; \u0026lt;rollingPolicy class=\u0026#34;ch.qos.logback.core.rolling.TimeBasedRollingPolicy\u0026#34;\u0026gt; \u0026lt;!-- æ¯å¤©æ—¥å¿—å½’æ¡£è·¯å¾„ä»¥åŠæ ¼å¼ --\u0026gt; \u0026lt;fileNamePattern\u0026gt;${log.path}/${spring.application.name}-%d{yyyy-MM-dd}.%i.log.zip\u0026lt;/fileNamePattern\u0026gt; \u0026lt;timeBasedFileNamingAndTriggeringPolicy class=\u0026#34;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\u0026#34;\u0026gt; \u0026lt;maxFileSize\u0026gt;100MB\u0026lt;/maxFileSize\u0026gt; \u0026lt;/timeBasedFileNamingAndTriggeringPolicy\u0026gt; \u0026lt;!--æ—¥å¿—æ–‡ä»¶ä¿ç•™å¤©æ•°--\u0026gt; \u0026lt;maxHistory\u0026gt;365\u0026lt;/maxHistory\u0026gt; \u0026lt;/rollingPolicy\u0026gt; \u0026lt;!-- æ­¤æ—¥å¿—æ–‡ä»¶åªè®°å½•infoçº§åˆ«çš„ æ­¤é…ç½®ä¸é€‚ç”¨skywalking å› ä¸ºonMatch onMismatch ä¸¤ä¸ªå­—æ®µ--\u0026gt; \u0026lt;!-- \u0026lt;filter class=\u0026#34;ch.qos.logback.classic.filter.LevelFilter\u0026#34;\u0026gt;--\u0026gt; \u0026lt;!-- \u0026lt;level\u0026gt;info\u0026lt;/level\u0026gt;--\u0026gt; \u0026lt;!-- \u0026lt;onMatch\u0026gt;ACCEPT\u0026lt;/onMatch\u0026gt;--\u0026gt; \u0026lt;!-- \u0026lt;onMismatch\u0026gt;DENY\u0026lt;/onMismatch\u0026gt;--\u0026gt; \u0026lt;!-- \u0026lt;/filter\u0026gt;--\u0026gt; \u0026lt;filter class=\u0026#34;ch.qos.logback.classic.filter.ThresholdFilter\u0026#34;\u0026gt; \u0026lt;level\u0026gt;trace\u0026lt;/level\u0026gt; \u0026lt;/filter\u0026gt; \u0026lt;/appender\u0026gt; \u0026lt;!-- ä¸ä¸¢å¤±æ—¥å¿—.é»˜è®¤çš„,å¦‚æœé˜Ÿåˆ—çš„80%å·²æ»¡,åˆ™ä¼šä¸¢å¼ƒTRACTã€DEBUGã€INFOçº§åˆ«çš„æ—¥å¿— --\u0026gt; \u0026lt;!-- æ›´æ”¹é»˜è®¤çš„é˜Ÿåˆ—çš„æ·±åº¦,è¯¥å€¼ä¼šå½±å“æ€§èƒ½.é»˜è®¤å€¼ä¸º256 --\u0026gt; \u0026lt;!-- æ·»åŠ é™„åŠ çš„appender,æœ€å¤šåªèƒ½æ·»åŠ ä¸€ä¸ª --\u0026gt; \u0026lt;appender name=\u0026#34;LOG_ASYNC\u0026#34; class=\u0026#34;ch.qos.logback.classic.AsyncAppender\u0026#34;\u0026gt; \u0026lt;discardingThreshold\u0026gt;0\u0026lt;/discardingThreshold\u0026gt; \u0026lt;queueSize\u0026gt;256\u0026lt;/queueSize\u0026gt; \u0026lt;includeCallerData\u0026gt;true\u0026lt;/includeCallerData\u0026gt; \u0026lt;appender-ref ref=\u0026#34;LOG_FILE\u0026#34;/\u0026gt; \u0026lt;/appender\u0026gt; \u0026lt;!-- skyWalkingæ—¥å¿—é‡‡é›† --\u0026gt; \u0026lt;appender name=\u0026#34;APM_LOG\u0026#34; class=\u0026#34;org.apache.skywalking.apm.toolkit.log.logback.v1.x.log.GRPCLogClientAppender\u0026#34;\u0026gt; \u0026lt;encoder class=\u0026#34;ch.qos.logback.core.encoder.LayoutWrappingEncoder\u0026#34;\u0026gt; \u0026lt;charset\u0026gt;${FILE_LOG_CHARSET}\u0026lt;/charset\u0026gt; \u0026lt;/encoder\u0026gt; \u0026lt;!-- mdcæ¥å…¥skywalking--\u0026gt; \u0026lt;layout class=\u0026#34;org.apache.skywalking.apm.toolkit.log.logback.v1.x.mdc.TraceIdMDCPatternLogbackLayout\u0026#34;\u0026gt; \u0026lt;Pattern\u0026gt;${FILE_LOG_PATTERN}\u0026lt;/Pattern\u0026gt; \u0026lt;/layout\u0026gt; \u0026lt;!-- æ­¤æ—¥å¿—æ–‡ä»¶åªè®°å½•infoçº§åˆ«çš„ æ­¤é…ç½®ä¸é€‚ç”¨skywalking å› ä¸ºonMatch onMismatch ä¸¤ä¸ªå­—æ®µ--\u0026gt; \u0026lt;!-- \u0026lt;filter class=\u0026#34;ch.qos.logback.classic.filter.LevelFilter\u0026#34;\u0026gt;--\u0026gt; \u0026lt;!-- \u0026lt;level\u0026gt;info\u0026lt;/level\u0026gt;--\u0026gt; \u0026lt;!-- \u0026lt;onMatch\u0026gt;ACCEPT\u0026lt;/onMatch\u0026gt;--\u0026gt; \u0026lt;!-- \u0026lt;onMismatch\u0026gt;DENY\u0026lt;/onMismatch\u0026gt;--\u0026gt; \u0026lt;!-- \u0026lt;/filter\u0026gt;--\u0026gt; \u0026lt;filter class=\u0026#34;ch.qos.logback.classic.filter.ThresholdFilter\u0026#34;\u0026gt; \u0026lt;level\u0026gt;trace\u0026lt;/level\u0026gt; \u0026lt;/filter\u0026gt; \u0026lt;/appender\u0026gt; \u0026lt;!-- additivityæ˜¯å¦ä¼ é€’--\u0026gt; \u0026lt;!-- mybatisè‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶æ—¥å¿— --\u0026gt; \u0026lt;logger name=\u0026#34;com.baomidou.mybatisplus.generator\u0026#34; level=\u0026#34;debug\u0026#34; additivity=\u0026#34;true\u0026#34;\u0026gt; \u0026lt;/logger\u0026gt; \u0026lt;logger name=\u0026#34;top.wei\u0026#34; level=\u0026#34;info\u0026#34; additivity=\u0026#34;false\u0026#34;\u0026gt; \u0026lt;!-- æŒ‡å®šè¾“å‡ºçš„appender --\u0026gt; \u0026lt;appender-ref ref=\u0026#34;CONSOLE\u0026#34;/\u0026gt; \u0026lt;appender-ref ref=\u0026#34;LOG_ASYNC\u0026#34;/\u0026gt; \u0026lt;appender-ref ref=\u0026#34;APM_LOG\u0026#34;/\u0026gt; \u0026lt;/logger\u0026gt; \u0026lt;root level=\u0026#34;info\u0026#34;\u0026gt; \u0026lt;appender-ref ref=\u0026#34;CONSOLE\u0026#34;/\u0026gt; \u0026lt;appender-ref ref=\u0026#34;LOG_ASYNC\u0026#34;/\u0026gt; \u0026lt;appender-ref ref=\u0026#34;APM_LOG\u0026#34;/\u0026gt; \u0026lt;/root\u0026gt; \u0026lt;/configuration\u0026gt; æ­£å¸¸æ¨¡æ¿ é€‚ç”¨äºspring boot 3\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;!-- æ—¥å¿—çº§åˆ«ä»ä½åˆ°é«˜åˆ†ä¸ºTRACE \u0026lt; DEBUG \u0026lt; INFO \u0026lt; WARN \u0026lt; ERROR \u0026lt; FATALï¼Œå¦‚æœè®¾ç½®ä¸ºWARNï¼Œåˆ™ä½äºWARNçš„ä¿¡æ¯éƒ½ä¸ä¼šè¾“å‡º --\u0026gt; \u0026lt;!-- scan:å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œé…ç½®æ–‡ä»¶å¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œå°†ä¼šè¢«é‡æ–°åŠ è½½ï¼Œé»˜è®¤å€¼ä¸ºtrue --\u0026gt; \u0026lt;!-- scanPeriod:è®¾ç½®ç›‘æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰ä¿®æ”¹çš„æ—¶é—´é—´éš”ï¼Œå¦‚æœæ²¡æœ‰ç»™å‡ºæ—¶é—´å•ä½ï¼Œé»˜è®¤å•ä½æ˜¯æ¯«ç§’ã€‚å½“scanä¸ºtrueæ—¶ï¼Œæ­¤å±æ€§ç”Ÿæ•ˆã€‚é»˜è®¤çš„æ—¶é—´é—´éš”ä¸º1åˆ†é’Ÿã€‚ --\u0026gt; \u0026lt;!-- debug:å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œå°†æ‰“å°å‡ºlogbackå†…éƒ¨æ—¥å¿—ä¿¡æ¯ï¼Œå®æ—¶æŸ¥çœ‹logbackè¿è¡ŒçŠ¶æ€ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚ --\u0026gt; \u0026lt;configuration debug=\u0026#34;false\u0026#34; scan=\u0026#34;true\u0026#34; scanPeriod=\u0026#34;1000 seconds\u0026#34;\u0026gt; \u0026lt;contextName\u0026gt;logback\u0026lt;/contextName\u0026gt; \u0026lt;!-- nameçš„å€¼æ˜¯å˜é‡çš„åç§°ï¼Œvalueçš„å€¼æ—¶å˜é‡å®šä¹‰çš„å€¼ã€‚é€šè¿‡å®šä¹‰çš„å€¼ä¼šè¢«æ’å…¥åˆ°loggerä¸Šä¸‹æ–‡ä¸­ã€‚å®šä¹‰å˜é‡åï¼Œå¯ä»¥ä½¿â€œ${}â€æ¥ä½¿ç”¨å˜é‡ã€‚ --\u0026gt; \u0026lt;property name=\u0026#34;log.path\u0026#34; value=\u0026#34;./logs\u0026#34;/\u0026gt; \u0026lt;springProperty scope=\u0026#34;context\u0026#34; name=\u0026#34;spring.application.name\u0026#34; source=\u0026#34;spring.application.name\u0026#34; defaultValue=\u0026#34;app\u0026#34;/\u0026gt; \u0026lt;!-- å½©è‰²æ—¥å¿— --\u0026gt; \u0026lt;!-- å½©è‰²æ—¥å¿—ä¾èµ–çš„æ¸²æŸ“ç±» --\u0026gt; \u0026lt;conversionRule conversionWord=\u0026#34;clr\u0026#34; converterClass=\u0026#34;org.springframework.boot.logging.logback.ColorConverter\u0026#34;/\u0026gt; \u0026lt;conversionRule conversionWord=\u0026#34;wex\u0026#34; converterClass=\u0026#34;org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter\u0026#34;/\u0026gt; \u0026lt;conversionRule conversionWord=\u0026#34;wEx\u0026#34; converterClass=\u0026#34;org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;CONSOLE_LOG_PATTERN\u0026#34; value=\u0026#34;${CONSOLE_LOG_PATTERN:-%clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} %clr([%X{tid}]){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;CONSOLE_LOG_CHARSET\u0026#34; value=\u0026#34;${CONSOLE_LOG_CHARSET:-${file.encoding:-UTF-8}}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;CONSOLE_LOG_THRESHOLD\u0026#34; value=\u0026#34;${CONSOLE_LOG_THRESHOLD:-TRACE}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;FILE_LOG_PATTERN\u0026#34; value=\u0026#34;${FILE_LOG_PATTERN:-%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}} [%X{tid}] ${LOG_LEVEL_PATTERN:-%5p} ${PID:- } --- [%t] %-40.40logger{39} : %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;FILE_LOG_CHARSET\u0026#34; value=\u0026#34;${FILE_LOG_CHARSET:-${file.encoding:-UTF-8}}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;FILE_LOG_THRESHOLD\u0026#34; value=\u0026#34;${FILE_LOG_THRESHOLD:-TRACE}\u0026#34;/\u0026gt; \u0026lt;appender name=\u0026#34;CONSOLE\u0026#34; class=\u0026#34;ch.qos.logback.core.ConsoleAppender\u0026#34;\u0026gt; \u0026lt;filter class=\u0026#34;ch.qos.logback.classic.filter.ThresholdFilter\u0026#34;\u0026gt; \u0026lt;level\u0026gt;trace\u0026lt;/level\u0026gt; \u0026lt;/filter\u0026gt; \u0026lt;encoder class=\u0026#34;ch.qos.logback.classic.encoder.PatternLayoutEncoder\u0026#34;\u0026gt; \u0026lt;charset\u0026gt;${CONSOLE_LOG_CHARSET}\u0026lt;/charset\u0026gt; \u0026lt;Pattern\u0026gt;${CONSOLE_LOG_PATTERN}\u0026lt;/Pattern\u0026gt; \u0026lt;/encoder\u0026gt; \u0026lt;/appender\u0026gt; \u0026lt;appender name=\u0026#34;LOG_FILE\u0026#34; class=\u0026#34;ch.qos.logback.core.rolling.RollingFileAppender\u0026#34;\u0026gt; \u0026lt;!-- æ­£åœ¨è®°å½•çš„æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„åŠæ–‡ä»¶å --\u0026gt; \u0026lt;file\u0026gt;${log.path}/${spring.application.name}.log\u0026lt;/file\u0026gt; \u0026lt;!--æ—¥å¿—æ–‡ä»¶è¾“å‡ºæ ¼å¼--\u0026gt; \u0026lt;encoder class=\u0026#34;ch.qos.logback.core.encoder.LayoutWrappingEncoder\u0026#34;\u0026gt; \u0026lt;charset\u0026gt;${FILE_LOG_CHARSET}\u0026lt;/charset\u0026gt; \u0026lt;/encoder\u0026gt; \u0026lt;encoder class=\u0026#34;ch.qos.logback.classic.encoder.PatternLayoutEncoder\u0026#34;\u0026gt; \u0026lt;pattern\u0026gt;${FILE_LOG_PATTERN}\u0026lt;/pattern\u0026gt; \u0026lt;/encoder\u0026gt; \u0026lt;!-- æ—¥å¿—è®°å½•å™¨çš„æ»šåŠ¨ç­–ç•¥ï¼ŒæŒ‰æ—¥æœŸï¼ŒæŒ‰å¤§å°è®°å½• --\u0026gt; \u0026lt;rollingPolicy class=\u0026#34;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\u0026#34;\u0026gt; \u0026lt;fileNamePattern\u0026gt;${log.path}/${spring.application.name}-%d{yyyy-MM-dd}.%i.zip\u0026lt;/fileNamePattern\u0026gt; \u0026lt;maxFileSize\u0026gt;100mb\u0026lt;/maxFileSize\u0026gt; \u0026lt;!-- é»˜è®¤æƒ…å†µä¸‹ï¼ŒmaxHistoryè®¾ç½®ä¸ºé›¶ï¼Œå³é»˜è®¤æƒ…å†µä¸‹ä¸åˆ é™¤å­˜æ¡£--\u0026gt; \u0026lt;maxHistory\u0026gt;0\u0026lt;/maxHistory\u0026gt; \u0026lt;/rollingPolicy\u0026gt; \u0026lt;filter class=\u0026#34;ch.qos.logback.classic.filter.ThresholdFilter\u0026#34;\u0026gt; \u0026lt;level\u0026gt;trace\u0026lt;/level\u0026gt; \u0026lt;/filter\u0026gt; \u0026lt;/appender\u0026gt; \u0026lt;!-- ä¸ä¸¢å¤±æ—¥å¿—.é»˜è®¤çš„,å¦‚æœé˜Ÿåˆ—çš„80%å·²æ»¡,åˆ™ä¼šä¸¢å¼ƒTRACTã€DEBUGã€INFOçº§åˆ«çš„æ—¥å¿— --\u0026gt; \u0026lt;!-- æ›´æ”¹é»˜è®¤çš„é˜Ÿåˆ—çš„æ·±åº¦,è¯¥å€¼ä¼šå½±å“æ€§èƒ½.é»˜è®¤å€¼ä¸º256 --\u0026gt; \u0026lt;!-- æ·»åŠ é™„åŠ çš„appender,æœ€å¤šåªèƒ½æ·»åŠ ä¸€ä¸ª --\u0026gt; \u0026lt;appender name=\u0026#34;LOG_ASYNC\u0026#34; class=\u0026#34;ch.qos.logback.classic.AsyncAppender\u0026#34;\u0026gt; \u0026lt;discardingThreshold\u0026gt;0\u0026lt;/discardingThreshold\u0026gt; \u0026lt;queueSize\u0026gt;256\u0026lt;/queueSize\u0026gt; \u0026lt;includeCallerData\u0026gt;true\u0026lt;/includeCallerData\u0026gt; \u0026lt;appender-ref ref=\u0026#34;LOG_FILE\u0026#34;/\u0026gt; \u0026lt;/appender\u0026gt; \u0026lt;!-- additivityæ˜¯å¦ä¼ é€’--\u0026gt; \u0026lt;logger name=\u0026#34;top.wei.oauth2server\u0026#34; level=\u0026#34;info\u0026#34; additivity=\u0026#34;false\u0026#34;\u0026gt; \u0026lt;!-- æŒ‡å®šè¾“å‡ºçš„appender --\u0026gt; \u0026lt;appender-ref ref=\u0026#34;CONSOLE\u0026#34;/\u0026gt; \u0026lt;appender-ref ref=\u0026#34;LOG_ASYNC\u0026#34;/\u0026gt; \u0026lt;/logger\u0026gt; \u0026lt;logger name=\u0026#34;org.springframework.security\u0026#34; level=\u0026#34;trace\u0026#34; additivity=\u0026#34;false\u0026#34;\u0026gt; \u0026lt;!-- æŒ‡å®šè¾“å‡ºçš„appender --\u0026gt; \u0026lt;appender-ref ref=\u0026#34;CONSOLE\u0026#34;/\u0026gt; \u0026lt;appender-ref ref=\u0026#34;LOG_ASYNC\u0026#34;/\u0026gt; \u0026lt;/logger\u0026gt; \u0026lt;!-- sqlæ—¥å¿—--\u0026gt; \u0026lt;logger name=\u0026#34;top.wei.oauth2server.mapper\u0026#34; level=\u0026#34;debug\u0026#34; additivity=\u0026#34;false\u0026#34;\u0026gt; \u0026lt;!-- æŒ‡å®šè¾“å‡ºçš„appender --\u0026gt; \u0026lt;appender-ref ref=\u0026#34;CONSOLE\u0026#34;/\u0026gt; \u0026lt;appender-ref ref=\u0026#34;LOG_ASYNC\u0026#34;/\u0026gt; \u0026lt;/logger\u0026gt; \u0026lt;root level=\u0026#34;info\u0026#34;\u0026gt; \u0026lt;appender-ref ref=\u0026#34;CONSOLE\u0026#34;/\u0026gt; \u0026lt;appender-ref ref=\u0026#34;LOG_ASYNC\u0026#34;/\u0026gt; \u0026lt;/root\u0026gt; \u0026lt;/configuration\u0026gt; skywalkingæ¨¡æ¿ é€‚ç”¨äºspring boot 3\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;!-- æ—¥å¿—çº§åˆ«ä»ä½åˆ°é«˜åˆ†ä¸ºTRACE \u0026lt; DEBUG \u0026lt; INFO \u0026lt; WARN \u0026lt; ERROR \u0026lt; FATALï¼Œå¦‚æœè®¾ç½®ä¸ºWARNï¼Œåˆ™ä½äºWARNçš„ä¿¡æ¯éƒ½ä¸ä¼šè¾“å‡º --\u0026gt; \u0026lt;!-- scan:å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œé…ç½®æ–‡ä»¶å¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œå°†ä¼šè¢«é‡æ–°åŠ è½½ï¼Œé»˜è®¤å€¼ä¸ºtrue --\u0026gt; \u0026lt;!-- scanPeriod:è®¾ç½®ç›‘æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰ä¿®æ”¹çš„æ—¶é—´é—´éš”ï¼Œå¦‚æœæ²¡æœ‰ç»™å‡ºæ—¶é—´å•ä½ï¼Œé»˜è®¤å•ä½æ˜¯æ¯«ç§’ã€‚å½“scanä¸ºtrueæ—¶ï¼Œæ­¤å±æ€§ç”Ÿæ•ˆã€‚é»˜è®¤çš„æ—¶é—´é—´éš”ä¸º1åˆ†é’Ÿã€‚ --\u0026gt; \u0026lt;!-- debug:å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œå°†æ‰“å°å‡ºlogbackå†…éƒ¨æ—¥å¿—ä¿¡æ¯ï¼Œå®æ—¶æŸ¥çœ‹logbackè¿è¡ŒçŠ¶æ€ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚ --\u0026gt; \u0026lt;configuration debug=\u0026#34;false\u0026#34; scan=\u0026#34;true\u0026#34; scanPeriod=\u0026#34;1000 seconds\u0026#34;\u0026gt; \u0026lt;contextName\u0026gt;logback\u0026lt;/contextName\u0026gt; \u0026lt;!-- nameçš„å€¼æ˜¯å˜é‡çš„åç§°ï¼Œvalueçš„å€¼æ—¶å˜é‡å®šä¹‰çš„å€¼ã€‚é€šè¿‡å®šä¹‰çš„å€¼ä¼šè¢«æ’å…¥åˆ°loggerä¸Šä¸‹æ–‡ä¸­ã€‚å®šä¹‰å˜é‡åï¼Œå¯ä»¥ä½¿â€œ${}â€æ¥ä½¿ç”¨å˜é‡ã€‚ --\u0026gt; \u0026lt;property name=\u0026#34;log.path\u0026#34; value=\u0026#34;./logs\u0026#34;/\u0026gt; \u0026lt;springProperty scope=\u0026#34;context\u0026#34; name=\u0026#34;spring.application.name\u0026#34; source=\u0026#34;spring.application.name\u0026#34; defaultValue=\u0026#34;app\u0026#34;/\u0026gt; \u0026lt;!-- å½©è‰²æ—¥å¿— --\u0026gt; \u0026lt;!-- å½©è‰²æ—¥å¿—ä¾èµ–çš„æ¸²æŸ“ç±» --\u0026gt; \u0026lt;conversionRule conversionWord=\u0026#34;clr\u0026#34; converterClass=\u0026#34;org.springframework.boot.logging.logback.ColorConverter\u0026#34;/\u0026gt; \u0026lt;conversionRule conversionWord=\u0026#34;wex\u0026#34; converterClass=\u0026#34;org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter\u0026#34;/\u0026gt; \u0026lt;conversionRule conversionWord=\u0026#34;wEx\u0026#34; converterClass=\u0026#34;org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;CONSOLE_LOG_PATTERN\u0026#34; value=\u0026#34;${CONSOLE_LOG_PATTERN:-%clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} %clr([%X{tid}]){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;CONSOLE_LOG_CHARSET\u0026#34; value=\u0026#34;${CONSOLE_LOG_CHARSET:-${file.encoding:-UTF-8}}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;CONSOLE_LOG_THRESHOLD\u0026#34; value=\u0026#34;${CONSOLE_LOG_THRESHOLD:-TRACE}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;FILE_LOG_PATTERN\u0026#34; value=\u0026#34;${FILE_LOG_PATTERN:-%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}} [%X{tid}] ${LOG_LEVEL_PATTERN:-%5p} ${PID:- } --- [%t] %-40.40logger{39} : %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;FILE_LOG_CHARSET\u0026#34; value=\u0026#34;${FILE_LOG_CHARSET:-${file.encoding:-UTF-8}}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;FILE_LOG_THRESHOLD\u0026#34; value=\u0026#34;${FILE_LOG_THRESHOLD:-TRACE}\u0026#34;/\u0026gt; \u0026lt;appender name=\u0026#34;CONSOLE\u0026#34; class=\u0026#34;ch.qos.logback.core.ConsoleAppender\u0026#34;\u0026gt; \u0026lt;filter class=\u0026#34;ch.qos.logback.classic.filter.ThresholdFilter\u0026#34;\u0026gt; \u0026lt;level\u0026gt;trace\u0026lt;/level\u0026gt; \u0026lt;/filter\u0026gt; \u0026lt;encoder class=\u0026#34;ch.qos.logback.core.encoder.LayoutWrappingEncoder\u0026#34;\u0026gt; \u0026lt;charset\u0026gt;${CONSOLE_LOG_CHARSET}\u0026lt;/charset\u0026gt; \u0026lt;layout class=\u0026#34;org.apache.skywalking.apm.toolkit.log.logback.v1.x.mdc.TraceIdMDCPatternLogbackLayout\u0026#34;\u0026gt; \u0026lt;Pattern\u0026gt;${CONSOLE_LOG_PATTERN}\u0026lt;/Pattern\u0026gt; \u0026lt;/layout\u0026gt; \u0026lt;/encoder\u0026gt; \u0026lt;/appender\u0026gt; \u0026lt;appender name=\u0026#34;LOG_FILE\u0026#34; class=\u0026#34;ch.qos.logback.core.rolling.RollingFileAppender\u0026#34;\u0026gt; \u0026lt;!-- æ­£åœ¨è®°å½•çš„æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„åŠæ–‡ä»¶å --\u0026gt; \u0026lt;file\u0026gt;${log.path}/${spring.application.name}.log\u0026lt;/file\u0026gt; \u0026lt;!--æ—¥å¿—æ–‡ä»¶è¾“å‡ºæ ¼å¼--\u0026gt; \u0026lt;encoder class=\u0026#34;ch.qos.logback.core.encoder.LayoutWrappingEncoder\u0026#34;\u0026gt; \u0026lt;charset\u0026gt;${FILE_LOG_CHARSET}\u0026lt;/charset\u0026gt; \u0026lt;layout class=\u0026#34;org.apache.skywalking.apm.toolkit.log.logback.v1.x.mdc.TraceIdMDCPatternLogbackLayout\u0026#34;\u0026gt; \u0026lt;pattern\u0026gt;${FILE_LOG_PATTERN}\u0026lt;/pattern\u0026gt; \u0026lt;/layout\u0026gt; \u0026lt;/encoder\u0026gt; \u0026lt;!-- æ—¥å¿—è®°å½•å™¨çš„æ»šåŠ¨ç­–ç•¥ï¼ŒæŒ‰æ—¥æœŸï¼ŒæŒ‰å¤§å°è®°å½• --\u0026gt; \u0026lt;rollingPolicy class=\u0026#34;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\u0026#34;\u0026gt; \u0026lt;fileNamePattern\u0026gt;${log.path}/${spring.application.name}-%d{yyyy-MM-dd}.%i.zip\u0026lt;/fileNamePattern\u0026gt; \u0026lt;maxFileSize\u0026gt;100mb\u0026lt;/maxFileSize\u0026gt; \u0026lt;!-- é»˜è®¤æƒ…å†µä¸‹ï¼ŒmaxHistoryè®¾ç½®ä¸ºé›¶ï¼Œå³é»˜è®¤æƒ…å†µä¸‹ä¸åˆ é™¤å­˜æ¡£--\u0026gt; \u0026lt;maxHistory\u0026gt;0\u0026lt;/maxHistory\u0026gt; \u0026lt;/rollingPolicy\u0026gt; \u0026lt;filter class=\u0026#34;ch.qos.logback.classic.filter.ThresholdFilter\u0026#34;\u0026gt; \u0026lt;level\u0026gt;trace\u0026lt;/level\u0026gt; \u0026lt;/filter\u0026gt; \u0026lt;/appender\u0026gt; \u0026lt;!-- ä¸ä¸¢å¤±æ—¥å¿—.é»˜è®¤çš„,å¦‚æœé˜Ÿåˆ—çš„80%å·²æ»¡,åˆ™ä¼šä¸¢å¼ƒTRACTã€DEBUGã€INFOçº§åˆ«çš„æ—¥å¿— --\u0026gt; \u0026lt;!-- æ›´æ”¹é»˜è®¤çš„é˜Ÿåˆ—çš„æ·±åº¦,è¯¥å€¼ä¼šå½±å“æ€§èƒ½.é»˜è®¤å€¼ä¸º256 --\u0026gt; \u0026lt;!-- æ·»åŠ é™„åŠ çš„appender,æœ€å¤šåªèƒ½æ·»åŠ ä¸€ä¸ª --\u0026gt; \u0026lt;appender name=\u0026#34;LOG_ASYNC\u0026#34; class=\u0026#34;ch.qos.logback.classic.AsyncAppender\u0026#34;\u0026gt; \u0026lt;discardingThreshold\u0026gt;0\u0026lt;/discardingThreshold\u0026gt; \u0026lt;queueSize\u0026gt;256\u0026lt;/queueSize\u0026gt; \u0026lt;includeCallerData\u0026gt;true\u0026lt;/includeCallerData\u0026gt; \u0026lt;appender-ref ref=\u0026#34;LOG_FILE\u0026#34;/\u0026gt; \u0026lt;/appender\u0026gt; \u0026lt;!-- skyWalkingæ—¥å¿—é‡‡é›† --\u0026gt; \u0026lt;appender name=\u0026#34;APM_LOG\u0026#34; class=\u0026#34;org.apache.skywalking.apm.toolkit.log.logback.v1.x.log.GRPCLogClientAppender\u0026#34;\u0026gt; \u0026lt;encoder class=\u0026#34;ch.qos.logback.core.encoder.LayoutWrappingEncoder\u0026#34;\u0026gt; \u0026lt;charset\u0026gt;${FILE_LOG_CHARSET}\u0026lt;/charset\u0026gt; \u0026lt;layout class=\u0026#34;org.apache.skywalking.apm.toolkit.log.logback.v1.x.mdc.TraceIdMDCPatternLogbackLayout\u0026#34;\u0026gt; \u0026lt;Pattern\u0026gt;${FILE_LOG_PATTERN}\u0026lt;/Pattern\u0026gt; \u0026lt;/layout\u0026gt; \u0026lt;/encoder\u0026gt; \u0026lt;!-- mdcæ¥å…¥skywalking--\u0026gt; \u0026lt;!-- æ­¤æ—¥å¿—æ–‡ä»¶åªè®°å½•infoçº§åˆ«çš„ æ­¤é…ç½®ä¸é€‚ç”¨skywalking å› ä¸ºonMatch onMismatch ä¸¤ä¸ªå­—æ®µ--\u0026gt; \u0026lt;!-- \u0026lt;filter class=\u0026#34;ch.qos.logback.classic.filter.LevelFilter\u0026#34;\u0026gt;--\u0026gt; \u0026lt;!-- \u0026lt;level\u0026gt;info\u0026lt;/level\u0026gt;--\u0026gt; \u0026lt;!-- \u0026lt;onMatch\u0026gt;ACCEPT\u0026lt;/onMatch\u0026gt;--\u0026gt; \u0026lt;!-- \u0026lt;onMismatch\u0026gt;DENY\u0026lt;/onMismatch\u0026gt;--\u0026gt; \u0026lt;!-- \u0026lt;/filter\u0026gt;--\u0026gt; \u0026lt;filter class=\u0026#34;ch.qos.logback.classic.filter.ThresholdFilter\u0026#34;\u0026gt; \u0026lt;level\u0026gt;trace\u0026lt;/level\u0026gt; \u0026lt;/filter\u0026gt; \u0026lt;/appender\u0026gt; \u0026lt;!-- additivityæ˜¯å¦ä¼ é€’--\u0026gt; \u0026lt;logger name=\u0026#34;top.wei\u0026#34; level=\u0026#34;info\u0026#34; additivity=\u0026#34;false\u0026#34;\u0026gt; \u0026lt;!-- æŒ‡å®šè¾“å‡ºçš„appender --\u0026gt; \u0026lt;appender-ref ref=\u0026#34;CONSOLE\u0026#34;/\u0026gt; \u0026lt;appender-ref ref=\u0026#34;LOG_ASYNC\u0026#34;/\u0026gt; \u0026lt;appender-ref ref=\u0026#34;APM_LOG\u0026#34;/\u0026gt; \u0026lt;/logger\u0026gt; \u0026lt;!-- \u0026amp;lt;!\u0026amp;ndash; sqlæ—¥å¿—\u0026amp;ndash;\u0026amp;gt;--\u0026gt; \u0026lt;!-- \u0026lt;logger name=\u0026#34;top.wei.oauth2server.mapper\u0026#34; level=\u0026#34;debug\u0026#34; additivity=\u0026#34;false\u0026#34;\u0026gt;--\u0026gt; \u0026lt;!-- \u0026amp;lt;!\u0026amp;ndash; æŒ‡å®šè¾“å‡ºçš„appender \u0026amp;ndash;\u0026amp;gt;--\u0026gt; \u0026lt;!-- \u0026lt;appender-ref ref=\u0026#34;CONSOLE\u0026#34;/\u0026gt;--\u0026gt; \u0026lt;!-- \u0026lt;appender-ref ref=\u0026#34;LOG_ASYNC\u0026#34;/\u0026gt;--\u0026gt; \u0026lt;!-- \u0026lt;appender-ref ref=\u0026#34;APM_LOG\u0026#34;/\u0026gt;--\u0026gt; \u0026lt;!-- \u0026lt;/logger\u0026gt;--\u0026gt; \u0026lt;root level=\u0026#34;info\u0026#34;\u0026gt; \u0026lt;appender-ref ref=\u0026#34;CONSOLE\u0026#34;/\u0026gt; \u0026lt;appender-ref ref=\u0026#34;LOG_ASYNC\u0026#34;/\u0026gt; \u0026lt;appender-ref ref=\u0026#34;APM_LOG\u0026#34;/\u0026gt; \u0026lt;/root\u0026gt; \u0026lt;/configuration\u0026gt; ","date":"2023-03-15T15:46:24.022Z","permalink":"https://wlngo.github.io/archives/springboot-de-logbackxml/","title":"Spring boot çš„logback.xml"},{"content":"oap 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 docker run --name oap --restart always -d \\ -e SW_STORAGE=elasticsearch \\ -e SW_STORAGE_ES_CLUSTER_NODES=10.0.0.2:9200 \\ -e SW_ES_USER=elastic -e SW_ES_PASSWORD=å¯†ç  \\ -e SW_CORE_GRPC_SSL_ENABLED=true \\ -e SW_CORE_GRPC_SSL_KEY_PATH=/skywalking/config/tls/server.pem \\ -e SW_CORE_GRPC_SSL_CERT_CHAIN_PATH=/skywalking/config/tls/server.crt \\ -e SW_CORE_GRPC_SSL_TRUSTED_CA_PATH=/skywalking/config/tls/ca.crt \\ -e JAVA_OPTS=\u0026#34;-Xms2048m -Xmx2048m\u0026#34; \\ -v /opt/oap/tls/:/skywalking/config/tls/ \\ -p 11800:11800 -p 12800:12800 \\ -e TZ=Asia/Shanghai \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ apache/skywalking-oap-server:9.7.0-java17 agent.instance_uuid\nui 1 2 3 4 5 6 7 docker run --name oap-ui --restart always -d \\ -p 8380:8080 \\ -e SW_OAP_ADDRESS=http://10.0.0.2:12800 \\ -e TZ=Asia/Shanghai \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ apache/skywalking-ui:9.7.0-java17 ","date":"2023-03-14T10:37:04.567Z","permalink":"https://wlngo.github.io/archives/skywalking9%E5%AE%89%E8%A3%85/","title":"SkyWalking 9 å®‰è£…"},{"content":" 1 2 3 4 5 6 7 8 9 10 11 12 mkdir -p $JFROG_HOME/artifactory-jcr mkdir -p $JFROG_HOME/artifactory-oss mkdir -p $JFROG_HOME/artifactory-oss/var/etc/ cd $JFROG_HOME/artifactory-oss/var/etc/ touch ./system.yaml chown -R 1030:1030 $JFROG_HOME/artifactory-oss/var mkdir -p $JFROG_HOME/artifactory-jcr/var/etc/ cd $JFROG_HOME/artifactory-jcr/var/etc/ touch ./system.yaml chown -R 1030:1030 $JFROG_HOME/artifactory-jcr/var docker run --restart=always --name artifactory-oss -v $JFROG_HOME/artifactory-oss/var/:/var/opt/jfrog/artifactory -d -p 8010:8081 -p 8020:8082 releases-docker.jfrog.io/jfrog/artifactory-oss:7.49.10 docker run --restart=always --name artifactory-jcr -v $JFROG_HOME/artifactory-jcr/var/:/var/opt/jfrog/artifactory -d -p 8030:8081 -p 8040:8082 releases-docker.jfrog.io/jfrog/artifactory-jcr:7.49.10 ","date":"2023-03-14T10:01:17.05Z","permalink":"https://wlngo.github.io/archives/jfrog-de-oss-he-jrc-an-zhuang/","title":"jfrogçš„osså’ŒJRCå®‰è£…"},{"content":" 1 redis-cli -c -p 6379 -a å¯†ç -x set mini-file-http-serve-noMatchRegex \u0026lt; noMatchRegex.txt ","date":"2023-02-28T10:58:23.707Z","permalink":"https://wlngo.github.io/archives/redisvalue-xie-ru-wen-jian/","title":"redis value å†™å…¥æ–‡ä»¶"},{"content":"æŸ¥çœ‹å½“å‰èº«ä»½è®¤è¯\n1 getAcl / Digest æ˜¯æœ€å¸¸ç”¨çš„æƒé™æ§åˆ¶æ¨¡å¼ï¼Œä¹Ÿæ›´ç¬¦åˆæˆ‘ä»¬å¯¹äºæƒé™æ§åˆ¶çš„è®¤è¯†ï¼Œå…¶ç±»ä¼¼äº username:password å½¢å¼çš„æƒé™æ ‡è¯†æ¥è¿›è¡Œæƒé™é…ç½®ï¼Œä¾¿äºåŒºåˆ†ä¸åŒåº”ç”¨æ¥è¿›è¡Œæƒé™æ§åˆ¶ã€‚\nå½“æˆ‘ä»¬é€šè¿‡ username:password å½¢å¼é…ç½®äº†æƒé™æ ‡è¯†ã€‚è¿™é‡Œçš„å¯†ç æ˜¯å¯†æ–‡ï¼ŒZooKeeper ä¼šå¯¹å…¶å…ˆåè¿›è¡Œä¸¤æ¬¡ç¼–ç å¤„ç†ï¼Œåˆ†åˆ«æ˜¯SHA-1ç®—æ³•åŠ å¯†å’ŒBASE64ç¼–ç ï¼Œåœ¨ SHELL ä¸­å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤è®¡ç®—ï¼š\n1 echo -n\u0026lt;user\u0026gt;:\u0026lt;password\u0026gt; | openssl dgst -binary -sha1 | openssl base64 ä¾‹å­ï¼š\n1 setAcl /test/digest-node-1 digest:user-1:1g4T1B5w+se9ntA6Ckp90uPaJ30=:crdwa ","date":"2023-02-27T11:24:41.165Z","permalink":"https://wlngo.github.io/archives/zookeeper-quan-xian-pei-zhi/","title":"zookeeper æƒé™é…ç½®"},{"content":" 1 docker update --memory 1g --memory-swap -1 jenkins ","date":"2023-02-27T09:37:02.54Z","permalink":"https://wlngo.github.io/archives/docker-xian-zhi-nei-cun/","title":"docker é™åˆ¶å†…å­˜"},{"content":"ä¿å­˜æ•°æ®\n1 sync cacheé‡Šæ”¾ï¼š To free pagecache:\n1 echo 1 \u0026gt; /proc/sys/vm/drop_caches ","date":"2023-02-18T18:53:02.053Z","permalink":"https://wlngo.github.io/archives/qing-li-xi-tong-huan-cun/","title":"æ¸…ç†ç³»ç»Ÿç¼“å­˜"},{"content":"å¯åŠ¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 docker run -d -p 9000:9000 -p 9050:9050 \\ --name minio --restart=always \\ -e \u0026#34;MINIO_SERVER_URL=https://wlngo.top:9000\u0026#34; \\ -e \u0026#34;MINIO_ROOT_USER=è´¦å·\u0026#34; \\ -e \u0026#34;MINIO_ROOT_PASSWORD=å¯†ç \u0026#34; \\ -e \u0026#34;MINIO_BROWSER_REDIRECT_URL=https://wlngo.top:9050\u0026#34; \\ -e \u0026#34;MINIO_DOMAIN\u0026#34;=wlngo.top \\ -v /var/opt/minio/data:/data \\ -v /opt/minio/config:/root/.minio \\ -e TZ=Asia/Shanghai \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ quay.io/minio/minio server \\ /data --console-address \u0026#34;:9050\u0026#34; 1 2 3 4 5 6 7 8 9 10 docker run -d -p 9000:9000 -p 9050:9050 \\ --name minio --restart=always \\ -e \u0026#34;MINIO_ROOT_USER=è´¦å·\u0026#34; \\ -e \u0026#34;MINIO_ROOT_PASSWORD=å¯†ç !\u0026#34; \\ -e \u0026#34;MINIO_DOMAIN\u0026#34;=wlngo.top \\ -v /opt/minio/data:/data \\ -v /opt/minio/config:/root/.minio \\ -e TZ=Asia/Shanghai \\ quay.io/minio/minio server \\ /data --console-address \u0026#34;:9050\u0026#34; nginx\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 upstream minio_s3 { least_conn; server 192.168.123.124:9000; } upstream minio_console { least_conn; server 192.168.123.124:9050; } server { listen 9000 ssl; listen [::]:9000 ssl; # Allow special characters in headers ignore_invalid_headers off; # Allow any size file to be uploaded. # Set to a value such as 1000m; to restrict file size to a specific value client_max_body_size 0; # Disable buffering proxy_buffering off; proxy_request_buffering off; #è¯·å¡«å†™è¯ä¹¦æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ ssl_certificate /etc/nginx/ssl/wlngo.top_nginx/wlngo.top_bundle.crt; #è¯·å¡«å†™ç§é’¥æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ ssl_certificate_key /etc/nginx/ssl/wlngo.top_nginx/wlngo.top.key; ssl_session_timeout 5m; #è¯·æŒ‰ç…§ä»¥ä¸‹åè®®é…ç½® ssl_protocols TLSv1.2 TLSv1.3; #è¯·æŒ‰ç…§ä»¥ä¸‹å¥—ä»¶é…ç½®ï¼Œé…ç½®åŠ å¯†å¥—ä»¶ï¼Œå†™æ³•éµå¾ª openssl æ ‡å‡†ã€‚ ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE; ssl_prefer_server_ciphers on; location / { proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_connect_timeout 300; # Default is HTTP/1, keepalive is only enabled in HTTP/1.1 proxy_http_version 1.1; proxy_set_header Connection \u0026#34;\u0026#34;; chunked_transfer_encoding off; proxy_pass http://minio_s3; # This uses the upstream directive definition to load balance } } server { listen 9050 ssl; listen [::]:9050 ssl; # Allow special characters in headers ignore_invalid_headers off; # Allow any size file to be uploaded. # Set to a value such as 1000m; to restrict file size to a specific value client_max_body_size 0; # Disable buffering proxy_buffering off; proxy_request_buffering off; #è¯·å¡«å†™è¯ä¹¦æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ ssl_certificate /etc/nginx/ssl/wlngo.top_nginx/wlngo.top_bundle.crt; #è¯·å¡«å†™ç§é’¥æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ ssl_certificate_key /etc/nginx/ssl/wlngo.top_nginx/wlngo.top.key; ssl_session_timeout 5m; #è¯·æŒ‰ç…§ä»¥ä¸‹åè®®é…ç½® ssl_protocols TLSv1.2 TLSv1.3; #è¯·æŒ‰ç…§ä»¥ä¸‹å¥—ä»¶é…ç½®ï¼Œé…ç½®åŠ å¯†å¥—ä»¶ï¼Œå†™æ³•éµå¾ª openssl æ ‡å‡†ã€‚ ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE; ssl_prefer_server_ciphers on; location / { proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header X-NginX-Proxy true; # This is necessary to pass the correct IP to be hashed real_ip_header X-Real-IP; proxy_connect_timeout 300; # To support websocket proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;upgrade\u0026#34;; chunked_transfer_encoding off; proxy_pass http://minio_console/; # This uses the upstream directive definition to load balance } } https 1.è¯ä¹¦å‡†å¤‡ å°†ç”³è¯·çš„SSLè¯ä¹¦ .keyç»“å°¾çš„é‡å‘½åä¸ºï¼šprivate.keyå’Œ .crtç»“å°¾çš„é‡å‘½åä¸ºï¼špublic.crt åˆ«é—®ä¸ºä»€ä¹ˆï¼Œå®˜æ–¹è§„å®šï¼Œä¸ä¿¡è‡ªå·±çœ‹å®˜æ–¹æ–‡æ¡£ï¼šhttps://min.io/docs/minio/linux/operations/network-encryption.html?ref=docs-redirect ç„¶åå°†private.keyå’Œpublic.crtä¸¤ä¸ªæ–‡ä»¶æ”¾åˆ°MinIOç›®å½•certsä¸‹é¢ï¼š/ä½ çš„minioç›®å½•/config/certs\nç›‘æ§ 1 docker run -it --entrypoint=/bin/sh minio/mc 1 mc alias set myminio https://www.weiliangning.work:9000 è´¦å· å¯†ç  1 mc admin prometheus generate myminio ","date":"2023-02-16T17:01:22.928Z","permalink":"https://wlngo.github.io/archives/docker%E5%AE%89%E8%A3%85minio/","title":"docker å®‰è£…miniO"},{"content":" 1 2 3 4 5 6 7 8 9 10 11 12 docker run -d -p 9090:9090 --name prometheus \\ -e TZ=Asia/Shanghai \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ -v /opt/prometheus/config/prometheus.yml:/etc/prometheus/prometheus.yml \\ -v /var/opt/prometheus/data:/prometheus \\ prom/prometheus \\ --config.file=/etc/prometheus/prometheus.yml \\ --storage.tsdb.path=/prometheus \\ --web.console.libraries=/usr/share/prometheus/console_libraries \\ --web.enable-admin-api \\ --web.enable-lifecycle \u0026ldquo;\u0026ndash;config.file=/etc/prometheus/prometheus.yml\u0026rdquo; \u0026ldquo;\u0026ndash;storage.tsdb.path=/prometheus\u0026rdquo; \u0026ldquo;\u0026ndash;storage.tsdb.retention=24h\u0026rdquo; \u0026ldquo;\u0026ndash;web.enable-admin-api\u0026rdquo; # æ§åˆ¶å¯¹admin HTTP APIçš„è®¿é—®ï¼Œå…¶ä¸­åŒ…æ‹¬åˆ é™¤æ—¶é—´åºåˆ—ç­‰åŠŸèƒ½ \u0026ldquo;\u0026ndash;web.enable-lifecycle\u0026rdquo; node linux ç›‘æ§ 1 2 3 4 5 6 7 docker run -d -p 9100:9100 --name node-exporter --restart=always --net=\u0026#34;host\u0026#34; --pid=\u0026#34;host\u0026#34; \\ -v \u0026#34;/:/host:ro,rslave\u0026#34; \\ -e TZ=Asia/Shanghai \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ quay.io/prometheus/node-exporter:latest \\ --path.rootfs=/host mysql ç›‘æ§ 1 2 3 4 5 6 7 8 9 docker run -d --name mysqld-exporter --restart=always \\ -p 9104:9104 \\ -v /opt/mysqld-exporter/config/:/opt/mysqld-exporter/config/ \\ -e TZ=Asia/Shanghai \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ prom/mysqld-exporter:main \\ --mysqld.address=192.168.123.124:3306 \\ --config.my-cnf=/opt/mysqld-exporter/config/.my.cnf ","date":"2023-01-31T09:49:46.939Z","permalink":"https://wlngo.github.io/archives/docker%E5%AE%89%E8%A3%85prometheus/","title":"dockerå®‰è£…prometheus"},{"content":"ä¸‹è½½rocketmqé•œåƒ 1 docker pull -v apache/rocketmq:5.1.3 rocketmq-nameServer 1 2 3 4 5 6 docker run -d --name rocketmq-nameServer -p 9876:9876 -p 9878:9878 \\ -e JAVA_OPT_EXT=\u0026#34;-Xms512m -Xmx512m\u0026#34; \\ -v /opt/rocketmq/nameServer/logs:/home/rocketmq/logs \\ -v /opt/rocketmq/nameServer/conf/namesrv.conf:/home/rocketmq/rocketmq-5.1.4/conf/namesrvr.conf \\ -v /opt/rocketmq/nameServer/DledgerController:/home/rocketmq/DledgerController \\ --restart=always apache/rocketmq:5.1.4 sh mqnamesrv -c /home/rocketmq/rocketmq-5.1.4/conf/namesrvr.conf rocketmq-broker 1 2 3 4 5 6 7 8 docker run -d --name rocketmq-broker \\ -e JAVA_OPT_EXT=\u0026#34;-Xms2048m -Xmx2048m\u0026#34; \\ -p 10909:10909 -p 10911:10911 -p 10912:10912 \\ -v /opt/rocketmq/broker/logs:/home/rocketmq/logs \\ -v /opt/rocketmq/broker/store/:/home/rocketmq/store/ \\ -v /opt/rocketmq/broker/conf/broker.conf:/home/rocketmq/rocketmq-5.1.4/conf/broker.conf \\ -v /opt/rocketmq/broker/conf/plain_acl.yml:/home/rocketmq/rocketmq-5.1.4/conf/plain_acl.yml \\ --restart=always apache/rocketmq:5.1.4 sh mqbroker -c /home/rocketmq/rocketmq-5.1.4/conf/broker.conf rocketmq-dashboard éœ€è¦è‡ªå·±ç¼–è¯‘æºç  å¼€å¯ç™»å½•å¯†ç  åœ°å€ https://github.com/apache/rocketmq-dashboard\n1 2 3 4 5 6 7 docker run -d --name rocketmq-dashboard --ulimit nofile=1024 \\ -e JAVA_OPTS=\u0026#34;-Xms128m -Xmx128m\u0026#34; \\ -v /opt/rocketmq/rocketmq-dashboard/rocketmq-dashboard-1.0.1-SNAPSHOT.jar:/rocketmq-dashboard.jar \\ -v /opt/rocketmq/rocketmq-dashboard/config:/tmp/rocketmq-console/data/ \\ -v /opt/rocketmq/rocketmq-dashboard/logs:/root/logs \\ -p 8180:8080 --restart=always \\ apacherocketmq/rocketmq-dashboard:latest æƒé™ é»˜è®¤åœ¨confä¸‹çš„plain_acl.yml https://rocketmq.apache.org/zh/docs/bestPractice/03access/#1%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%E7%89%B9%E6%80%A7%E4%BB%8B%E7%BB%8D\n","date":"2023-01-10T15:38:08.812Z","permalink":"https://wlngo.github.io/archives/docker%E5%AE%89%E8%A3%85rocketmq%E9%9B%86%E7%BE%A4/","title":"docker å®‰è£…rocketmqé›†ç¾¤"},{"content":"æ¶ˆè€— CPU èµ„æº stress æ¶ˆè€— CPU èµ„æºçš„æ–¹å¼æ˜¯é€šè¿‡è°ƒç”¨ sqrt å‡½æ•°è®¡ç®—ç”± rand å‡½æ•°äº§ç”Ÿçš„éšæœºæ•°çš„å¹³æ–¹æ ¹å®ç°çš„ã€‚ä¸‹é¢çš„å‘½ä»¤ä¼šäº§ç”Ÿ 32 ä¸ªè¿™æ ·çš„è¿›ç¨‹ä¸æ–­çš„è¿›è¡Œè®¡ç®—\n1 stress -c 32 æ¸©åº¦æ£€æµ‹\n1 sensors ","date":"2023-01-01T19:54:49.762Z","permalink":"https://wlngo.github.io/archives/ya-li-ce-shi-wen-du-jian-ce/","title":"å‹åŠ›æµ‹è¯•æ¸©åº¦æ£€æµ‹"},{"content":"æŸ¥çœ‹å†…å­˜é”™è¯¯\n1 grep [0-9] /sys/devices/system/edac/mc/mc*/csrow*/ch*_ce_count 1 dmesg|grep -i error æŸ¥çœ‹å†…å­˜é€Ÿåº¦\n1 dmidecode -t memory ","date":"2023-01-01T17:55:18.483Z","permalink":"https://wlngo.github.io/archives/nei-cun-jian-ce-ming-ling/","title":"å†…å­˜æ£€æµ‹å‘½ä»¤"},{"content":"å¦‚æœ@Parmå‚æ•°ä¸ºå¯¹è±¡ å¹¶ä¸”ä¸ºå¤šå‚æ•° å¹¶ä¸”ä½¿ç”¨äº†bind å‰©ä½™å‚æ•°å³ä½¿ä¸éœ€è¦bind ä¹Ÿè¦è¿›è¡Œç»‘å®š å¦åˆ™æ¥å—ä¸åˆ°å‚æ•°\n","date":"2022-12-26T15:02:15.902Z","permalink":"https://wlngo.github.io/archives/mybatis-keng/","title":"mybatis å‘"},{"content":"\u003c!DOCTYPE html\u003e 1.1.Â æ§åˆ¶å°ä½¿ç”¨ RocketMQÂ æä¾›æœ‰æ§åˆ¶å°åŠä¸€ç³»åˆ—æ§åˆ¶å°å‘½ä»¤ï¼Œç”¨äºç®¡ç†å‘˜å¯¹ä¸»é¢˜ï¼Œé›†ç¾¤ï¼ŒbrokerÂ ç­‰ä¿¡æ¯çš„ç®¡ç†ï¼›\nç™»å½•æ§åˆ¶å°\né¦–å…ˆè¿›å…¥RocketMQÂ å·¥ç¨‹ï¼Œè¿›å…¥/RocketMQ/bin\nåœ¨è¯¥ç›®å½•ä¸‹æœ‰ä¸ªmqadminÂ è„šæœ¬\næŸ¥çœ‹å¸®åŠ©\nåœ¨mqadminÂ ä¸‹å¯ä»¥æŸ¥çœ‹æœ‰å“ªäº›å‘½ä»¤\nshÂ mqadmin\næŸ¥çœ‹å…·ä½“å‘½ä»¤çš„ä½¿ç”¨\nshÂ mqadminÂ helpÂ å‘½ä»¤åç§°\nä¾‹å¦‚ï¼ŒæŸ¥çœ‹updateTopicÂ çš„ä½¿ç”¨\nshÂ mqadminÂ helpÂ updateTopic\n1.2.Â è¯¦ç»†å‘½ä»¤ 1.2.1.Â åˆ›å»ºTopic æŒ‡ä»¤Â updateTopicÂ ç±»è·¯å¾„Â com.alibaba.rocketmq.tools.command.topic.UpdateTopicSubCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-b\nå¦‚æœ-cä¸ºç©ºï¼Œåˆ™å¿…å¡«\nbrokerÂ åœ°å€ï¼Œè¡¨ç¤ºtopicÂ å»ºåœ¨è¯¥broker\n-c\nå¦‚æœ-bä¸ºç©ºï¼Œåˆ™å¿…å¡«\nclusterÂ åç§°ï¼Œè¡¨ç¤ºtopicÂ å»ºåœ¨è¯¥é›†ç¾¤ï¼ˆé›†ç¾¤å¯é€šè¿‡clusterListÂ æŸ¥è¯¢ï¼‰\n-h\nå¦\næ‰“å°å¸®åŠ©\n-n\næ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n-p\nå¦Â æŒ‡å®šæ–°topicÂ çš„æƒé™é™åˆ¶(Â W|R|WRÂ )\n-rÂ å¦\nå¯è¯»é˜Ÿåˆ—æ•°ï¼ˆé»˜è®¤ä¸º8ï¼‰\n-w\nå¦\nå¯å†™é˜Ÿåˆ—æ•°ï¼ˆé»˜è®¤ä¸º8ï¼‰\n-t\næ˜¯\nopicÂ åç§°ï¼ˆåç§°åªèƒ½ä½¿ç”¨å­—ç¬¦Â ^[a-zA-Z0-9_-]+$Â ï¼‰\n1.2.2.Â åˆ é™¤Topic æŒ‡ä»¤Â deleteTopicÂ ç±»è·¯å¾„Â com.alibaba.rocketmq.tools.command.topic.DeleteTopicSubCommand\nå‚æ•°Â æ˜¯å¦å¿…å¡«\nè¯´æ˜\n-c\næ˜¯\nclusterÂ åç§°ï¼Œè¡¨ç¤ºåˆ é™¤æŸé›†ç¾¤ä¸‹çš„æŸä¸ªtopicÂ ï¼ˆé›†ç¾¤å¯é€šè¿‡clusterListÂ æŸ¥è¯¢ï¼‰\n-h\nå¦\næ‰“å°å¸®åŠ©\n-n\næ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;â€¦\n-t\næ˜¯\ntopicÂ åç§°ï¼ˆåç§°åªèƒ½ä½¿ç”¨å­—ç¬¦Â ^[a-zA-Z0-9_-]+$Â ï¼‰\n1.2.3.Â åˆ›å»ºï¼ˆä¿®è®¢ï¼‰è®¢é˜…ç»„ æŒ‡ä»¤Â updateSubGroupÂ ç±»è·¯å¾„Â com.alibaba.rocketmq.tools.command.consumer.UpdateSubGroupSubCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-b\nå¦‚æœÂ â€“cÂ ä¸ºç©ºï¼Œåˆ™å¿…å¡«\nbrokerÂ åœ°å€ï¼Œè¡¨ç¤ºè®¢é˜…ç»„å»ºåœ¨è¯¥broker\n-c\nå¦‚æœÂ â€“bÂ ä¸ºç©ºï¼Œåˆ™å¿…å¡«\nclusteråç§°ï¼Œè¡¨ç¤ºtopicÂ å»ºåœ¨è¯¥é›†ç¾¤ï¼ˆé›†ç¾¤å¯é€šè¿‡clusterListæŸ¥è¯¢ï¼‰\n-d\nå¦Â æ˜¯å¦å®¹è®¸å¹¿æ’­æ–¹å¼æ¶ˆè´¹\n-g\næ˜¯Â è®¢é˜…ç»„å\n-i\nå¦\nä»å“ªä¸ªbrokerÂ å¼€å§‹æ¶ˆè´¹\n-m\nå¦\næ˜¯å¦å®¹è®¸ä»é˜Ÿåˆ—çš„æœ€å°ä½ç½®å¼€å§‹æ¶ˆè´¹ï¼Œé»˜è®¤ä¼šè®¾ç½®ä¸ºfalse\n-q\nå¦\næ¶ˆè´¹å¤±è´¥çš„æ¶ˆæ¯æ”¾åˆ°ä¸€ä¸ªé‡è¯•é˜Ÿåˆ—ï¼Œæ¯ä¸ªè®¢é˜…ç»„é…ç½®å‡ ä¸ªé‡è¯•é˜Ÿåˆ—\n-rÂ å¦Â é‡è¯•æ¶ˆè´¹æœ€å¤§æ¬¡æ•°ï¼Œè¶…è¿‡åˆ™æŠ•é€’åˆ°æ­»ä¿¡é˜Ÿåˆ—ï¼Œä¸å†æŠ•é€’ï¼Œå¹¶æŠ¥è­¦\n-s\nå¦\næ¶ˆè´¹åŠŸèƒ½æ˜¯å¦å¼€å¯\n-wÂ å¦\nå‘ç°æ¶ˆæ¯å †ç§¯åï¼Œå°†ConsumerÂ çš„æ¶ˆè´¹è¯·æ±‚é‡å®šå‘åˆ°å¦å¤–ä¸€å°SlaveÂ æœºå™¨\n-h\nå¦\næ‰“å°å¸®åŠ©\n-n\næ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.4.Â åˆ é™¤è®¢é˜…ç»„é…ç½® æŒ‡ä»¤Â deleteSubGroupÂ ç±»è·¯å¾„Â com.alibaba.rocketmq.tools.command.consumer.DeleteSubscriptionGroupCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-bÂ å¦‚æœâ€“cÂ ä¸ºç©ºï¼Œåˆ™å¿…å¡«\nbrokerÂ åœ°å€ï¼Œè¡¨ç¤ºè®¢é˜…ç»„å»ºåœ¨è¯¥broker\n-cÂ å¦‚æœâ€“bÂ ä¸ºç©ºï¼Œåˆ™å¿…å¡«\nclusterÂ åç§°ï¼Œè¡¨ç¤ºtopicå»ºåœ¨è¯¥é›†ç¾¤ï¼ˆé›†ç¾¤å¯é€šè¿‡clusterListæŸ¥è¯¢ï¼‰\n-g\næ˜¯\nè®¢é˜…ç»„å\n-h\nå¦\næ‰“å°å¸®åŠ©\n-nÂ æ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.5.Â æ›´æ–°BrokerÂ é…ç½®æ–‡ä»¶ æŒ‡ä»¤Â updateBrokerConfig\nç±»è·¯å¾„\ncom.alibaba.rocketmq.tools.command.broker.UpdateBrokerConfigSubCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-bÂ å¦‚æœâ€“cä¸ºç©ºï¼Œåˆ™å¿…å¡«\nbrokerÂ åœ°å€ï¼Œè¡¨ç¤ºè®¢é˜…ç»„å»ºåœ¨è¯¥broker\n-cÂ å¦‚æœâ€“bÂ ä¸ºç©ºï¼Œåˆ™å¿…å¡«\nclusteråç§°ï¼Œè¡¨ç¤ºtopicÂ å»ºåœ¨è¯¥é›†ç¾¤ï¼ˆé›†ç¾¤å¯é€šè¿‡clusterListæŸ¥è¯¢ï¼‰\n-kÂ æ˜¯\nkeyÂ å€¼\n-v\nå¦\nvalueÂ å€¼\n-h\nå¦\næ‰“å°å¸®åŠ©\n-nÂ æ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.6.Â æŸ¥çœ‹TopicÂ åˆ—è¡¨ä¿¡æ¯ æŒ‡ä»¤Â topicListÂ ç±»è·¯å¾„Â com.alibaba.rocketmq.tools.command.broker.UpdateBrokerConfigSubCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-h\nå¦\næ‰“å°å¸®åŠ©\n-nÂ æ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.7.Â æŸ¥çœ‹TopicÂ è·¯ç”±ä¿¡æ¯ æŒ‡ä»¤Â topicRouteÂ ç±»è·¯å¾„Â com.alibaba.rocketmq.tools.command.topic.TopicRouteSubCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-t\næ˜¯\ntopicÂ åç§°\n-h\nå¦\næ‰“å°å¸®åŠ©\n-nÂ æ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.8.Â æŸ¥çœ‹TopicÂ ç»Ÿè®¡ä¿¡æ¯ æŒ‡ä»¤Â topicStatsÂ ç±»è·¯å¾„\ncom.alibaba.rocketmq.tools.command.topic.TopicStatsSubCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-t\næ˜¯\ntopicÂ åç§°\n-h\nå¦\næ‰“å°å¸®åŠ©\n-nÂ æ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.9.Â æŸ¥çœ‹BrokerÂ ç»Ÿè®¡ä¿¡æ¯ æŒ‡ä»¤Â brokerStatsÂ ç±»è·¯å¾„\ncom.alibaba.rocketmq.tools.command.broker.BrokerStatsSubCommanD\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-b\næ˜¯\nbrokerÂ åœ°å€\n-h\nå¦\næ‰“å°å¸®åŠ©\n-nÂ æ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.10.Â æ ¹æ®æ¶ˆæ¯IDÂ æŸ¥è¯¢æ¶ˆæ¯ æŒ‡ä»¤Â queryMsgByIdÂ ç±»è·¯å¾„\ncom.alibaba.rocketmq.tools.command.message.QueryMsgByIdSubCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-i\næ˜¯\næ¶ˆæ¯id\n-h\nå¦\næ‰“å°å¸®åŠ©\n-nÂ æ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.11.Â æ ¹æ®æ¶ˆæ¯KeyÂ æŸ¥è¯¢æ¶ˆæ¯ æŒ‡ä»¤Â queryMsgByKeyÂ ç±»è·¯å¾„\ncom.alibaba.rocketmq.tools.command.message.QueryMsgByKeySubCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-f\nå¦\nè¢«æŸ¥è¯¢æ¶ˆæ¯çš„æˆªæ­¢æ—¶é—´\n-k\næ˜¯\nmsgKey\n-t\næ˜¯\ntopicÂ åç§°\n-h\nå¦\næ‰“å°å¸®åŠ©\n-n\næ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.12.Â æ ¹æ®OffsetÂ æŸ¥è¯¢æ¶ˆæ¯ æŒ‡ä»¤Â queryMsgByOffset\nç±»è·¯å¾„\ncom.alibaba.rocketmq.tools.command.message.QueryMsgByOffsetSubCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-bÂ æ˜¯\nBrokerÂ åç§°ï¼Œè¡¨ç¤ºè®¢é˜…ç»„å»ºåœ¨è¯¥brokerï¼ˆè¿™é‡Œéœ€è¦æ³¨æ„å¡«å†™çš„æ˜¯brokerÂ çš„åç§°ï¼Œä¸æ˜¯brokerÂ çš„åœ°å€ï¼Œbrokeråç§°å¯ä»¥åœ¨clusterListÂ æŸ¥åˆ°\n-i\næ˜¯\nqueryÂ é˜Ÿåˆ—id\n-o\næ˜¯\noffsetÂ å€¼\n-t\næ˜¯\ntopicÂ åç§°\n-h\nå¦\næ‰“å°å¸®åŠ©\n-n\næ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.13.Â æŸ¥è¯¢ProducerÂ çš„ç½‘ç»œè¿æ¥ è¯¥å‘½ä»¤åªæ‰“å°å½“å‰ä¸clusterÂ è¿æ¥çš„producerÂ ç½‘ç»œè¿æ¥ä¿¡æ¯\næŒ‡ä»¤Â producerConnection\nç±»è·¯å¾„\ncom.alibaba.rocketmq.tools.command.connection.ProducerConnectionSubCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-g\næ˜¯\nç”Ÿäº§è€…æ‰€å±ç»„å\n-t\næ˜¯\ntopicÂ åç§°\n-h\nå¦\næ‰“å°å¸®åŠ©\n-n\næ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.14.Â æŸ¥è¯¢ConsumerÂ çš„ç½‘ç»œè¿æ¥ è¯¥å‘½ä»¤åªæ‰“å°å½“å‰ä¸clusterÂ è¿æ¥çš„consumerÂ ç½‘ç»œè¿æ¥ä¿¡æ¯\næŒ‡ä»¤Â consumerConnection\nç±»è·¯å¾„\ncom.alibaba.rocketmq.tools.command.connection.ConsumerConnectionSubCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-g\næ˜¯\næ¶ˆè´¹è€…æ‰€å±ç»„å\n-h\nå¦\næ‰“å°å¸®åŠ©\n-n\næ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.15.Â æŸ¥çœ‹è®¢é˜…ç»„æ¶ˆè´¹çŠ¶æ€ æŒ‡ä»¤Â consumerProgress\nç±»è·¯å¾„\ncom.alibaba.rocketmq.tools.command.consumer.ConsumerProgressSubCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-g\næ˜¯\næ¶ˆè´¹è€…æ‰€å±ç»„å\n-h\nå¦\næ‰“å°å¸®åŠ©\n-n\næ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.16.Â æŸ¥çœ‹é›†ç¾¤æ¶ˆæ¯ æŒ‡ä»¤Â clusterListÂ ç±»è·¯å¾„\ncom.alibaba.rocketmq.tools.command.cluster.ClusterListSubCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-m\nå¦\næ‰“å°æ›´å¤šä¿¡æ¯\n-h\nå¦\næ‰“å°å¸®åŠ©\n-n\næ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.17.Â æ·»åŠ ï¼ˆæ›´æ–°ï¼‰KVÂ é…ç½®ä¿¡æ¯ æŒ‡ä»¤Â updateKvConfigÂ ç±»è·¯å¾„\ncom.alibaba.rocketmq.tools.command.namesrv.UpdateKvConfigCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-k\næ˜¯\nkeyÂ å€¼\n-v\næ˜¯\nvalueÂ å€¼\n-s\næ˜¯\nNamespaceÂ å€¼\n-h\nå¦\næ‰“å°å¸®åŠ©\n-n\næ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.18.Â åˆ é™¤KVÂ é…ç½®ä¿¡æ¯ æŒ‡ä»¤Â deleteKvConfigÂ ç±»è·¯å¾„\ncom.alibaba.rocketmq.tools.command.namesrv.DeleteKvConfigCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-k\næ˜¯\nkeyÂ å€¼\n-s\næ˜¯\nNamespaceÂ å€¼\n-h\nå¦\næ‰“å°å¸®åŠ©\n-n\næ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.19.Â æ·»åŠ ï¼ˆæ›´æ–°ï¼‰ProjectÂ groupÂ é…ç½®ä¿¡æ¯ æŒ‡ä»¤Â updateProjectGroupÂ ç±»è·¯å¾„Â com.alibaba.rocketmq.tools.command.namesrv.UpdateProjectGroupCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-p\næ˜¯\nprojectÂ groupÂ å\n-i\nå¦\næœåŠ¡å™¨ip\n-h\nå¦\næ‰“å°å¸®åŠ©\n-n\næ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.20.Â åˆ é™¤ProjectÂ groupÂ é…ç½®ä¿¡æ¯ æŒ‡ä»¤Â deleteProjectGroup\nç±»è·¯å¾„\ncom.alibaba.rocketmq.tools.command.namesrv.DeleteProjectGroupCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-p\næ˜¯\nprojectÂ groupÂ å\n-i\nå¦\næœåŠ¡å™¨ip\n-h\nå¦\næ‰“å°å¸®åŠ©\n-n\næ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.21.Â å–å¾—ProjectÂ groupÂ é…ç½®ä¿¡æ¯ æŒ‡ä»¤Â getProjectGroup\nç±»è·¯å¾„\ncom.alibaba.rocketmq.tools.command.namesrv.GetProjectGroupCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-p\næ˜¯\nprojectÂ groupÂ å\n-i\nå¦\næœåŠ¡å™¨ip\n-h\nå¦\næ‰“å°å¸®åŠ©\n-n\næ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.22.Â è®¾ç½®æ¶ˆè´¹è¿›åº¦ æ ¹æ®æ—¶é—´æ¥è®¾ç½®æ¶ˆè´¹è¿›åº¦ï¼Œè®¾ç½®ä¹‹å‰è¦å…³é—­è¿™ä¸ªè®¢é˜…ç»„çš„æ‰€æœ‰consumerï¼Œè®¾ç½®å®Œå†å¯åŠ¨ï¼Œæ–¹å¯ç”Ÿæ•ˆ\næŒ‡ä»¤Â resetOffsetByTime\nç±»è·¯å¾„\ncom.alibaba.rocketmq.tools.command.offset.ResetOffsetByTimeSubCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-f\nå¦\né€šè¿‡æ—¶é—´æˆ³å¼ºåˆ¶å›æ»šï¼ˆtrue|falseï¼‰ï¼Œé»˜è®¤ä¸ºtrue\n-s\næ˜¯\næ—¶é—´æˆ³\n-g\næ˜¯\næ¶ˆè´¹è€…æ‰€å±ç»„å\n-t\næ˜¯\ntopicÂ åç§°\n-h\nå¦\næ‰“å°å¸®åŠ©\n-n\næ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.23.Â æ¸…é™¤ç‰¹å®šBrokeræƒé™ æŒ‡ä»¤Â wipeWritePermÂ ç±»è·¯å¾„\ncom.alibaba.rocketmq.tools.command.namesrv.WipeWritePermSubCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-b\næ˜¯\nbrokerÂ åœ°å€\n-h\nå¦\næ‰“å°å¸®åŠ©\n-n\næ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n1.2.24.Â è·å–Consumeræ¶ˆè´¹è¿›åº¦ è¯¥å‘½ä»¤åªæ‰“å°å½“å‰ä¸clusterÂ è¿æ¥çš„consumerÂ çš„æ¶ˆè´¹è¿›åº¦\næŒ‡ä»¤Â getConsumerStatus\nç±»è·¯å¾„Â com.alibaba.rocketmq.tools.command.offset.GetConsumerStatusCommand\nå‚æ•°\næ˜¯å¦å¿…å¡«\nè¯´æ˜\n-g\næ˜¯\næ¶ˆè´¹è€…æ‰€å±ç»„å\n-t\næ˜¯\næŸ¥è¯¢ä¸»é¢˜\n-i\nå¦\nConsumerÂ å®¢æˆ·ç«¯ip\n-h\nå¦\næ‰“å°å¸®åŠ©\n-n\næ˜¯\nnameserveÂ æœåŠ¡åœ°å€åˆ—è¡¨ï¼Œæ ¼å¼ip:port;ip:port;\u0026hellip;\n","date":"2022-12-23T15:35:01.361Z","permalink":"https://wlngo.github.io/archives/2022-12-23-15-34-59/","title":"mqadmin"},{"content":"yml @ConfigurationProperties æ­£ç¡®å¤„ç† maven\n","date":"2022-12-23T15:26:55.945Z","permalink":"https://wlngo.github.io/archives/springyml-pei-zhi-zhu-jie-chu-li-qi/","title":"spring ymlé…ç½®æ³¨è§£å¤„ç†å™¨"},{"content":"rocketmqå¯è§†åŒ–\n","date":"2022-12-23T15:03:58.742Z","permalink":"https://wlngo.github.io/archives/rocketmq-dashboard/","title":"rocketmq-dashboard"},{"content":"SpringBoot ä¸­å¼‚æ­¥å¤šçº¿ç¨‹çš„MDCæ—¥å¿—è·Ÿè¸ª\n","date":"2022-12-23T14:59:40.962Z","permalink":"https://wlngo.github.io/archives/springboot-zhong-yi-bu-duo-xian-cheng-de-mdc-ri-zhi-gen-zong/","title":"SpringBoot ä¸­å¼‚æ­¥å¤šçº¿ç¨‹çš„MDCæ—¥å¿—è·Ÿè¸ª"},{"content":"å°†æ³¨å…¥çš„Bean æ”¾åœ¨Listæˆ–è€…Mapä¸­:\n1 2 3 4 5 6 7 8 9 10 11 12 /* * springä¼šè‡ªåŠ¨å°† DemoService çš„æ‰€æœ‰å®ç°ç±»beanæ³¨å…¥åˆ°listé›†åˆ */ @Autowired private List\u0026lt;DemoService\u0026gt; demoServices; /* * é€šè¿‡Mapæ³¨å…¥ï¼Œé€šè¿‡ spring bean çš„åç§°ä½œä¸ºkeyåŠ¨æ€è·å–å¯¹åº”å®ä¾‹ */ @Autowired private Map\u0026lt;String, DemoService\u0026gt; demoServiceMap; Springåœ¨æ³¨å…¥é›†åˆç±»çš„åŒæ—¶ï¼Œä¼šå°†é›†åˆæ³›å‹ç±»çš„å®ä¾‹å¡«å…¥é›†åˆä¸­ï¼Œä½œä¸ºé›†åˆçš„åˆå§‹å€¼ã€‚ å¯¹äºlistã€setå¡«å…¥çš„æ˜¯æ³¨å…¥ç±»å‹Springç®¡ç†çš„å®ä¾‹ï¼Œå¯¹äºmapï¼ŒSpringä¼šå°†serviceçš„åå­—ä½œä¸ºkeyï¼Œå¯¹è±¡ä½œä¸ºvalueå°è£…è¿›å…¥Mapã€‚\nè¿™ä¸ªè¿‡ç¨‹çš„æºç åœ¨ org.springframework.beans.factory.support.DefaultListableBeanFactory çš„ doResolveDependency æ–¹æ³•ä¸­è°ƒç”¨äº† resolveMultipleBeans æ–¹æ³•ï¼š\nå¦‚æœæ˜¯æ•°ç»„ï¼Œåˆ™è·å–æ•°ç»„å…ƒç´ ç±»å‹ï¼ŒæŸ¥æ‰¾åŒ¹é…è¯¥ç±»å‹çš„æ‰€æœ‰beanï¼Œè¿”å›ä¸€ä¸ªè¿™äº›beançš„æ•°ç»„ï¼› å¦‚æœè¯¥ç±»å¯èµ‹ç»™Collectionï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªæ¥å£ï¼Œåˆ™è·å–é›†åˆå…ƒç´ ç±»å‹ï¼ŒæŸ¥æ‰¾åŒ¹é…è¯¥ç±»å‹çš„æ‰€æœ‰beanï¼Œè¿”å›ä¸€ä¸ªè¿™äº›beançš„é›†åˆï¼› å¦‚æœè¯¥ç±»å‹æ˜¯Map(æ³¨æ„æ˜¯type == Map.class)ï¼Œä¸”keyæ˜¯Stringç±»å‹ï¼Œåˆ™è·å–Mapçš„valueçš„ç±»å‹ï¼ŒæŸ¥æ‰¾åŒ¹é…è¯¥ç±»å‹çš„æ‰€æœ‰beanï¼Œè¿™æ˜¯ä¸€ä¸ªkeyä¸ºbean nameã€valueä¸ºbeanå®ä¾‹çš„ä¸€ä¸ªMapï¼Œè¿”å›è¿™ä¸ªMapã€‚ å…¶ä»–æƒ…å†µåˆ™æ˜¯æˆ‘ä»¬æ‰€ç†ŸçŸ¥çš„æŒ‰ç±»å‹è‡ªåŠ¨è£…é…è¿‡ç¨‹ã€‚ æºä»£ç å…·ä½“å¦‚ä¸‹(Springç‰ˆæœ¬æ˜¯5.0.2)ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 @Nullable public Object doResolveDependency(DependencyDescriptor descriptor, @Nullable String beanName, @Nullable Set\u0026lt;String\u0026gt; autowiredBeanNames, @Nullable TypeConverter typeConverter) throws BeansException { InjectionPoint previousInjectionPoint = ConstructorResolver.setCurrentInjectionPoint(descriptor); try { Object shortcut = descriptor.resolveShortcut(this); if (shortcut != null) { return shortcut; } Class\u0026lt;?\u0026gt; type = descriptor.getDependencyType(); Object value = getAutowireCandidateResolver().getSuggestedValue(descriptor); if (value != null) { if (value instanceof String) { String strVal = resolveEmbeddedValue((String) value); BeanDefinition bd = (beanName != null \u0026amp;\u0026amp; containsBean(beanName) ? getMergedBeanDefinition(beanName) : null); value = evaluateBeanDefinitionString(strVal, bd); } TypeConverter converter = (typeConverter != null ? typeConverter : getTypeConverter()); return (descriptor.getField() != null ? converter.convertIfNecessary(value, type, descriptor.getField()) : converter.convertIfNecessary(value, type, descriptor.getMethodParameter())); } Object multipleBeans = resolveMultipleBeans(descriptor, beanName, autowiredBeanNames, typeConverter); if (multipleBeans != null) { return multipleBeans; } Map\u0026lt;String, Object\u0026gt; matchingBeans = findAutowireCandidates(beanName, type, descriptor); if (matchingBeans.isEmpty()) { if (isRequired(descriptor)) { raiseNoMatchingBeanFound(type, descriptor.getResolvableType(), descriptor); } return null; } String autowiredBeanName; Object instanceCandidate; if (matchingBeans.size() \u0026gt; 1) { autowiredBeanName = determineAutowireCandidate(matchingBeans, descriptor); if (autowiredBeanName == null) { if (isRequired(descriptor) || !indicatesMultipleBeans(type)) { return descriptor.resolveNotUnique(type, matchingBeans); } else { // In case of an optional Collection/Map, silently ignore a non-unique case: // possibly it was meant to be an empty collection of multiple regular beans // (before 4.3 in particular when we didn\u0026#39;t even look for collection beans). return null; } } instanceCandidate = matchingBeans.get(autowiredBeanName); } else { // We have exactly one match. Map.Entry\u0026lt;String, Object\u0026gt; entry = matchingBeans.entrySet().iterator().next(); autowiredBeanName = entry.getKey(); instanceCandidate = entry.getValue(); } if (autowiredBeanNames != null) { autowiredBeanNames.add(autowiredBeanName); } if (instanceCandidate instanceof Class) { instanceCandidate = descriptor.resolveCandidate(autowiredBeanName, type, this); } Object result = instanceCandidate; if (result instanceof NullBean) { if (isRequired(descriptor)) { raiseNoMatchingBeanFound(type, descriptor.getResolvableType(), descriptor); } result = null; } if (!ClassUtils.isAssignableValue(type, result)) { throw new BeanNotOfRequiredTypeException(autowiredBeanName, type, instanceCandidate.getClass()); } return result; } finally { ConstructorResolver.setCurrentInjectionPoint(previousInjectionPoint); } } @Nullable private Object resolveMultipleBeans(DependencyDescriptor descriptor, @Nullable String beanName, @Nullable Set\u0026lt;String\u0026gt; autowiredBeanNames, @Nullable TypeConverter typeConverter) { Class\u0026lt;?\u0026gt; type = descriptor.getDependencyType(); if (type.isArray()) { Class\u0026lt;?\u0026gt; componentType = type.getComponentType(); ResolvableType resolvableType = descriptor.getResolvableType(); Class\u0026lt;?\u0026gt; resolvedArrayType = resolvableType.resolve(); if (resolvedArrayType != null \u0026amp;\u0026amp; resolvedArrayType != type) { type = resolvedArrayType; componentType = resolvableType.getComponentType().resolve(); } if (componentType == null) { return null; } Map\u0026lt;String, Object\u0026gt; matchingBeans = findAutowireCandidates(beanName, componentType, new MultiElementDescriptor(descriptor)); if (matchingBeans.isEmpty()) { return null; } if (autowiredBeanNames != null) { autowiredBeanNames.addAll(matchingBeans.keySet()); } TypeConverter converter = (typeConverter != null ? typeConverter : getTypeConverter()); Object result = converter.convertIfNecessary(matchingBeans.values(), type); if (getDependencyComparator() != null \u0026amp;\u0026amp; result instanceof Object[]) { Arrays.sort((Object[]) result, adaptDependencyComparator(matchingBeans)); } return result; } else if (Collection.class.isAssignableFrom(type) \u0026amp;\u0026amp; type.isInterface()) { Class\u0026lt;?\u0026gt; elementType = descriptor.getResolvableType().asCollection().resolveGeneric(); if (elementType == null) { return null; } Map\u0026lt;String, Object\u0026gt; matchingBeans = findAutowireCandidates(beanName, elementType, new MultiElementDescriptor(descriptor)); if (matchingBeans.isEmpty()) { return null; } if (autowiredBeanNames != null) { autowiredBeanNames.addAll(matchingBeans.keySet()); } TypeConverter converter = (typeConverter != null ? typeConverter : getTypeConverter()); Object result = converter.convertIfNecessary(matchingBeans.values(), type); if (getDependencyComparator() != null \u0026amp;\u0026amp; result instanceof List) { Collections.sort((List\u0026lt;?\u0026gt;) result, adaptDependencyComparator(matchingBeans)); } return result; } else if (Map.class == type) { ResolvableType mapType = descriptor.getResolvableType().asMap(); Class\u0026lt;?\u0026gt; keyType = mapType.resolveGeneric(0); if (String.class != keyType) { return null; } Class\u0026lt;?\u0026gt; valueType = mapType.resolveGeneric(1); if (valueType == null) { return null; } Map\u0026lt;String, Object\u0026gt; matchingBeans = findAutowireCandidates(beanName, valueType, new MultiElementDescriptor(descriptor)); if (matchingBeans.isEmpty()) { return null; } if (autowiredBeanNames != null) { autowiredBeanNames.addAll(matchingBeans.keySet()); } return matchingBeans; } else { return null; } } ","date":"2022-12-21T16:14:11.235Z","permalink":"https://wlngo.github.io/archives/spring-zhu-ru-bean-dao-listmap-zhong/","title":"Spring æ³¨å…¥ Bean åˆ° List / Map ä¸­"},{"content":"idea æœç´¢\n1 Vulnerable declared dependency ","date":"2022-12-18T19:29:08.351Z","permalink":"https://wlngo.github.io/archives/idea-ping-bi-cev-jian-ce/","title":"idea å±è”½cevæ£€æµ‹"},{"content":"https://github.com/chaifeng/ufw-docker\n","date":"2022-12-18T19:27:27.389Z","permalink":"https://wlngo.github.io/archives/ufw-he-docker-chong-tu-wen-ti/","title":"ufw å’Œdocker å†²çªé—®é¢˜"},{"content":"æ‰“å¼€ç®¡ç†é¡µé¢ æ‰“å¼€chromeæµè§ˆå™¨ï¼Œåœ°å€æ è¾“å…¥ä»¥ä¸‹åè®®å¹¶å›è½¦\n1 chrome://net-internals/#hsts æµè§ˆå™¨ä¸­å°†ä¼šå‡ºç°ä»¥ä¸‹é¡µé¢ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ“ä½œå°†å·²ç»è‡ªåŠ¨è½¬httpsåè®®çš„åŸŸåä»chromeä¸­ç§»é™¤\nDomain Security Prolicy Delete remain security prolicies ","date":"2022-12-16T15:44:51.649Z","permalink":"https://wlngo.github.io/archives/chrome-jie-jue-http-zi-dong-tiao-zhuan-https-wen-ti/","title":"chromeè§£å†³httpè‡ªåŠ¨è·³è½¬httpsé—®é¢˜"},{"content":"å·¥å‚æ¨¡å¼\n","date":"2022-12-11T22:03:00.603Z","permalink":"https://wlngo.github.io/archives/she-ji-mo-shi-gong-chang-mo-shi/","title":"è®¾è®¡æ¨¡å¼ å·¥å‚æ¨¡å¼"},{"content":"https://hub.docker.com/r/yapipro/yapi\n","date":"2022-11-27T22:23:20.927Z","permalink":"https://wlngo.github.io/archives/dcoker-an-zhuang-yapi/","title":"Dcoker å®‰è£… yapi"},{"content":"â˜…â˜…å…¨å®¶æ¡¶ä¸€é”®æ¿€æ´»â˜…â˜…â˜… https://wws.lanzouh.com/b03j22eta å¯†ç :3kqv win/mac/linuxå…¨éƒ¨åœ¨å†… ä¸‹è½½è§£å‹æ‰“å¼€å¯¹åº”çš„æ–‡ä»¶å¤¹ æœ‰æ•™ç¨‹è¯´æ˜ 2018-2021ç‰ˆæœ¬æ¿€æ´»ä»¥å2099å¹´åˆ°æœŸ 2022ç‰ˆæœ¬æ¿€æ´»å¯ä»¥æ¿€æ´»åˆ°2025å¹´ è¯·æŒ‰æ‰€éœ€æ¿€æ´»è½¯ä»¶ï¼ã€‚ ç¥æ‚¨ä»Šå¤©å¥½å¿ƒæƒ…ï¼Œå·¥ä½œé¡ºåˆ©ï¼Œç”Ÿæ´»ç”œç¾ï¼\n","date":"2022-09-04T18:01:52.986Z","permalink":"https://wlngo.github.io/archives/ruan-jian/","title":"è½¯ä»¶"},{"content":"å®˜æ–¹æ–‡æ¡£ï¼šhttp://openresty.org/cn/\nå®˜æ–¹æ–‡æ¡£apiï¼šhttps://openresty-reference.readthedocs.io/en/latest/Directives/\nå®˜æ–¹æ–‡æ¡£åšå®¢: https://blog.openresty.com.cn/cn/\n","date":"2022-09-01T14:44:36.567Z","permalink":"https://wlngo.github.io/archives/openresty/","title":"openresty"},{"content":"å®˜æ–¹æ–‡æ¡£ https://www.jfrog.com/confluence/display/JFROG/Installing%20Artifactory å®‰è£…\n1 2 3 4 5 6 7 8 9 10 11 12 mkdir -p $JFROG_HOME/artifactory-jcr mkdir -p $JFROG_HOME/artifactory-oss mkdir -p $JFROG_HOME/artifactory-oss/var/etc/ cd $JFROG_HOME/artifactory-oss/var/etc/ touch ./system.yaml chown -R 1030:1030 $JFROG_HOME/artifactory-oss/var mkdir -p $JFROG_HOME/artifactory-jcr/var/etc/ cd $JFROG_HOME/artifactory-jcr/var/etc/ touch ./system.yaml chown -R 1030:1030 $JFROG_HOME/artifactory-jcr/var docker run --restart=always --name artifactory-oss -v $JFROG_HOME/artifactory-oss/var/:/var/opt/jfrog/artifactory -d -p 8010:8081 -p 8020:8082 releases-docker.jfrog.io/jfrog/artifactory-oss:7.49.10 docker run --restart=always --name artifactory-jcr -v $JFROG_HOME/artifactory-jcr/var/:/var/opt/jfrog/artifactory -d -p 8030:8081 -p 8040:8082 releases-docker.jfrog.io/jfrog/artifactory-jcr:7.49.10 nginx ä»£ç†ç«¯å£è¦ä¿æŒä¸€è‡´ é…ç½®éœ€è¦ä»ç®¡ç†é¡µé¢ä¸‹è½½\né™åˆ¶å†…å­˜ system.yaml\n1 2 shared: extraJavaOpts: \u0026#34;-server -Xms512m -Xmx2g -Xss256k -XX:+UseG1GC\u0026#34; ","date":"2022-08-03T10:29:54.757Z","permalink":"https://wlngo.github.io/archives/jfrogjava-er-jin-zhi-bao-guan-li-gong-ju/","title":"JFROG java äºŒè¿›åˆ¶åŒ…ç®¡ç†å·¥å…·"},{"content":"æ‹‰å–é•œåƒ 1 docker pull mongo 1 docker pull mongo è¿è¡Œå®¹å™¨ 1 2 docker run --name some-mongo -d --net mongo -p 27017:27017 --restart=on-fa ilure:3 mongo å¯è§†åŒ–web 1 docker run -d --name mongo-express --net mongo -e ME_CONFIG_MONGODB_SERVER=some-mongo -p 8081:8081 --restart=always mongo-express ","date":"2022-08-01T18:11:44.253Z","permalink":"https://wlngo.github.io/archives/docker-an-zhuang-mongodb/","title":"docker å®‰è£…  mongodb"},{"content":" 1 -Xshare:off --add-opens java.base/java.util=ALL-UNNAMED ","date":"2022-07-31T11:52:27.965Z","permalink":"https://wlngo.github.io/archives/jdk17-xu-ni-ji-can-shu/","title":"JDK 17 è™šæ‹Ÿæœºå‚æ•°"},{"content":"å®˜ç½‘æ–‡æ¡£ https://docs.gitlab.cn/jh/install/docker.html\nå‘½ä»¤(æœ€æ–°ç‰ˆæœ¬16.2.1)\n1 2 3 4 5 6 7 8 9 10 sudo docker run --detach \\ --hostname www.wlngo.top \\ --publish 8443:8443 --publish 8480:80 --publish 8422:22 --publish 8450:8450\\ --name gitlab \\ --restart always \\ --volume $GITLAB_HOME/config:/etc/gitlab \\ --volume $GITLAB_HOME/logs:/var/log/gitlab \\ --volume $GITLAB_HOME/data:/var/opt/gitlab \\ --shm-size 256m \\ gitlab/gitlab-ee:17.0.2-ee.0 1 sudo docker exec -it gitlab grep \u0026#39;Password:\u0026#39; /etc/gitlab/initial_root_password https://docs.gitlab.cn/omnibus/settings/smtp.html#qq-exmail\n1 2 #é‚®ç®±å‘ä»¶äººåå­— gitlab_rails[\u0026#39;gitlab_email_display_name\u0026#39;] = \u0026#39;é­äº®å®\u0026#39; 1 2 3 4 docker exec -it gitlab /bin/bash gitlab-ctl reconfigure gitlab-rails console Notify.test_email(\u0026#39;2252603132@qq.com\u0026#39;,\u0026#39;test\u0026#39;,\u0026#39;test\u0026#39;).deliver_now ","date":"2022-07-30T11:23:46.585Z","permalink":"https://wlngo.github.io/archives/docker-an-zhuang-gitlab/","title":"docker å®‰è£… gitlab"},{"content":"ä¸‹è½½é•œåƒ 1 docker pull jenkins/jenkins:lts-jdk11 è¿è¡Œé•œåƒ(ä¸å¿…é™åˆ¶å†…å­˜ ) 1 2 3 4 5 docker run -d --name jenkins -p 8050:8080 -p 50000:50000 \\ -v /opt/jenkins_home:/var/jenkins_home -v /root/.m2:/root/.m2 -uroot \\ -v /root/tls/docker/:/root/tls/docker \\ -e JAVA_OPTS:\u0026#34;-Xmx4g -Xms4g\u0026#34;--restart=always \\ weiliangning.work:18040/docker/jenkins/jenkins:lts-jdk17 é»˜è®¤å®‰è£… é…ç½®å…¨å±€å·¥å…· jdk git maven é…ç½®æ’ä»¶ github maven ssh è®¾ç½®maven é˜¿é‡Œäº‘ä»£ç†é…ç½® é»˜è®¤è·¯å¾„åœ¨ è´¦å·Jenkinsï¼ˆé»˜è®¤è¿›å…¥å®¹å™¨è´¦å·ï¼‰ ~ æ ¹è·¯å¾„ä¸‹.m2 éšè—æ–‡ä»¶ è®¾ç½®github æœåŠ¡å™¨ å‡­æ®è·å– ã€\nWebhooksé’©å­å‡½æ•° æ„å»ºåæ‰§è¡Œè„šæœ¬ ","date":"2022-07-30T11:14:50.437Z","permalink":"https://wlngo.github.io/archives/docker-an-zhuang-jenkins/","title":"docker å®‰è£…jenkins"},{"content":"æ‹‰å»é•œåƒ 1 docker pull logstash:8.6.0 è¿è¡Œlogstash 1 2 3 4 5 6 7 docker run -d -it --name logstash --net elknetwork \\ -p 5044:5044 -p 9600:9600 --restart=always \\ -v /opt/javarun/:/opt/javarun \\ -v /opt/elk/logstash/data:/usr/share/logstash/data \\ -v /opt/elk/logstash/pipeline/:/usr/share/logstash/pipeline/ \\ -v /opt/elk/logstash/config/:/usr/share/logstash/config/ \\ logstash:8.6.0 ","date":"2022-07-30T11:05:13.463Z","permalink":"https://wlngo.github.io/archives/docker-an-zhuang-logstash833/","title":"docker å®‰è£…Logstash:8.6.0"},{"content":"Halo åšå®¢å®˜ç½‘æ–‡æ¡£ https://docs.halo.run/\ndocker è¿è¡Œå‘½ä»¤ 1 2 3 4 5 6 7 docker run -it -d --name halo -p 8090:8090 \\ -v ~/.halo2:/root/.halo2 -e JVM_OPTS=\u0026#34;-Xmx1024m -Xms1024m\u0026#34; \\ registry.fit2cloud.com/halo/halo:2.20 \\ --spring.r2dbc.url=r2dbc:pool:mysql://192.168.123.124:3306/halo2 \\ --spring.r2dbc.username=root \\ --spring.r2dbc.password=password \\ --spring.sql.init.platform=mysql ","date":"2022-07-30T10:53:08.301Z","permalink":"https://wlngo.github.io/archives/halo-bo-ke-da-jian-he-qian-yi/","title":"Halo åšå®¢æ­å»ºå’Œè¿ç§»"},{"content":"https://www.cnblogs.com/lgx5/p/10732016.html\n","date":"2022-07-28T23:15:53.332Z","permalink":"https://wlngo.github.io/archives/npm-an-zhuang/","title":"npm å®‰è£…"},{"content":"ä¸‹è½½é•œåƒ 1 docker pull kibana:8.6.0 åˆ›å»ºdockeç½‘ç»œ 1 docker network create elknetwork è¿è¡Œé•œåƒ 1 2 3 4 5 6 7 8 9 docker run -d --name kibana --restart=always -p 5601:5601 \\ -v /opt/elk/kibana/config/:/usr/share/kibana/config/ \\ -v /opt/elk/kibana/data/:/usr/share/kibana/data/ \\ -v /opt/elk/kibana/plugins/:/usr/share/kibana/plugins/ \\ -v /opt/elk/kibana/logs/:/usr/share/kibana/logs/ \\ -e TZ=Asia/Shanghai \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ kibana:8.6.0 å…ˆä½¿ç”¨é»˜è®¤çš„Elasticsearch https çš„è®¾ç½® ä¸åšä¿®æ”¹ åé¢æ”¹ä¸ºhttp ä¸ç„¶ kibana æ— æ³•å¯åŠ¨ è¿›å…¥elasticsearch é•œåƒç”Ÿäº§token 1 docker exec -it elasticsearch /bin/bash 1 sh bin/elasticsearch-create-enrollment-token --scope kibana kibanaé…ç½®æ–‡ä»¶å¿…é¡»ä¸ºé»˜è®¤çš„ æ‰èƒ½è®¾ç½®(ç‰©ç†æœºé€‰æ‹©è´¦å·å¯†ç å®‰è£…) 1 2 3 4 5 # Default Kibana configuration for docker target server.host: \u0026#34;0.0.0.0\u0026#34; server.shutdownTimeout: \u0026#34;5s\u0026#34; elasticsearch.hosts: [ \u0026#34;http://elasticsearch:9200\u0026#34; ] monitoring.ui.container.elasticsearch.enabled: true è¿›å…¥kibana é•œåƒè·å–éªŒè¯ç  1 docker exec -it kibana /bin/bash 1 sh bin/kibana-verification-code ä¿®æ”¹Elasticsearch å¯†ç  1 docker exec -it elasticsearch /bin/bash 1 sh bin/elasticsearch-reset-password --username elastic -i ç”Ÿæˆæ’ä»¶åŠ å¯†å¯†é’¥å¹¶ æ·»åŠ åˆ° kibana.yml 1 docker exec -it kibana /bin/bash 1 sh bin/kibana-encryption-keys generate ä¿®æ”¹ kibana ä¸ºä¸­æ–‡ å’Œä¿®æ”¹esåœ°å€ï¼ˆå¦åˆ™å¯¼è‡´é‡å¯åæ— æ³•æˆåŠŸå¯åŠ¨ ä¿®æ”¹ä¸ºhttpåè®®ï¼‰ 1 docker cp kibana:/usr/share/kibana/config/kibana.yml ~ ä¿®æ”¹ipä¸ºå®¹å™¨åŸŸå ä¿®æ”¹ä¸ºhttpåè®® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 # # ** THIS IS AN AUTO-GENERATED FILE ** # # Default Kibana configuration for docker target #server.host: \u0026#34;0.0.0.0\u0026#34; #server.shutdownTimeout: \u0026#34;5s\u0026#34; #elasticsearch.hosts: [ \u0026#34;http://elasticsearch:9200\u0026#34; ] #monitoring.ui.container.elasticsearch.enabled: true ### \u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt; BACKUP END: Kibana interactive setup (2022-07-30T02:22:45.284Z) # This section was automatically generated during setup. server.host: 0.0.0.0 server.shutdownTimeout: 5s elasticsearch.hosts: [\u0026#39;http://elasticsearch:9200\u0026#39;] monitoring.ui.container.elasticsearch.enabled: true elasticsearch.serviceAccountToken: AAEAAWVsYXN0aWMva2liYW5hL2Vucm9sbC1wcm9jZXNzLXRva2VuLTE2NTkxNDc3NjQ1NTc6NTdaNWtlOHJULXlSWkFfaVg2WWdSUQ elasticsearch.ssl.certificateAuthorities: [/usr/share/kibana/data/ca_1659147765281.crt] xpack.fleet.outputs: [{id: fleet-default-output, name: default, is_default: true, is_default_monitoring: true, type: elasticsearch, hosts: [\u0026#39;http://elasticsearch:9200\u0026#39;], ca_trusted_fingerprint: 9983b684a10b3cbc24e1c5816d911bdcdb323545fb36bb5fc3f685f3214efae9}] #ä¸­æ–‡ i18n.locale: \u0026#34;zh-CN\u0026#34; xpack.encryptedSavedObjects.encryptionKey: b363ba8a4cba829a212a9b1202ea2bb7 xpack.reporting.encryptionKey: b98e56b7304314427f71ec57d1a9d53d xpack.security.encryptionKey: dc7505bc23e41561e586a025e4d83a45 1 docker cp kibana.yml kibana:/usr/share/kibana/config/kibana.yml ä¿®æ”¹Elasticsearch ä¸ºhttp åè®® 1 docker exec -it elasticsearch /bin/bash 1 docker cp elasticsearch:/usr/share/elasticsearch/config/elasticsearch.yml ~ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 cluster.name: \u0026#34;docker-cluster\u0026#34; network.host: 0.0.0.0 #----------------------- BEGIN SECURITY AUTO CONFIGURATION ----------------------- # # The following settings, TLS certificates, and keys have been automatically # generated to configure Elasticsearch security features on 30-07-2022 02:12:38 # # -------------------------------------------------------------------------------- # Enable security features xpack.security.enabled: true xpack.security.enrollment.enabled: true # Enable encryption for HTTP API client connections, such as Kibana, Logstash, and Agents xpack.security.http.ssl: enabled: false keystore.path: certs/http.p12 # Enable encryption and mutual authentication between cluster nodes xpack.security.transport.ssl: enabled: true verification_mode: certificate keystore.path: certs/transport.p12 truststore.path: certs/transport.p12 #----------------------- END SECURITY AUTO CONFIGURATION ------------------------- 1 docker cp elasticsearch.yml elasticsearch:/usr/share/elasticsearch/config/elasticsearch.yml é‡å¯å®¹å™¨ ","date":"2022-07-28T20:19:12.545Z","permalink":"https://wlngo.github.io/archives/docker-an-zhuang-kibana832/","title":"docker å®‰è£… kibana:8.6.0"},{"content":"ä¸‹è½½é•œåƒ 1 docker pull elasticsearch:8.6.0 åˆ›å»ºdockeç½‘ç»œ 1 docker network create elknetwork è¿è¡Œé•œåƒ 1 2 3 4 5 6 7 8 9 10 docker run -d --name elasticsearch --restart=always \\ -p 9200:9200 -p 9300:9300 -e \u0026#34;discovery.type=single-node\u0026#34; \\ -e TZ=Asia/Shanghai \\ -v /etc/timezone:/etc/timezone:ro \\ -v /etc/localtime:/etc/localtime:ro \\ -v /opt/elk/elasticsearch/config:/usr/share/elasticsearch/config \\ -v /opt/elk/elasticsearch/data:/usr/share/elasticsearch/data \\ -v /opt/elk/elasticsearch/plugins:/usr/share/elasticsearch/plugins \\ -v /opt/elk/elasticsearch/logs:/usr/share/elasticsearch/logs \\ elasticsearch:8.6.0 ","date":"2022-07-28T20:17:55.962Z","permalink":"https://wlngo.github.io/archives/docker-an-zhuang-elasticsearch832/","title":"docker å®‰è£…Elasticsearch:8.6.0"},{"content":" 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 #!/bin/bash REPO_URL=\u0026#39;http://10.33.6.49:8081/repository/yapi_npm/\u0026#39; USERNAME=\u0026#39;admin\u0026#39; PASSWORD=\u0026#39;admin123\u0026#39; MULU=\u0026#39;/home/keyvalue/Documents/node_modules\u0026#39; HASFILE=\u0026#39;package.json\u0026#39; for file in \u0026#34;$MULU\u0026#34;/*; do if [ -d \u0026#34;$file\u0026#34; ]; then # echo $file #è¿™é‡Œå†™ä¸Šä¼ ä»£ç  $fileæ˜¯ç›®å½•å if [ -f \u0026#34;$file/$HASFILE\u0026#34; ];then echo \u0026#34;$file/$HASFILE\u0026#34; cd \u0026#34;$file\u0026#34; npm publish --registry \u0026#34;$REPO_URL\u0026#34; fi; fi; done ","date":"2022-07-14T19:07:21.188Z","permalink":"https://wlngo.github.io/archives/nexus3-pi-liang-dao-ru-npm-bao/","title":"nexus3 æ‰¹é‡å¯¼å…¥npmåŒ…"},{"content":"https://hub.docker.com/\n","date":"2022-07-13T20:45:11.964Z","permalink":"https://wlngo.github.io/archives/dockerhub-guan-wang/","title":"Docker hub å®˜ç½‘"},{"content":"è®¾ç½®nexus3 æ··åˆä»“åº“\nå…è®¸é‡æ–°éƒ¨ç½²å’Œæ›´æ–° æ‰¹é‡å¯¼å…¥shellè„šæœ¬\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 #!/bin/bash # copy and run this script to the root of the repository directory containing files # this script attempts to exclude uploading itself explicitly so the script name is important # Get command line params while getopts \u0026#34;:r:u:p:\u0026#34; opt; do case $opt in r) REPO_URL=\u0026#34;$OPTARG\u0026#34; ;; u) USERNAME=\u0026#34;$OPTARG\u0026#34; ;; p) PASSWORD=\u0026#34;$OPTARG\u0026#34; ;; esac done find . -type f -not -path \u0026#39;./mavenimport\\.sh*\u0026#39; -not -path \u0026#39;*/\\.*\u0026#39; -not -path \u0026#39;*/\\^archetype\\-catalog\\.xml*\u0026#39; -not -path \u0026#39;*/\\^maven\\-metadata\\-local*\\.xml\u0026#39; -not -path \u0026#39;*/\\^maven\\-metadata\\-deployment*\\.xml\u0026#39; | sed \u0026#34;s|^\\./||\u0026#34; | xargs -I \u0026#39;{}\u0026#39; curl -u \u0026#34;$USERNAME:$PASSWORD\u0026#34; -X PUT -v -T {} ${REPO_URL}/{} ; å¯ä»¥å‘½åä¸ºmavenimport.sh\nä½¿ç”¨æ–¹æ³• ./mavenimport.sh -u ä½ çš„nexus3è´¦å· -p ä½ çš„nexus3å¯†ç  -r ä»“åº“åœ°å€\n","date":"2022-07-13T17:45:35.139Z","permalink":"https://wlngo.github.io/archives/nexus3-pi-liang-dao-ru-jar-bao/","title":"nexus3 æ‰¹é‡å¯¼å…¥jaråŒ…"},{"content":"#Apache POI\næè¿°ï¼š å¼ºå¤§æ“ä½œword å’Œexcelå·¥å…·ï¼Œæ”¯æŒå„ç§å¤æ‚æ•°æ®å¯¼å‡ºå¯¼å‡º\njar åŒ…å…³ç³»ç»“æ„ å¸¸ç”¨maven ä¾èµ–ç½‘å€ https://mvnrepository.com/artifact/org.apache.poi/poi\nï¼ˆæ—§ç‰ˆæœ¬ word å’Œexcelï¼‰ https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml ï¼ˆæ–°ç‰ˆæœ¬ word å’Œexcelï¼‰\nEasypoi æè¿°ï¼š easypoiåŠŸèƒ½å¦‚åŒåå­—easy,ä¸»æ‰“çš„åŠŸèƒ½å°±æ˜¯å®¹æ˜“,è®©ä¸€ä¸ªæ²¡è§æ¥è§¦è¿‡poiçš„äººå‘˜ å°±å¯ä»¥æ–¹ä¾¿çš„å†™å‡ºExcelå¯¼å‡º,Excelæ¨¡æ¿å¯¼å‡º,Excelå¯¼å…¥,Wordæ¨¡æ¿å¯¼å‡º,é€šè¿‡ç®€å•çš„æ³¨è§£å’Œæ¨¡æ¿ è¯­è¨€(ç†Ÿæ‚‰çš„è¡¨è¾¾å¼è¯­æ³•),å®Œæˆä»¥å‰å¤æ‚çš„å†™æ³•\nmaven ä¾èµ–ç½‘å€ å®˜ç½‘ http://doc.wupaas.com/docs/easypoi/easypoi-1c0u4mo8p4ro8\nå®˜æ–¹æ–‡æ¡£ http://easypoi.mydoc.io/#text_217736\nmaven ä¾èµ–ç½‘å€ï¼ˆspring bootï¼‰ https://mvnrepository.com/artifact/cn.afterturn/easypoi-spring-boot-starter\nEasyExcel æè¿°ï¼š JAVAè§£æExcelå·¥å…·EasyExcel aliç³»å¼€æºäº§å“\nå®˜ç½‘æ–‡æ¡£ https://easyexcel.opensource.alibaba.com/\nmaven ä¾èµ–ç½‘å€ï¼ˆspring bootï¼‰ https://mvnrepository.com/artifact/com.alibaba/easyexcel\n","date":"2022-07-11T15:08:00.589Z","permalink":"https://wlngo.github.io/archives/java%E6%93%8D%E4%BD%9Cword%E5%92%8Cexcel/","title":"Java æ“ä½œword å’Œexcel"},{"content":"å®‰è£…å‘½ä»¤ æ‹‰å–é•œåƒ\n1 docker pull jacekkow/gitblit å¯åŠ¨é•œåƒ\n1 2 3 4 sudo docker run -d --name gitblit -v /opt/gitblit-data:/opt/gitblit-data -p 8443:8443 -p 8080:8080 -p 9418:9418 -p 29418:29418 --restart=always jacekkow/gitblit ","date":"2022-07-09T22:12:22.074Z","permalink":"https://wlngo.github.io/archives/docker%E5%AE%89%E8%A3%85gitblit/","title":"Docker å®‰è£…git ç§æœ gitblit"}]